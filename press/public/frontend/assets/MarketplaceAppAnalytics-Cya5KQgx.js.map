{"version":3,"file":"MarketplaceAppAnalytics-Cya5KQgx.js","sources":["../../../../dashboard/src2/components/marketplace/MarketplaceAppAnalytics.vue"],"sourcesContent":["<template>\n\t<div v-if=\"$resources.analytics.data\">\n\t\t<div class=\"col-span-2 mb-5 rounded-md border\">\n\t\t\t<div class=\"grid grid-cols-2 lg:grid-cols-5\">\n\t\t\t\t<div class=\"border-b border-r p-5 lg:border-b-0\">\n\t\t\t\t\t<div class=\"text-base text-gray-700\">Total Installs</div>\n\t\t\t\t\t<div class=\"mt-2 flex items-start justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"leading-4\">\n\t\t\t\t\t\t\t\t<span class=\"text-base text-gray-900\">\n\t\t\t\t\t\t\t\t\t{{ installAnalytics.total_installs }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"border-b border-r p-5 lg:border-b-0\">\n\t\t\t\t\t<div class=\"text-base text-gray-700\">Active Sites</div>\n\t\t\t\t\t<div class=\"mt-2 flex items-start justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"leading-4\">\n\t\t\t\t\t\t\t\t<span class=\"text-base text-gray-900\">\n\t\t\t\t\t\t\t\t\t{{ installAnalytics.installs_active_sites }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"border-b border-r p-5 lg:border-b-0\">\n\t\t\t\t\t<div class=\"text-base text-gray-700\">Active Bench Groups</div>\n\t\t\t\t\t<div class=\"mt-2 flex items-start justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"leading-4\">\n\t\t\t\t\t\t\t\t<span class=\"text-base text-gray-900\">\n\t\t\t\t\t\t\t\t\t{{ installAnalytics.installs_active_benches }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"border-b border-r p-5 lg:border-b-0\">\n\t\t\t\t\t<div class=\"text-base text-gray-700\">Weekly Installs</div>\n\t\t\t\t\t<div class=\"mt-2 flex items-start justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"leading-4\">\n\t\t\t\t\t\t\t\t<span class=\"text-base text-gray-900\">\n\t\t\t\t\t\t\t\t\t{{ installAnalytics.installs_last_week }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"border-b border-r p-5 lg:border-b-0\">\n\t\t\t\t\t<div class=\"text-base text-gray-700\">Total Earnings</div>\n\t\t\t\t\t<div class=\"mt-2 flex items-start justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"leading-4\">\n\t\t\t\t\t\t\t\t<span class=\"text-base text-gray-900\">\n\t\t\t\t\t\t\t\t\t{{ $format.userCurrency(totalEarnings) }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tv-if=\"$resources.plausible_analytics.data\"\n\t\t\tclass=\"grid grid-cols-1 gap-5 lg:grid-cols-2\"\n\t\t>\n\t\t\t<LineChart\n\t\t\t\ttitle=\"Pageviews\"\n\t\t\t\ttype=\"time\"\n\t\t\t\tkey=\"Page Views\"\n\t\t\t\t:data=\"\n\t\t\t\t\tmapChartAnalytics(\n\t\t\t\t\t\tthis.$resources.plausible_analytics.data?.pageviews || []\n\t\t\t\t\t)\n\t\t\t\t\"\n\t\t\t\tunit=\"views\"\n\t\t\t\t:chartTheme=\"[$theme.colors.purple[500]]\"\n\t\t\t\t:loading=\"$resources.plausible_analytics.loading\"\n\t\t\t\t:error=\"$resources.plausible_analytics.error\"\n\t\t\t/>\n\t\t\t<LineChart\n\t\t\t\ttitle=\"Unique Visitors\"\n\t\t\t\ttype=\"time\"\n\t\t\t\tkey=\"Unique Visitors\"\n\t\t\t\t:data=\"\n\t\t\t\t\tmapChartAnalytics(\n\t\t\t\t\t\tthis.$resources.plausible_analytics.data?.visitors || []\n\t\t\t\t\t)\n\t\t\t\t\"\n\t\t\t\tunit=\"visitors\"\n\t\t\t\t:chartTheme=\"[$theme.colors.green[500]]\"\n\t\t\t\t:loading=\"$resources.plausible_analytics.loading\"\n\t\t\t\t:error=\"$resources.plausible_analytics.error\"\n\t\t\t/>\n\t\t</div>\n\t\t<LineChart\n\t\t\tv-if=\"$resources.plausible_analytics.data\"\n\t\t\tclass=\"mt-5\"\n\t\t\ttitle=\"Weekly Installs\"\n\t\t\ttype=\"time\"\n\t\t\tkey=\"Weekly Installs\"\n\t\t\t:data=\"\n\t\t\t\tmapChartAnalytics(\n\t\t\t\t\tthis.$resources.plausible_analytics.data?.weekly_installs || []\n\t\t\t\t)\n\t\t\t\"\n\t\t\tunit=\"installs\"\n\t\t\t:chartTheme=\"[$theme.colors.yellow[500]]\"\n\t\t\t:loading=\"$resources.plausible_analytics.loading\"\n\t\t\t:error=\"$resources.plausible_analytics.error\"\n\t\t/>\n\t</div>\n</template>\n\n<script>\nimport { DateTime } from 'luxon';\nimport LineChart from '@/components/charts/LineChart.vue';\n\nexport default {\n\tname: 'MarketplaceAppAnalytics',\n\tprops: {\n\t\tapp: String\n\t},\n\tcomponents: {\n\t\tLineChart\n\t},\n\tmethods: {\n\t\tformatDate(data) {\n\t\t\treturn data.map(d => d.date);\n\t\t},\n\t\tgetChartOptions(yFormatter) {\n\t\t\treturn {\n\t\t\t\taxisOptions: {\n\t\t\t\t\txIsSeries: true,\n\t\t\t\t\tshortenYAxisNumbers: 1\n\t\t\t\t},\n\t\t\t\tlineOptions: {\n\t\t\t\t\thideDots: true,\n\t\t\t\t\tregionFill: true\n\t\t\t\t},\n\t\t\t\ttooltipOptions: {\n\t\t\t\t\tformatTooltipX: d => {\n\t\t\t\t\t\treturn DateTime.fromISO(d).toLocaleString(DateTime.DATE_MED);\n\t\t\t\t\t},\n\t\t\t\t\tformatTooltipY: yFormatter\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tmapChartAnalytics(data) {\n\t\t\tif (!data) return;\n\t\t\treturn {\n\t\t\t\tdatasets: [data.map(d => [+new Date(d.date), d.value])]\n\t\t\t};\n\t\t}\n\t},\n\tresources: {\n\t\tanalytics() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.marketplace.analytics',\n\t\t\t\tauto: true,\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.app\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tplausible_analytics() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.analytics.plausible_analytics',\n\t\t\t\tauto: true,\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.app\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tinstallAnalytics() {\n\t\t\tif (\n\t\t\t\t!this.$resources.analytics.loading &&\n\t\t\t\tthis.$resources.analytics.data\n\t\t\t) {\n\t\t\t\treturn this.$resources.analytics.data;\n\t\t\t}\n\t\t\treturn {};\n\t\t},\n\t\ttotalEarnings() {\n\t\t\tif (!this.installAnalytics.total_payout.inr_amount) return 0;\n\n\t\t\tif (this.$team.doc.currency === 'INR') {\n\t\t\t\treturn (\n\t\t\t\t\tthis.installAnalytics.total_payout.inr_amount +\n\t\t\t\t\tthis.installAnalytics.total_payout.usd_amount * 82\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\tthis.installAnalytics.total_payout.inr_amount / 82 +\n\t\t\t\t\tthis.installAnalytics.total_payout.usd_amount\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","LineChart","data","d","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_cache","_toDisplayString","$options","_ctx","_hoisted_24","_a","_b","_createCommentVNode","_c"],"mappings":"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"}