{"version":3,"file":"MarketplaceAppReview-CId88Wfj.js","sources":["../../../../dashboard/src/components/global/GrayCheckIcon.vue","../../../../dashboard/src/components/marketplace/MarketplaceAppReviewStages.vue","../../../../dashboard/src/views/marketplace/MarketplaceAppReview.vue"],"sourcesContent":["<template>\n\t<div\n\t\tclass=\"grid h-4 w-4 shrink-0 place-items-center rounded-full border border-gray-500 bg-gray-500\"\n\t>\n\t\t<svg\n\t\t\twidth=\"10\"\n\t\t\theight=\"8\"\n\t\t\tviewBox=\"0 0 10 8\"\n\t\t\tfill=\"none\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t>\n\t\t\t<path\n\t\t\t\td=\"M1.26562 3.86686L3.93229 6.53353L9.26562 1.2002\"\n\t\t\t\tstroke=\"#FBFBF8\"\n\t\t\t\tstroke-miterlimit=\"10\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t/>\n\t\t</svg>\n\t</div>\n</template>\n","<template>\n\t<CardWithDetails\n\t\tv-if=\"reviewStages\"\n\t\ttitle=\"Review Steps\"\n\t\t:subtitle=\"\n\t\t\tapp.review_stage === 'Not Started'\n\t\t\t\t? 'Complete all the steps before submitting for a review'\n\t\t\t\t: 'App is sent for review'\n\t\t\"\n\t>\n\t\t<ListItem v-for=\"step in reviewStages\" :key=\"step.step\" :title=\"step.step\">\n\t\t\t<template #actions>\n\t\t\t\t<GreenCheckIcon v-if=\"step.completed\" class=\"h-5 w-5\" />\n\t\t\t\t<GrayCheckIcon v-else class=\"h-5 w-5\" />\n\t\t\t</template>\n\t\t</ListItem>\n\t\t<template #actions>\n\t\t\t<Button\n\t\t\t\tv-if=\"app.status === 'Draft' && app.review_stage === 'Not Started'\"\n\t\t\t\t:disabled=\"reviewStages.some(step => !step.completed)\"\n\t\t\t\t:loading=\"$resources.startReview.isLoading\"\n\t\t\t\t@click=\"$resources.startReview.submit()\"\n\t\t\t\tclass=\"py-5\"\n\t\t\t>\n\t\t\t\tSubmit for Review\n\t\t\t</Button>\n\t\t</template>\n\t\t<template #details>\n\t\t\t<CardDetails>\n\t\t\t\t<div class=\"h-full px-6 py-5\">\n\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h2 class=\"text-xl font-semibold\">Review Communication</h2>\n\t\t\t\t\t\t\t<p class=\"mt-1.5 text-base text-gray-600\">\n\t\t\t\t\t\t\t\tChat with the developer assigned for review\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button @click=\"showReplyDialog = true\"> Reply </Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"mt-4 h-full overflow-auto py-5\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-for=\"message in communication\"\n\t\t\t\t\t\t\tclass=\"mb-4 overflow-auto rounded-lg bg-gray-50 p-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t<div class=\"flex pb-4\">\n\t\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\t\tclass=\"mr-2\"\n\t\t\t\t\t\t\t\t\t\t:label=\"message.sender\"\n\t\t\t\t\t\t\t\t\t\t:image=\"message.user_image\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<span class=\"self-center text-lg font-semibold\">{{\n\t\t\t\t\t\t\t\t\t\tmessage.sender\n\t\t\t\t\t\t\t\t\t}}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span class=\"text-base text-gray-600\">{{\n\t\t\t\t\t\t\t\t\tgetFormattedDateTime(message.communication_date)\n\t\t\t\t\t\t\t\t}}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"text-base\" v-html=\"message.content\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</CardDetails>\n\t\t</template>\n\t</CardWithDetails>\n\t<Dialog\n\t\tv-model=\"showReplyDialog\"\n\t\t:options=\"{\n\t\t\ttitle: 'Reply',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Send',\n\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\tonClick: () => $resources.addReply.submit()\n\t\t\t\t}\n\t\t\t]\n\t\t}\"\n\t>\n\t\t<template v-slot:body-content>\n\t\t\t<FormControl label=\"Message\" v-model=\"message\" type=\"textarea\" required />\n\t\t</template>\n\t</Dialog>\n</template>\n\n<script>\nimport CardWithDetails from '@/components/CardWithDetails.vue';\nimport CardDetails from '@/components/CardDetails.vue';\nimport { notify } from '@/utils/toast';\n\nexport default {\n\tname: 'MarketplaceAppReviewStages',\n\tcomponents: { CardWithDetails, CardDetails },\n\tprops: ['appName', 'app', 'reviewStages'],\n\tdata() {\n\t\treturn {\n\t\t\tshowReplyDialog: false,\n\t\t\tmessage: null\n\t\t};\n\t},\n\tmethods: {\n\t\tgetFormattedDateTime(time) {\n\t\t\tconst date = new Date(time);\n\t\t\treturn date.toLocaleString(undefined, {\n\t\t\t\tdateStyle: 'medium',\n\t\t\t\ttimeStyle: 'short'\n\t\t\t});\n\t\t}\n\t},\n\tresources: {\n\t\tstartReview() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.marketplace.mark_app_ready_for_review',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.appName\n\t\t\t\t},\n\t\t\t\tonSuccess() {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tcommunication() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.marketplace.communication',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.appName\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\taddReply() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.marketplace.add_reply',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.appName,\n\t\t\t\t\tmessage: this.message\n\t\t\t\t},\n\t\t\t\tonSuccess() {\n\t\t\t\t\tthis.showReplyDialog = false;\n\t\t\t\t\tnotify({\n\t\t\t\t\t\ttitle: 'Reply Queued',\n\t\t\t\t\t\tmessage: 'Message reply is queued for sending',\n\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\tcolor: 'green'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.$resources.communication.submit();\n\t},\n\tcomputed: {\n\t\tcommunication() {\n\t\t\treturn this.$resources.communication.data;\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<MarketplaceAppReviewStages\n\t\tv-if=\"$resources.reviewStages\"\n\t\t:appName=\"appName\"\n\t\t:app=\"app\"\n\t\t:reviewStages=\"$resources.reviewStages.data\"\n\t/>\n</template>\n\n<script>\nimport MarketplaceAppReviewStages from '@/components/marketplace/MarketplaceAppReviewStages.vue';\n\nexport default {\n\tname: 'MarketpalceAppReview',\n\tprops: ['appName', 'app'],\n\tcomponents: {\n\t\tMarketplaceAppReviewStages\n\t},\n\tresources: {\n\t\treviewStages() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.marketplace.review_steps',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.appName\n\t\t\t\t},\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_render","_ctx","_cache","_createElementVNode","_sfc_main","CardWithDetails","CardDetails","notify","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_openBlock","_createElementBlock","_Fragment","$props","_withCtx","$event","_createTextVNode","_createCommentVNode","$data","_renderList","$options","message","_toDisplayString","step"],"mappings":"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"}