{"version":3,"file":"AppListingStepsDialog-BJToaQYT.js","sources":["../../../../dashboard/src2/components/marketplace/AppListingStepsDialog.vue"],"sourcesContent":["<template>\n\t<Dialog\n\t\tv-model=\"show\"\n\t\t:options=\"{\n\t\t\ttitle: 'Steps to complete before the app can be published',\n\t\t\tsize: '2xl'\n\t\t}\"\n\t>\n\t\t<template #body-content>\n\t\t\t<div v-if=\"appDoc.doc.review_stage === 'Ready for Review'\">\n\t\t\t\t<p class=\"text-p-base text-gray-700\">\n\t\t\t\t\tYour app is sent for review to our team. Please wait for the review to\n\t\t\t\t\tbe completed.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<ObjectList v-else :options=\"listOptions\" />\n\t\t</template>\n\t\t<template #actions v-if=\"appDoc.doc.review_stage !== 'Ready for Review'\">\n\t\t\t<Button\n\t\t\t\tclass=\"w-full\"\n\t\t\t\tvariant=\"solid\"\n\t\t\t\tlabel=\"Mark app ready for review\"\n\t\t\t\t:loading=\"appDoc.markAppReadyForReview.loading\"\n\t\t\t\t:disabled=\"$resources.reviewSteps.data.some(step => !step.completed)\"\n\t\t\t\t@click=\"appDoc.markAppReadyForReview.submit\"\n\t\t\t/>\n\t\t</template>\n\t</Dialog>\n</template>\n\n<script>\nimport { getCachedDocumentResource } from 'frappe-ui';\nimport ObjectList from '../ObjectList.vue';\n\nexport default {\n\tprops: ['app'],\n\tcomponents: {\n\t\tObjectList\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshow: true\n\t\t};\n\t},\n\tresources: {\n\t\treviewSteps() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.marketplace.review_steps',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.app\n\t\t\t\t},\n\t\t\t\tcache: ['Marketplace App Review Steps', this.app],\n\t\t\t\tauto: true,\n\t\t\t\tinitialData: []\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tappDoc() {\n\t\t\treturn getCachedDocumentResource('Marketplace App', this.app);\n\t\t},\n\t\tlistOptions() {\n\t\t\treturn {\n\t\t\t\tdata: () => this.$resources.reviewSteps.data,\n\t\t\t\thideControls: true,\n\t\t\t\tcolumns: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Step',\n\t\t\t\t\t\tfieldname: 'step'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Completed',\n\t\t\t\t\t\tfieldname: 'completed',\n\t\t\t\t\t\ttype: 'Icon',\n\t\t\t\t\t\twidth: 0.3,\n\t\t\t\t\t\talign: 'center',\n\t\t\t\t\t\tIcon(value) {\n\t\t\t\t\t\t\treturn value ? 'check' : '';\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\ttype: 'Button',\n\t\t\t\t\t\twidth: 0.2,\n\t\t\t\t\t\talign: 'right',\n\t\t\t\t\t\tButton: ({ row }) => {\n\t\t\t\t\t\t\tlet route = `/apps/${this.app}/`;\n\t\t\t\t\t\t\troute += row.step.includes('Publish') ? 'versions' : 'listing';\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tlabel: 'View',\n\t\t\t\t\t\t\t\tvariant: 'ghost',\n\t\t\t\t\t\t\t\troute\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","ObjectList","row","$data","_cache","$event","_createSlots","_withCtx","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","$options","_ctx","step"],"mappings":"8wBAkCA,MAAAA,EAAA,2BAGE,WAAAC,GAED,MAAA,CACC,MAAA,CACC,KAAA,8BAKA,MAAA,CACC,IAAA,qCACA,OAAA,gBAGA,MAAA,CAAA,+BAAA,KAAA,GAAA,EACA,KAAA,kBAGF,GAED,SAAA,CACC,QAAA,qDAIC,MAAA,CACC,KAAA,IAAA,KAAA,WAAA,YAAA,KACA,aAAA,GACA,QAAA,CACC,cAEC,UAAA,QAED,CACC,MAAA,YACA,UAAA,wBAEA,MAAA,GACA,MAAA,oCAGA,GAED,CACC,MAAA,iBAEA,MAAA,iBAEA,OAAA,CAAA,CAAA,IAAAC,KAAA,sFAIC,cAEC,QAAA,gBAGF,CACD,CACD,EAEF,CACD,CACD,oFApGA,WAAAC,EAAA,KAAA,sBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,KAAAE,GAGG,QAAA,qEAGA,CANH,EAAAC,EAAA,CAQa,eAAAC,EAAA,IAAA,iDACVC,EAAA,EAAAC,EAAA,MAAAC,EAAAN,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CACCO,EAAA,IAAA,CAAA,MAAA,2BAAA,EAAA,yFAAA,EAAA,sBAKmB,QAAAC,EAAA,0FAfvB,KAAA,UAAA,GAAAL,EAAA,IAAA,MAmBI,MAAA,SACA,QAAA,QACA,MAAA,4BACC,QAAAK,EAAA,OAAA,sBAAA,QACA,SAAAC,EAAA,WAAA,YAAA,KAAA,KAAAC,GAAA,CAAAA,EAAA,SAAA,EACA,QAAAF,EAAA,OAAA,sBAAA,4DAxBL"}