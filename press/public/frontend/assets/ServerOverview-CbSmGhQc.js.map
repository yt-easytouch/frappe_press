{"version":3,"mappings":"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","names":["_sfc_main","serverName","plan","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","$data","_a","$options","_cache","$event","_withCtx","_createElementVNode","_openBlock","_createElementBlock","_Fragment","_renderList","c","_normalizeClass","_toDisplayString","localTimezone","dayjs","loadavg","percentage","j","data","total","i","values","$props","_createTextVNode","_ctx","ServerLoadAverage","ServerPlansDialog","serverType","defineAsyncComponent","__vitePreload","ServerPlansDialog$1","h","_b","formatBytes","v","doc","currentPlan","planDescription","additionalStorage","currentUsage","diskSize","confirmDialog","_","hide","e","getToastErrorMessage","getDocResource","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","server","d","_createCommentVNode","_hoisted_11","_hoisted_14","action","_createBlock","_component_Button","_mergeProps","_hoisted_15"],"sources":["../../../../dashboard/src2/components/server/ServerPlansDialog.vue","../../../../dashboard/src2/components/server/ServerLoadAverage.vue","../../../../dashboard/src2/components/server/ServerOverview.vue"],"sourcesContent":["<template>\n\t<Dialog\n\t\t:options=\"{\n\t\t\ttitle: 'Change Plan',\n\t\t\tsize: '5xl',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Change plan',\n\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\tonClick: changePlan,\n\t\t\t\t\tdisabled: !plan || plan === $server?.doc.plan\n\t\t\t\t}\n\t\t\t]\n\t\t}\"\n\t\tv-model=\"show\"\n\t>\n\t\t<template #body-content>\n\t\t\t<div class=\"mb-4 mt-2 w-full space-y-2\">\n\t\t\t\t<div class=\"grid grid-cols-2 gap-3\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tv-for=\"c in [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Standard',\n\t\t\t\t\t\t\t\tdescription: 'Includes standard support and SLAs'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'Premium',\n\t\t\t\t\t\t\t\tdescription: 'Includes enterprise support and SLAs'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\"\n\t\t\t\t\t\t:key=\"c.name\"\n\t\t\t\t\t\t@click=\"planType = c.name\"\n\t\t\t\t\t\t:class=\"[\n\t\t\t\t\t\t\tplanType === c.name\n\t\t\t\t\t\t\t\t? 'border-gray-900 ring-1 ring-gray-900 hover:bg-gray-100'\n\t\t\t\t\t\t\t\t: 'border-gray-400 bg-white text-gray-900 ring-gray-200 hover:bg-gray-50',\n\t\t\t\t\t\t\t'flex w-full items-center rounded border p-3 text-left text-base text-gray-900'\n\t\t\t\t\t\t]\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex w-full items-center justify-between space-x-2\">\n\t\t\t\t\t\t\t<span class=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t{{ c.name }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<Tooltip :text=\"c.description\">\n\t\t\t\t\t\t\t\t<i-lucide-info class=\"h-4 w-4 text-gray-500\" />\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ServerPlansCards\n\t\t\t\tv-model=\"plan\"\n\t\t\t\t:plans=\"\n\t\t\t\t\tplanType === 'Premium'\n\t\t\t\t\t\t? $resources.serverPlans.data.filter(p => p.premium === 1)\n\t\t\t\t\t\t: $resources.serverPlans.data.filter(p => p.premium === 0)\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<ErrorMessage class=\"mt-2\" :message=\"$server.changePlan.error\" />\n\t\t</template>\n\t</Dialog>\n</template>\n<script>\nimport { getCachedDocumentResource } from 'frappe-ui';\nimport ServerPlansCards from './ServerPlansCards.vue';\n\nexport default {\n\tcomponents: { ServerPlansCards },\n\tprops: {\n\t\tserver: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tserverType: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshow: true,\n\t\t\tplan: null,\n\t\t\tplanType: 'Standard'\n\t\t};\n\t},\n\twatch: {\n\t\tserver: {\n\t\t\timmediate: true,\n\t\t\thandler(serverName) {\n\t\t\t\tif (serverName) {\n\t\t\t\t\tif (this.$server?.doc?.plan) {\n\t\t\t\t\t\tthis.plan = this.$server.doc.current_plan;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tresources: {\n\t\tserverPlans() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.server.plans',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.serverType,\n\t\t\t\t\tcluster: this.$server.doc.cluster,\n\t\t\t\t\tplatform: this.$server.doc.current_plan.platform\n\t\t\t\t},\n\t\t\t\tauto: true,\n\t\t\t\tinitialData: []\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\tchangePlan() {\n\t\t\treturn this.$server.changePlan.submit(\n\t\t\t\t{ plan: this.plan.name },\n\t\t\t\t{\n\t\t\t\t\tonSuccess: () => {\n\t\t\t\t\t\tthis.show = false;\n\n\t\t\t\t\t\tconst plan = this.$resources.serverPlans.data.find(\n\t\t\t\t\t\t\tplan => plan.name === this.$server.doc.plan\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tconst formattedPlan = plan\n\t\t\t\t\t\t\t? `${this.$format.planTitle(plan)}/mo`\n\t\t\t\t\t\t\t: this.$server.doc.plan;\n\n\t\t\t\t\t\tthis.$toast.success(`Plan changed to ${formattedPlan}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t},\n\tcomputed: {\n\t\t$server() {\n\t\t\treturn getCachedDocumentResource(this.serverType, this.server);\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<div class=\"rounded-md border\">\n\t\t<div class=\"flex h-12 items-center justify-between border-b px-5\">\n\t\t\t<h2 class=\"text-lg font-medium text-gray-900\">Load Average</h2>\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<Button\n\t\t\t\t\ticon=\"help-circle\"\n\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t:link=\"'https://easytouch.cloud/docs/server-analytics#load-average'\"\n\t\t\t\t/>\n\t\t\t\t<router-link\n\t\t\t\t\tclass=\"text-base text-gray-600 hover:text-gray-700\"\n\t\t\t\t\t:to=\"{ name: 'Server Detail Analytics', params: { name: server } }\"\n\t\t\t\t>\n\t\t\t\t\tAll analytics →\n\t\t\t\t</router-link>\n\t\t\t</div>\n\t\t</div>\n\t\t<LineChart\n\t\t\tclass=\"h-52 p-2\"\n\t\t\ttype=\"time\"\n\t\t\ttitle=\"Load Average\"\n\t\t\t:key=\"loadAverageData\"\n\t\t\t:chartTheme=\"[\n\t\t\t\t$theme.colors.green[500],\n\t\t\t\t$theme.colors.yellow[400],\n\t\t\t\t$theme.colors.red[500]\n\t\t\t]\"\n\t\t\t:data=\"loadAverageData\"\n\t\t\t:showCard=\"false\"\n\t\t\t:loading=\"$resources.loadavg.loading\"\n\t\t\t:error=\"$resources.loadavg.error\"\n\t\t/>\n\t</div>\n</template>\n<script>\nimport dayjs from '../../utils/dayjs';\nimport LineChart from '@/components/charts/LineChart.vue';\n\nexport default {\n\tname: 'CPUUsage',\n\tprops: ['server'],\n\tcomponents: { LineChart },\n\tresources: {\n\t\tloadavg() {\n\t\t\tlet localTimezone = dayjs.tz.guess();\n\t\t\treturn {\n\t\t\t\turl: 'press.api.server.analytics',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.server,\n\t\t\t\t\ttimezone: localTimezone,\n\t\t\t\t\tquery: 'loadavg',\n\t\t\t\t\tduration: '6 Hour'\n\t\t\t\t},\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tloadAverageData() {\n\t\t\tlet loadavg = this.$resources.loadavg.data;\n\t\t\tif (!loadavg) return;\n\n\t\t\tloadavg.datasets.sort(\n\t\t\t\t(a, b) => Number(a.name.split(' ')[2]) - Number(b.name.split(' ')[2])\n\t\t\t);\n\n\t\t\treturn this.transformMultiLineChartData(loadavg);\n\t\t}\n\t},\n\tmethods: {\n\t\ttransformMultiLineChartData(data, stack = null, percentage = false) {\n\t\t\tlet total = [];\n\t\t\tif (percentage) {\n\t\t\t\t// the sum of each cpu values tends to differ by few values\n\t\t\t\t// so we need to calculate the total for each timestamp\n\t\t\t\tfor (let i = 0; i < data.datasets[0].values.length; i++) {\n\t\t\t\t\tfor (let j = 0; j < data.datasets.length; j++) {\n\t\t\t\t\t\tif (!total[i]) total[i] = 0;\n\t\t\t\t\t\ttotal[i] += data.datasets[j].values[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst datasets = data.datasets.map(({ name, values }) => {\n\t\t\t\tlet dataset = [];\n\t\t\t\tfor (let i = 0; i < values.length; i++) {\n\t\t\t\t\tdataset.push([\n\t\t\t\t\t\t+new Date(data.labels[i]),\n\t\t\t\t\t\tpercentage ? (values[i] / total[i]) * 100 : values[i]\n\t\t\t\t\t]);\n\t\t\t\t}\n\t\t\t\treturn { name, dataset, stack };\n\t\t\t});\n\n\t\t\treturn { datasets, yMax: percentage ? 100 : null };\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<div\n\t\tv-if=\"$appServer?.doc\"\n\t\tclass=\"grid grid-cols-1 items-start gap-5 sm:grid-cols-2\"\n\t>\n\t\t<div\n\t\t\tv-for=\"server in !!$dbReplicaServer?.doc\n\t\t\t\t? ['Server', 'Database Server', 'Replication Server']\n\t\t\t\t: ['Server', 'Database Server']\"\n\t\t\tclass=\"col-span-1 rounded-md border lg:col-span-2\"\n\t\t>\n\t\t\t<div class=\"grid grid-cols-2 lg:grid-cols-4\">\n\t\t\t\t<template v-for=\"(d, i) in currentUsage(server)\" :key=\"d.value\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"border-b p-5 lg:border-b-0\"\n\t\t\t\t\t\t:class=\"{ 'border-r': i + 1 != currentUsage(server).length }\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"d.type === 'header'\"\n\t\t\t\t\t\t\tclass=\"m-auto flex h-full items-center justify-between\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-if=\"d.type === 'header'\"\n\t\t\t\t\t\t\t\tclass=\"mt-2 flex flex-col space-y-2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"text-base text-gray-700\">{{ d.label }}</div>\n\t\t\t\t\t\t\t\t<div class=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t<div class=\"flex items-center text-base text-gray-900\">\n\t\t\t\t\t\t\t\t\t\t{{ d.value }}\n\t\t\t\t\t\t\t\t\t\t<Tooltip v-if=\"d.isPremium\" text=\"Premium Server\">\n\t\t\t\t\t\t\t\t\t\t\t<!-- this icon isn't available in unplugin package yet -->\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t\twidth=\"24\"\n\t\t\t\t\t\t\t\t\t\t\t\theight=\"24\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"lucide lucide-circle-parking ml-2 h-4 w-4 text-gray-600\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<circle cx=\"12\" cy=\"12\" r=\"10\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<path d=\"M9 17V7h4a3 3 0 0 1 0 6H9\" />\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"flex space-x-1\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-sm text-gray-600\" v-html=\"d.subValue\" />\n\t\t\t\t\t\t\t\t\t\t<Tooltip v-if=\"d.help\" :text=\"d.help\">\n\t\t\t\t\t\t\t\t\t\t\t<i-lucide-info class=\"h-3.5 w-3.5 text-gray-500\" />\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tv-if=\"d.type === 'header' && !$appServer.doc.is_self_hosted\"\n\t\t\t\t\t\t\t\t@click=\"showPlanChangeDialog(server)\"\n\t\t\t\t\t\t\t\tlabel=\"Change\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-else-if=\"d.type === 'progress'\">\n\t\t\t\t\t\t\t<div class=\"flex items-center justify-between space-x-2\">\n\t\t\t\t\t\t\t\t<div class=\"text-base text-gray-700\">{{ d.label }}</div>\n\t\t\t\t\t\t\t\t<div v-if=\"d.actions\" class=\"flex space-x-2\">\n\t\t\t\t\t\t\t\t\t<Button v-for=\"action in d.actions || []\" v-bind=\"action\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-else class=\"h-8\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"mt-2\">\n\t\t\t\t\t\t\t\t<Progress size=\"md\" :value=\"d.progress_value || 0\" />\n\t\t\t\t\t\t\t\t<div class=\"flex space-x-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"mt-2 flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-sm text-gray-600\">\n\t\t\t\t\t\t\t\t\t\t\t{{ d.value }}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<Tooltip v-if=\"d.help\" :text=\"d.help\">\n\t\t\t\t\t\t\t\t\t\t<i-lucide-info class=\"mt-2 h-4 w-4 text-gray-500\" />\n\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"rounded-md border\">\n\t\t\t<div class=\"h-12 border-b px-5 py-4\">\n\t\t\t\t<h2 class=\"text-lg font-medium text-gray-900\">Server Information</h2>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"d in serverInformation\"\n\t\t\t\t\t:key=\"d.label\"\n\t\t\t\t\tclass=\"flex items-center px-5 py-3 last:pb-5 even:bg-gray-50/70\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"w-1/3 text-base text-gray-700\">{{ d.label }}</div>\n\t\t\t\t\t<div class=\"w-2/3 text-base font-medium\">{{ d.value }}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<ServerLoadAverage :server=\"server\" />\n\t</div>\n</template>\n\n<script>\nimport { toast } from 'vue-sonner';\nimport { h, defineAsyncComponent } from 'vue';\nimport { getCachedDocumentResource } from 'frappe-ui';\nimport { confirmDialog, renderDialog } from '../../utils/components';\nimport { getToastErrorMessage } from '../../utils/toast';\nimport ServerPlansDialog from './ServerPlansDialog.vue';\nimport ServerLoadAverage from './ServerLoadAverage.vue';\nimport { getDocResource } from '../../utils/resource';\n\nexport default {\n\tprops: ['server'],\n\tcomponents: {\n\t\tServerLoadAverage,\n\t\tServerPlansDialog,\n\t},\n\tmethods: {\n\t\tshowPlanChangeDialog(serverType) {\n\t\t\tlet ServerPlansDialog = defineAsyncComponent(\n\t\t\t\t() => import('./ServerPlansDialog.vue'),\n\t\t\t);\n\t\t\trenderDialog(\n\t\t\t\th(ServerPlansDialog, {\n\t\t\t\t\tserver:\n\t\t\t\t\t\tserverType === 'Server'\n\t\t\t\t\t\t\t? this.$appServer.name\n\t\t\t\t\t\t\t: this.$dbServer.name,\n\t\t\t\t\tserverType,\n\t\t\t\t}),\n\t\t\t);\n\t\t},\n\t\tcurrentUsage(serverType) {\n\t\t\tif (!this.$appServer?.doc) return [];\n\t\t\tif (!this.$dbServer?.doc) return [];\n\n\t\t\tlet formatBytes = (v) => this.$format.bytes(v, 0, 2);\n\n\t\t\tlet doc =\n\t\t\t\tserverType === 'Server'\n\t\t\t\t\t? this.$appServer.doc\n\t\t\t\t\t: serverType === 'Database Server'\n\t\t\t\t\t\t? this.$dbServer.doc\n\t\t\t\t\t\t: serverType === 'Replication Server'\n\t\t\t\t\t\t\t? this.$dbReplicaServer?.doc\n\t\t\t\t\t\t\t: null;\n\n\t\t\tif (!doc) return [];\n\n\t\t\tlet currentPlan = doc.current_plan;\n\t\t\tlet currentUsage = doc.usage;\n\t\t\tlet diskSize = doc.disk_size;\n\t\t\tlet additionalStorage = diskSize - (currentPlan?.disk || 0);\n\t\t\tlet price = 0;\n\t\t\t// not using $format.planTitle cuz of manual calculation of add-on storage plan\n\t\t\tlet priceField =\n\t\t\t\tthis.$team.doc.currency === 'INR' ? 'price_inr' : 'price_usd';\n\n\t\t\tlet planDescription = '';\n\t\t\tif (!currentPlan?.name) {\n\t\t\t\tplanDescription = 'No plan selected';\n\t\t\t} else if (currentPlan.price_usd > 0) {\n\t\t\t\tprice = currentPlan[priceField];\n\t\t\t\tplanDescription = `${this.$format.userCurrency(price, 0)}/mo`;\n\t\t\t} else {\n\t\t\t\tplanDescription = currentPlan.plan_title;\n\t\t\t}\n\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tlabel:\n\t\t\t\t\t\tserverType === 'Server'\n\t\t\t\t\t\t\t? 'Application Server Plan'\n\t\t\t\t\t\t\t: serverType === 'Database Server'\n\t\t\t\t\t\t\t\t? 'Database Server Plan'\n\t\t\t\t\t\t\t\t: 'Replication Server Plan',\n\t\t\t\t\tvalue: planDescription,\n\t\t\t\t\tsubValue:\n\t\t\t\t\t\tadditionalStorage > 0\n\t\t\t\t\t\t\t? `${this.$format.userCurrency(\n\t\t\t\t\t\t\t\t\tdoc.storage_plan[priceField] * additionalStorage,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t)}/mo`\n\t\t\t\t\t\t\t: '',\n\t\t\t\t\ttype: 'header',\n\t\t\t\t\tisPremium: !!currentPlan?.premium,\n\t\t\t\t\thelp:\n\t\t\t\t\t\tadditionalStorage > 0\n\t\t\t\t\t\t\t? `Server Plan: ${this.$format.userCurrency(\n\t\t\t\t\t\t\t\t\tcurrentPlan[priceField],\n\t\t\t\t\t\t\t\t)}/mo & Add-on Storage Plan: ${this.$format.userCurrency(\n\t\t\t\t\t\t\t\t\tdoc.storage_plan[priceField] * additionalStorage,\n\t\t\t\t\t\t\t\t)}/mo`\n\t\t\t\t\t\t\t: '',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'CPU',\n\t\t\t\t\ttype: 'progress',\n\t\t\t\t\tprogress_value: currentPlan\n\t\t\t\t\t\t? (currentUsage.vcpu / currentPlan.vcpu) * 100\n\t\t\t\t\t\t: 0,\n\t\t\t\t\tvalue: currentPlan\n\t\t\t\t\t\t? `${(((currentUsage.vcpu || 0) / currentPlan.vcpu) * 100).toFixed(\n\t\t\t\t\t\t\t\t2,\n\t\t\t\t\t\t\t)}% of ${currentPlan.vcpu} ${this.$format.plural(\n\t\t\t\t\t\t\t\tcurrentPlan.vcpu,\n\t\t\t\t\t\t\t\t'vCPU',\n\t\t\t\t\t\t\t\t'vCPUs',\n\t\t\t\t\t\t\t)}`\n\t\t\t\t\t\t: '0% vCPU',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Memory',\n\t\t\t\t\ttype: 'progress',\n\t\t\t\t\tprogress_value: currentPlan\n\t\t\t\t\t\t? (currentUsage.memory / currentPlan.memory) * 100\n\t\t\t\t\t\t: 0,\n\t\t\t\t\tvalue: currentPlan\n\t\t\t\t\t\t? `${formatBytes(currentUsage.memory || 0)} of ${formatBytes(\n\t\t\t\t\t\t\t\tcurrentPlan.memory,\n\t\t\t\t\t\t\t)}`\n\t\t\t\t\t\t: formatBytes(currentUsage.memory || 0),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Storage',\n\t\t\t\t\ttype: 'progress',\n\t\t\t\t\tprogress_value: currentPlan\n\t\t\t\t\t\t? (currentUsage.disk / (diskSize ? diskSize : currentPlan.disk)) *\n\t\t\t\t\t\t\t100\n\t\t\t\t\t\t: 0,\n\t\t\t\t\tvalue: currentPlan\n\t\t\t\t\t\t? `${currentUsage.disk || 0} GB of ${\n\t\t\t\t\t\t\t\tdiskSize ? diskSize : currentPlan.disk\n\t\t\t\t\t\t\t} GB`\n\t\t\t\t\t\t: `${currentUsage.disk || 0} GB`,\n\t\t\t\t\thelp:\n\t\t\t\t\t\tdiskSize - (currentPlan?.disk || 0) > 0\n\t\t\t\t\t\t\t? `Add-on storage: ${diskSize - (currentPlan?.disk || 0)} GB`\n\t\t\t\t\t\t\t: '',\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Increase Storage',\n\t\t\t\t\t\t\ticon: 'plus',\n\t\t\t\t\t\t\tvariant: 'ghost',\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\tconfirmDialog({\n\t\t\t\t\t\t\t\t\ttitle: 'Increase Storage',\n\t\t\t\t\t\t\t\t\tmessage: `Enter the disk size you want to increase to the server <b>${\n\t\t\t\t\t\t\t\t\t\tdoc.title || doc.name\n\t\t\t\t\t\t\t\t\t}</b><div class=\"rounded mt-4 p-2 text-sm text-gray-700 bg-gray-100 border\">You will be charged at the rate of <b>${this.$format.userCurrency(\n\t\t\t\t\t\t\t\t\t\tdoc.storage_plan[priceField],\n\t\t\t\t\t\t\t\t\t)}/mo</b> for each additional GB of storage.</div><p class=\"mt-4 text-sm text-gray-700\"><strong>Note</strong>: You can increase the storage size of the server only once in 6 hours.</div>`,\n\t\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tfieldname: 'storage',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\t\t\t\t\tdefault: 50,\n\t\t\t\t\t\t\t\t\t\t\tlabel: 'Storage (GB)',\n\t\t\t\t\t\t\t\t\t\t\tvariant: 'outline',\n\t\t\t\t\t\t\t\t\t\t\t// options from 5 GB to 500 GB in steps of 5 GB\n\t\t\t\t\t\t\t\t\t\t\toptions: Array.from({ length: 100 }, (_, i) => ({\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: `${(i + 1) * 5} GB`,\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: (i + 1) * 5,\n\t\t\t\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tonSuccess: ({ hide, values }) => {\n\t\t\t\t\t\t\t\t\t\ttoast.promise(\n\t\t\t\t\t\t\t\t\t\t\tthis.$appServer.increaseDiskSize.submit(\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tserver: doc.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\tincrement: Number(values.storage),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tonSuccess: () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thide();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'Server Detail Plays',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tparams: { name: this.$appServer.name },\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\tonError(e) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tloading: 'Increasing disk size...',\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: 'Disk size is scheduled to increase',\n\t\t\t\t\t\t\t\t\t\t\t\terror: (e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetToastErrorMessage(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Failed to increase disk size',\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Configure Auto Increase Storage',\n\t\t\t\t\t\t\ticon: 'tool',\n\t\t\t\t\t\t\tvariant: 'ghost',\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\tconfirmDialog({\n\t\t\t\t\t\t\t\t\ttitle: 'Configure Auto Increase Storage',\n\t\t\t\t\t\t\t\t\tmessage: `<div class=\"rounded my-4 p-2 text-sm text-gray-700 bg-gray-100 border\">\n\n\t\t\t\t\t\t\t\t\tThis feature automatically increases available storage as it reaches over <b>90%</b> of its capacity. It is enabled by default to avoid server/site downtime.\n\n\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\tYou can disable this entirely by setting minimum and maximum below to <b>0 GB</b>. But if you do, <strong>we may not be notified of incidents from this server</strong>.\n\n\t\t\t\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t\t\t\t<strong>Note</strong>: Storage can auto increase only once in 6 hours.\n\n\n\t\t\t\t\t\t\t\t\t</div>Enter the maximum and minimum storage to increase for the server <b>${\n\t\t\t\t\t\t\t\t\t\tdoc.title || doc.name\n\t\t\t\t\t\t\t\t\t}</b>.`,\n\t\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tfieldname: 'min',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\t\t\t\t\tdefault: String(doc.auto_add_storage_min),\n\t\t\t\t\t\t\t\t\t\t\tlabel: 'Minimum Storage Increase (GB)',\n\t\t\t\t\t\t\t\t\t\t\tvariant: 'outline',\n\t\t\t\t\t\t\t\t\t\t\t// options from 5 GB to 250 GB in steps of 5 GB\n\t\t\t\t\t\t\t\t\t\t\toptions: Array.from({ length: 51 }, (_, i) => ({\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: `${i * 5} GB`,\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: i * 5,\n\t\t\t\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tfieldname: 'max',\n\t\t\t\t\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\t\t\t\t\tdefault: String(doc.auto_add_storage_max),\n\t\t\t\t\t\t\t\t\t\t\tlabel: 'Maximum Storage Increase (GB)',\n\t\t\t\t\t\t\t\t\t\t\tvariant: 'outline',\n\t\t\t\t\t\t\t\t\t\t\t// options from 5 GB to 250 GB in steps of 5 GB\n\t\t\t\t\t\t\t\t\t\t\toptions: Array.from({ length: 51 }, (_, i) => ({\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: `${i * 5} GB`,\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: i * 5,\n\t\t\t\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\tonSuccess: ({ hide, values }) => {\n\t\t\t\t\t\t\t\t\t\ttoast.promise(\n\t\t\t\t\t\t\t\t\t\t\tthis.$appServer.configureAutoAddStorage.submit(\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tserver: doc.name,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin: Number(values.min),\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax: Number(values.max),\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tonSuccess: () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thide();\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (doc.name === this.$appServer.name)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$appServer.reload();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telse if (doc.name === this.$dbServer.name)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$dbServer.reload();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telse if (doc.name === this.$replicationServer.name)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$replicationServer.reload();\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tloading: 'Configuring auto increase storage...',\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess: 'Auto increase storage is configured',\n\t\t\t\t\t\t\t\t\t\t\t\terror: (err) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn err.messages.length\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? err.messages.join('/n')\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: err.message ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Failed to configure auto increase storage';\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t];\n\t\t},\n\t},\n\tcomputed: {\n\t\tserverInformation() {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Application server',\n\t\t\t\t\tvalue: this.$appServer.doc.name,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Database server',\n\t\t\t\t\tvalue: this.$appServer.doc.database_server,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Replication server',\n\t\t\t\t\tvalue: this.$appServer.doc.replication_server,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Owned by',\n\t\t\t\t\tvalue: this.$appServer.doc.owner_email || this.$appServer.doc.team,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Created by',\n\t\t\t\t\tvalue: this.$appServer.doc.owner,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Created on',\n\t\t\t\t\tvalue: this.$format.date(this.$appServer.doc.creation),\n\t\t\t\t},\n\t\t\t].filter((d) => d.value);\n\t\t},\n\t\t$appServer() {\n\t\t\treturn getCachedDocumentResource('Server', this.server);\n\t\t},\n\t\t$dbServer() {\n\t\t\treturn getDocResource({\n\t\t\t\tdoctype: 'Database Server',\n\t\t\t\tname: this.$appServer.doc.database_server,\n\t\t\t\twhitelistedMethods: {\n\t\t\t\t\tchangePlan: 'change_plan',\n\t\t\t\t\treboot: 'reboot',\n\t\t\t\t\trename: 'rename',\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t$dbReplicaServer() {\n\t\t\treturn getDocResource({\n\t\t\t\tdoctype: 'Database Server',\n\t\t\t\tname: this.$appServer.doc.replication_server,\n\t\t\t\twhitelistedMethods: {\n\t\t\t\t\tchangePlan: 'change_plan',\n\t\t\t\t\treboot: 'reboot',\n\t\t\t\t\trename: 'rename',\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t},\n};\n</script>\n"],"file":"assets/ServerOverview-CbSmGhQc.js"}