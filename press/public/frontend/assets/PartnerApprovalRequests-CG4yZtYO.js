import{q as c,o as i,j as o,x as m,ao as f,r as _,A as b,a2 as t,B as s,y as a,V as y,X as v,am as h}from"./main-Dpl-JOF2.js";(function(){try{var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},n=new Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="00b89fcd-4aa6-4d89-acc9-0ceb60f4817f",e._sentryDebugIdIdentifier="sentry-dbid-00b89fcd-4aa6-4d89-acc9-0ceb60f4817f")}catch(d){}})();{var r=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};r._sentryModuleMetadata=r._sentryModuleMetadata||{},r._sentryModuleMetadata[new Error().stack]=Object.assign({},r._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const g={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},w=o("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[o("circle",{cx:"12",cy:"12",r:"10"}),o("path",{d:"M12 6v6l4 2"})],-1),x=[w];function A(e,n){return i(),c("svg",g,x)}const p={name:"lucide-clock",render:A},k={name:"PartnerApprovalRequests",components:{ObjectList:f},computed:{options(){return{doctype:"Partner Approval Request",fields:["approved_by_partner","status"],columns:[{label:"Customer Email",fieldname:"customer_email"},{label:"customer team id",fieldname:"requested_by"},{label:"Raised On",fieldname:"creation",width:.6,format(e){return Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))}},{label:"Approval By Frappe",fieldname:"approved_by_frappe",type:"Component",align:"center",width:.6,component({row:e}){return e.approved_by_frappe?t(a,{text:"Approved"},()=>t(s,{name:"check-circle",class:"h-4 w-4 text-green-600"})):t(a,{text:"Approval Pending"},()=>t(p,{class:"h-4 w-4 text-yellow-500"}))}},{label:"Partner Approval",fieldname:"approved_by_partner",type:"Component",align:"center",width:.6,component({row:e}){return e.approved_by_partner?t(a,{text:"Approved"},()=>t(s,{name:"check-circle",class:"h-4 w-4 text-green-600"})):t(a,{text:"Approval Pending"},()=>t(p,{class:"h-4 w-4 text-yellow-500"}))}},{label:"",type:"Component",width:.8,align:"center",component({row:e,listResource:n}){if(e.status==="Pending"&&e.approved_by_partner===0)return t(v,{label:"Approve",class:"text-md",variant:"subtle",onClick:()=>{y.promise(n.runDocMethod.submit({method:"approve_partner_request",name:e.name}),{loading:"Approving...",success:"Approval request sent to Frappe",error:"Failed to Approve"})}});if(e.status==="Pending"&&e.approved_by_frappe===0)return t(h,{label:"Waiting for Frappe's approval",theme:"blue",variant:"subtle",size:"md"})}}],filters:{partner:this.$team.doc.name},orderBy:"creation desc"}}}},P={class:"p-5"};function $(e,n,d,B,C,l){const u=_("ObjectList");return i(),c("div",P,[b(u,{options:l.options},null,8,["options"])])}const D=m(k,[["render",$]]);export{D as default};
//# sourceMappingURL=PartnerApprovalRequests-CG4yZtYO.js.map
