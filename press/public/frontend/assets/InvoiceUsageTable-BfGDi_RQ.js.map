{"version":3,"file":"InvoiceUsageTable-BfGDi_RQ.js","sources":["../../../../dashboard/src/components/InvoiceUsageTable.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<div v-if=\"doc\" class=\"overflow-x-auto\">\n\t\t\t<table class=\"text w-full text-sm\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr class=\"text-gray-600\">\n\t\t\t\t\t\t<th class=\"border-b py-3 pr-2 text-left font-normal\">\n\t\t\t\t\t\t\tDescription\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th class=\"border-b py-3 pr-2 text-left font-normal\">Site</th>\n\t\t\t\t\t\t<th\n\t\t\t\t\t\t\tclass=\"whitespace-nowrap border-b py-3 pr-2 text-right font-normal\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tRate\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th class=\"border-b py-3 pr-2 text-right font-normal\">Amount</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr v-for=\"(row, i) in doc.items\" :key=\"row.idx\">\n\t\t\t\t\t\t<td class=\"border-b py-3 pr-2\">\n\t\t\t\t\t\t\t{{ row.description || row.document_name }}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"border-b py-3 pr-2\">\n\t\t\t\t\t\t\t{{ row.site || '-' }}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"border-b py-3 pr-2 text-right\">\n\t\t\t\t\t\t\t{{ row.rate }} x {{ row.quantity }}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"border-b py-3 pr-2 text-right font-semibold\">\n\t\t\t\t\t\t\t{{ doc.formatted.items[i].amount }}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t\t<tfoot>\n\t\t\t\t\t<tr v-if=\"doc.total_discount_amount > 0\">\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td class=\"pb-2 pr-2 pt-4 text-right font-semibold\">\n\t\t\t\t\t\t\tTotal Without Discount\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tclass=\"whitespace-nowrap pb-2 pr-2 pt-4 text-right font-semibold\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ doc.formatted.total_before_discount }}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr v-if=\"doc.total_discount_amount > 0\">\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td class=\"pb-2 pr-2 pt-4 text-right font-semibold\">\n\t\t\t\t\t\t\tTotal Discount Amount\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tclass=\"whitespace-nowrap pb-2 pr-2 pt-4 text-right font-semibold\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\tdoc.partner_email && doc.partner_email != $account.team.user\n\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t: doc.formatted.total_discount_amount\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr v-if=\"doc.gst > 0\">\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td class=\"pb-2 pr-2 pt-4 text-right font-semibold\">\n\t\t\t\t\t\t\tTotal (Without Tax)\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tclass=\"whitespace-nowrap pb-2 pr-2 pt-4 text-right font-semibold\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ doc.formatted.total_before_tax }}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr v-if=\"doc.gst > 0\">\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td class=\"pb-2 pr-2 pt-4 text-right font-semibold\">\n\t\t\t\t\t\t\tIGST @ {{ Number($account.billing_info.gst_percentage * 100) }}%\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tclass=\"whitespace-nowrap pb-2 pr-2 pt-4 text-right font-semibold\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ doc.formatted.gst }}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td class=\"pb-2 pr-2 pt-4 text-right font-semibold\">Grand Total</td>\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tclass=\"whitespace-nowrap pb-2 pr-2 pt-4 text-right font-semibold\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\tdoc.partner_email && doc.partner_email != $account.team.user\n\t\t\t\t\t\t\t\t\t? doc.formatted.total_before_discount\n\t\t\t\t\t\t\t\t\t: doc.formatted.total\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<template v-if=\"doc.total !== doc.amount_due && doc.docstatus == 1\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"pr-2 text-right\">Applied Balance:</td>\n\t\t\t\t\t\t\t<td class=\"whitespace-nowrap py-3 pr-2 text-right font-semibold\">\n\t\t\t\t\t\t\t\t- {{ doc.formatted.applied_credits }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<td class=\"pr-2 text-right\">Amount Due:</td>\n\t\t\t\t\t\t\t<td class=\"whitespace-nowrap py-3 pr-2 text-right font-semibold\">\n\t\t\t\t\t\t\t\t{{ doc.formatted.amount_due }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</template>\n\t\t\t\t</tfoot>\n\t\t\t</table>\n\t\t</div>\n\t\t<div class=\"py-20 text-center\" v-if=\"$resources.doc.loading\">\n\t\t\t<Button :loading=\"true\">Loading</Button>\n\t\t</div>\n\t</div>\n</template>\n<script>\nexport default {\n\tname: 'InvoiceUsageTable',\n\tprops: ['invoice', 'invoiceDoc'],\n\tresources: {\n\t\tdoc() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.billing.get_invoice_usage',\n\t\t\t\tparams: { invoice: this.invoice },\n\t\t\t\tauto: this.invoice,\n\t\t\t\tonSuccess(doc) {\n\t\t\t\t\tthis.$emit('doc', doc);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\twatch: {\n\t\tinvoice(value) {\n\t\t\tif (value) {\n\t\t\t\tthis.$resources.doc.fetch();\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tdoc() {\n\t\t\treturn this.invoiceDoc || this.$resources.doc.data;\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","doc","value","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_10","_hoisted_12","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","row","$options","_hoisted_7","_cache","_createCommentVNode","_hoisted_9","_ctx","_hoisted_11","_hoisted_13","_Fragment","_hoisted_19","_withCtx","_createTextVNode"],"mappings":"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"}