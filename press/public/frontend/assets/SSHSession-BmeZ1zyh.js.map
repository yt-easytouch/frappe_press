{"version":3,"file":"SSHSession-BmeZ1zyh.js","sources":["../../../../dashboard/src/views/security/SSHSessionActivity.vue","../../../../dashboard/src/views/security/SSHSession.vue"],"sourcesContent":["<template>\n\t<CardDetails :showDetails=\"showDetails\">\n\t\t<div class=\"px-6 py-5\">\n\t\t\t<template v-if=\"showDetails\">\n\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h4 class=\"text-lg font-medium\">\n\t\t\t\t\t\t\tSession: {{ SSHActivity.session_id }}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"justify-end\">\n\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\tclass=\"pointer-events-none\"\n\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t:label=\"getLabel(SSHActivity.session_user)\"\n\t\t\t\t\t\t\t:theme=\"getColor(SSHActivity.session_user)\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<div v-else>\n\t\t\t\t<LoadingText v-if=\"loading\" />\n\t\t\t\t<span v-else class=\"text-center text-base text-gray-600\">\n\t\t\t\t\tNo item selected\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"flex-auto overflow-auto px-6\" v-if=\"showDetails\">\n\t\t\t<InfoSection\n\t\t\t\tsectionName=\"Activity\"\n\t\t\t\t:sectionData=\"SSHActivity.content\"\n\t\t\t\t:defaultOpen=\"true\"\n\t\t\t/>\n\t\t</div>\n\t</CardDetails>\n</template>\n\n<script>\nimport CardDetails from '@/components/CardDetails.vue';\nimport InfoSection from './InfoSection.vue';\n\nexport default {\n\tname: 'SSHSessionActivity',\n\tprops: ['showDetails', 'logId', 'server'],\n\tcomponents: { CardDetails, InfoSection },\n\tinject: ['viewportWidth'],\n\tresources: {\n\t\tSSHActivity() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.security.fetch_ssh_session_activity',\n\t\t\t\tparams: {\n\t\t\t\t\tserver: this.server?.name,\n\t\t\t\t\tfilename: this.logId\n\t\t\t\t},\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tSSHActivity() {\n\t\t\treturn this.$resources.SSHActivity.data;\n\t\t}\n\t},\n\tmethods: {\n\t\tgetLabel(user) {\n\t\t\treturn `User: ${user}`;\n\t\t},\n\t\tgetColor(user) {\n\t\t\treturn user === 'root' ? 'red' : 'green';\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<CardWithDetails\n\t\ttitle=\"Server SSH Session Logs\"\n\t\tsubtitle=\"Log of commands executed in session\"\n\t>\n\t\t<div>\n\t\t\t<router-link\n\t\t\t\tv-for=\"log in $resources.sshLogs.data\"\n\t\t\t\tclass=\"block cursor-pointer rounded-md px-2.5\"\n\t\t\t\t:class=\"logId === log.name ? 'bg-gray-100' : 'hover:bg-gray-50'\"\n\t\t\t\t:key=\"log.name\"\n\t\t\t\t:to=\"updateRoute(log.name)\"\n\t\t\t>\n\t\t\t\t<ListItem :title=\"getTitle(log)\" :description=\"getDescription(log)\">\n\t\t\t\t\t<template v-slot:actions>\n\t\t\t\t\t\t<Badge :label=\"getLabel(log.user)\" :theme=\"getColor(log.user)\" />\n\t\t\t\t\t</template>\n\t\t\t\t</ListItem>\n\t\t\t\t<div class=\"border-b\"></div>\n\t\t\t</router-link>\n\t\t</div>\n\t\t<template #details>\n\t\t\t<SSHSessionActivity\n\t\t\t\t:showDetails=\"logId\"\n\t\t\t\t:logId=\"logId\"\n\t\t\t\t:server=\"server\"\n\t\t\t/>\n\t\t</template>\n\t</CardWithDetails>\n</template>\n\n<script>\nimport CardWithDetails from '@/components/CardWithDetails.vue';\nimport SSHSessionActivity from './SSHSessionActivity.vue';\n\nexport default {\n\tname: 'SSHSession',\n\tprops: ['server', 'logId'],\n\tcomponents: { CardWithDetails, SSHSessionActivity },\n\tresources: {\n\t\tsshLogs() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.security.fetch_ssh_session_logs',\n\t\t\t\tparams: {\n\t\t\t\t\tserver: this.server?.name\n\t\t\t\t},\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tsshLogs() {\n\t\t\treturn this.$resources.sshLogs.data;\n\t\t}\n\t},\n\tmethods: {\n\t\tgetTitle(log) {\n\t\t\treturn `SSH Session: ${log.session_id}`;\n\t\t},\n\t\tgetDescription(log) {\n\t\t\treturn `Created On: ${log.created_at} <br> Size: ${log.size} Kb`;\n\t\t},\n\t\tupdateRoute(name) {\n\t\t\treturn `/security/${this.server.name}/ssh_session_logs/${name}`;\n\t\t},\n\t\tgetLabel(user) {\n\t\t\treturn `User: ${user}`;\n\t\t},\n\t\tgetColor(user) {\n\t\t\treturn user === 'root' ? 'red' : 'green';\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","CardDetails","InfoSection","user","_hoisted_1","_hoisted_3","_hoisted_4","_withCtx","_createElementVNode","_openBlock","_createElementBlock","_hoisted_2","_toDisplayString","$options","_hoisted_5","_createBlock","_component_LoadingText","_hoisted_7","_createCommentVNode","log","name","$props"],"mappings":"y+BA0CA,MAAAA,EAAA,2BAEC,MAAA,CAAA,cAAA,QAAA,QAAA,EACA,WAAA,CAAA,YAAAC,EAAA,YAAAC,CAAA,0DAIE,MAAA,qDAEC,OAAA,4CAEC,SAAA,KAAA,OAED,KAAA,GAEF,GAED,SAAA,eAEE,OAAA,KAAA,WAAA,YAAA,IACD,GAED,QAAA,CACC,SAAAC,EAAA,CACC,MAAA,SAAAA,CAAA,IAED,SAAAA,EAAA,CACC,OAAAA,IAAA,OAAA,MAAA,OACD,CACD,CACD,EAtEOC,EAAA,CAAA,MAAA,WAAA,WAEE,MAAA,qCAECC,EAAA,CAAA,MAAA,qBAAA,EAIAC,EAAA,CAAA,MAAA,aAAA,qBAaO,MAAA,gDAKV,MAAA,yIA5BP,QAAAC,EAAA,IAAA,CAEEC,EAAA,MAAAJ,EAAA,gBAEEK,IAAAC,EAAA,MAAAC,EAAA,eAEEH,EAAA,KAAAH,EAAA,aAAAO,EAAAC,EAAA,YAAA,UAAA,EAAA,CAAA,IAIDL,EAAA,MAAAF,EAAA,MAEE,MAAA,sBACA,QAAA,SACA,KAAA,KACC,MAAAO,EAAA,SAAAA,EAAA,YAAA,YAAA,EACA,MAAAA,EAAA,SAAAA,EAAA,YAAA,YAAA,mCAKLJ,IAAAC,EAAA,MAAAI,EAAA,YACCL,EAAA,EAAAM,EAAAC,EAAA,CAAA,IAAA,CAAA,CAAA,8DAMFP,IAAAC,EAAA,MAAAO,EAAA,MAEE,YAAA,6CAEC,YAAA,+BAhCLC,EAAA,GAAA,EAAA,wDCmCAlB,EAAA,CACC,KAAA,qGAIC,SAAA,OACC,MAAA,iDAEC,OAAA,6CAGA,KAAA,GAEF,GAED,SAAA,CACC,SAAA,CACC,OAAA,KAAA,WAAA,QAAA,IACD,GAED,QAAA,aAEE,MAAA,gBAAAmB,EAAA,UAAA,IAED,eAAAA,EAAA,8DAGA,YAAAC,EAAA,CACC,MAAA,aAAA,KAAA,OAAA,IAAA,qBAAAA,CAAA,IAED,SAAAjB,EAAA,CACC,MAAA,SAAAA,CAAA,IAED,SAAAA,EAAA,CACC,OAAAA,IAAA,OAAA,MAAA,OACD,CACD,CACD,yGAtEE,MAAA,0BACA,SAAA,wCAkBW,QAAAI,EAAA,IAAA,MAER,YAAAc,EAAA,MACA,MAAAA,EAAA,MACA,OAAAA,EAAA,mDAzBL,QAAAd,EAAA,IAAA,yLAWK,GAAAM,EAAA,YAAAM,EAAA,IAAA,IAXL,QAAAZ,EAAA,IAAA,4DAcsB,QAAAA,EAAA,IAAA,MACR,MAAAM,EAAA,SAAAM,EAAA,IAAA,EAA4B,MAAAN,EAAA,SAAAM,EAAA,IAAA"}