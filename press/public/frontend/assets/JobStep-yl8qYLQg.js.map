{"version":3,"file":"JobStep-yl8qYLQg.js","sources":["../../../../dashboard/src2/components/FoldStep.vue","../../../../dashboard/src2/components/JobStep.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<button\n\t\t\tclass=\"flex w-full items-center justify-between rounded bg-gray-50 px-2.5 py-2 text-left text-base\"\n\t\t\t@click=\"$emit('toggle')\"\n\t\t\t:class=\"open ? 'rounded-b-none' : ''\"\n\t\t>\n\t\t\t<div class=\"flex items-center space-x-2\">\n\t\t\t\t<FeatherIcon\n\t\t\t\t\t:name=\"open || status == 'Running' ? 'chevron-down' : 'chevron-right'\"\n\t\t\t\t\tclass=\"h-3 w-3 text-gray-600\"\n\t\t\t\t\t:stroke-width=\"3\"\n\t\t\t\t/>\n\t\t\t\t<Tooltip :text=\"status\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"grid h-4 w-4 place-items-center rounded-full\"\n\t\t\t\t\t\t:class=\"iconClass\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<LoadingIndicator\n\t\t\t\t\t\t\tclass=\"h-3.5 w-3.5 text-gray-900\"\n\t\t\t\t\t\t\tv-if=\"status === 'Running'\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FeatherIcon\n\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t:name=\"icon\"\n\t\t\t\t\t\t\tclass=\"h-3 w-3 text-white\"\n\t\t\t\t\t\t\t:stroke-width=\"3\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Tooltip>\n\t\t\t\t<span>\n\t\t\t\t\t{{ title }}\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div class=\"text-gray-600\" v-if=\"caption\">\n\t\t\t\t{{ caption }}\n\t\t\t</div>\n\t\t</button>\n\t\t<div\n\t\t\tclass=\"overflow-auto rounded-b border border-gray-100 bg-gray-900 px-2.5 py-2 text-sm text-gray-200\"\n\t\t\tv-show=\"open || status == 'Running'\"\n\t\t\tref=\"output\"\n\t\t>\n\t\t\t<pre class=\"max-h-[50vh]\">{{ body }}</pre>\n\t\t</div>\n\t</div>\n</template>\n<script lang=\"ts\">\nimport { LoadingIndicator } from 'frappe-ui';\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n\tname: 'FoldStep',\n\tprops: {\n\t\topen: { type: Boolean, required: true },\n\t\ttitle: { type: String, required: true },\n\t\tbody: { type: String, required: true },\n\t\tstatus: { type: String, required: false },\n\t\tcaption: { type: String, required: false }\n\t},\n\temits: ['toggle'],\n\twatch: {\n\t\tbody(val, oldVal) {\n\t\t\tif (val === oldVal) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$refs.output.scrollTop = this.$refs.output.scrollHeight;\n\t\t\t});\n\t\t}\n\t},\n\tcomputed: {\n\t\ticon(): string {\n\t\t\tswitch (this.status) {\n\t\t\t\tcase 'Success':\n\t\t\t\t\treturn 'check';\n\t\t\t\tcase 'Failure':\n\t\t\t\t\treturn 'x';\n\t\t\t\tcase 'Delivery Failure':\n\t\t\t\t\treturn 'x';\n\t\t\t\tcase 'Pending':\n\t\t\t\t\treturn 'clock';\n\t\t\t\tcase 'Skipped':\n\t\t\t\t\treturn 'minus';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'circle';\n\t\t\t}\n\t\t},\n\t\ticonClass(): string {\n\t\t\tswitch (this.status) {\n\t\t\t\tcase 'Success':\n\t\t\t\t\treturn 'bg-green-500';\n\t\t\t\tcase 'Failure':\n\t\t\t\t\treturn 'bg-red-500';\n\t\t\t\tcase 'Delivery Failure':\n\t\t\t\t\treturn 'bg-red-500';\n\t\t\t\tcase 'Running':\n\t\t\t\t\treturn 'bg-transparent';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'bg-gray-400';\n\t\t\t}\n\t\t}\n\t}\n});\n</script>\n","<template>\n\t<FoldStep\n\t\t:open=\"Boolean(step.isOpen)\"\n\t\t:caption=\"step.duration\"\n\t\t:title=\"step.title\"\n\t\t:body=\"step.output || 'No Output'\"\n\t\t:status=\"step.status\"\n\t\t@toggle=\"step.isOpen = !step.isOpen\"\n\t/>\n</template>\n<script>\nimport FoldStep from './FoldStep.vue';\n\nexport default {\n\tname: 'JobStep',\n\tprops: {\n\t\tstep: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t}\n\t},\n\tcomponents: { FoldStep }\n};\n</script>\n"],"names":["_sfc_main$1","defineComponent","val","oldVal","_hoisted_1","__unplugin_components_2","_openBlock","_createElementBlock","_createElementVNode","_normalizeClass","_ctx","_cache","$event","_createVNode","_component_FeatherIcon","_component_Tooltip","_withCtx","_createBlock","_component_LoadingIndicator","_withDirectives","_hoisted_3","_hoisted_4","_toDisplayString","_sfc_main","FoldStep","$props"],"mappings":"sqCAoDAA,EAAAC,EAAA,CAA+B,KAAA,WACxB,MAAA,CACC,KAAA,CAAA,KAAA,QAAA,SAAA,EAAA,EACgC,MAAA,CAAA,KAAA,OAAA,SAAA,EAAA,EACA,KAAA,CAAA,KAAA,OAAA,SAAA,EAAA,EACD,OAAA,CAAA,KAAA,OAAA,SAAA,EAAA,EACG,QAAA,CAAA,KAAA,OAAA,SAAA,EAAA,CACC,EAC1C,MAAA,CAAA,QAAA,EACgB,MAAA,CACT,KAAAC,EAAAC,EAAA,CAELD,IAAAC,GAIA,KAAA,UAAA,IAAA,CACC,KAAA,MAAA,OAAA,UAAA,KAAA,MAAA,OAAA,YAAgD,CAAA,CAChD,CACF,EACD,SAAA,CACU,MAAA,CAER,OAAA,KAAA,OAAA,CAAqB,IAAA,UAEnB,MAAA,QAAO,IAAA,UAEP,MAAA,IAAO,IAAA,mBAEP,MAAA,IAAO,IAAA,UAEP,MAAA,QAAO,IAAA,UAEP,MAAA,QAAO,QAEP,MAAA,QAAO,CACT,EACD,WAAA,CAEC,OAAA,KAAA,OAAA,CAAqB,IAAA,UAEnB,MAAA,eAAO,IAAA,UAEP,MAAA,aAAO,IAAA,mBAEP,MAAA,aAAO,IAAA,UAEP,MAAA,iBAAO,QAEP,MAAA,aAAO,CACT,CACD,CAEF,CAAA,EAzGAC,EAAA,CAAA,MAAA,6BAAA,KAmCc,IAAA,4BAOC,MAAA,8KAzCdC,EAEE,OAAAC,EAAA,EAAAC,EAAA,MAAA,KAAA,CAAMC,EAAA,SAAA,CACA,MAAAC,EAAA,CAAA,8FAAAC,EAAA,KAAA,iBAAA,EAAA,CAAA,EAGN,QAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,MAAA,QAAA,EA0BM,EAAA,CAxBOF,EAAA,MAAAJ,EAAA,CAAUS,EAAAC,EAAA,CACQ,KAAAJ,EAAA,MAAAA,EAAA,QAAA,UAAA,eAAA,gBACb,MAAA,wCAkBP,EAAA,KAAA,EAAA,CAAA,MAAA,CAAA,EAfTG,EAAAE,EAAA,CAAA,KAAAL,EAAA,MAAA,EAAA,CAcM,QAAAM,EAAA,IAAA,CA5BXR,EAAA,MAAA,sEAoBmB,EAAA,CApBnBE,EAAA,SAAA,WAAAJ,EAAA,EAAAW,EAAAC,EAAA,CAmBwC,IAAA,iDAKtB,IAAA,EACN,KAAAR,EAAA,KACJ,MAAA,wDA1BR,EAAA,CAAA,CAAA,CAAA,EA8BI,EAAA,CAAA,EAAA,EAAA,CAAA,MAAA,CAAA,6BAKuC,CAAA,oDAIzC,EAAA,CAAA,EAKCS,EAAAX,EAAA,MAAAY,EAAA,CAHYZ,EAAA,MAAAa,EAAAC,EAAAZ,EAAA,IAAA,EAAA,CAAA,CAAU,EAAA,GAAA,EAAA,iEC5BzBa,EAAA,CACC,KAAA,UACA,MAAA,8BAIC,GAED,WAAA,CAAA,SAAAC,CAAA,CACD,gEApBG,KAAA,EAAAC,EAAA,KAAA,uGAKA,SAAAd,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAa,EAAA,KAAA,OAAA,CAAAA,EAAA,KAAA"}