{"version":3,"file":"SiteLogs-Boe1Q626.js","sources":["../../../../dashboard/src/views/site/SiteLogsDetail.vue","../../../../dashboard/src/views/site/SiteLogs.vue"],"sourcesContent":["<template>\n\t<CardDetails :showDetails=\"log\">\n\t\t<div class=\"px-6 py-5\">\n\t\t\t<template v-if=\"log != null\">\n\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclass=\"mr-3 md:hidden\"\n\t\t\t\t\t\t@click=\"$router.back()\"\n\t\t\t\t\t\ticon=\"chevron-left\"\n\t\t\t\t\t/>\n\t\t\t\t\t<h4 class=\"text-lg font-medium\">\n\t\t\t\t\t\t{{ logName }}\n\t\t\t\t\t\t<span class=\"\">({{ logLines.length }} lines)</span>\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<div v-else>\n\t\t\t\t<Button\n\t\t\t\t\t:loading=\"true\"\n\t\t\t\t\tloading-text=\"Loading...\"\n\t\t\t\t\tv-if=\"$resources.log.loading\"\n\t\t\t\t/>\n\t\t\t\t<span v-else class=\"text-base text-gray-600\">\n\t\t\t\t\t{{ logName ? 'Invalid Log' : 'No log selected' }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"flex-auto overflow-auto px-6 font-mono text-xs\" v-if=\"log\">\n\t\t\t<div\n\t\t\t\tclass=\"mb-6 whitespace-pre-line rounded-md bg-gray-100 px-2 py-2.5\"\n\t\t\t\t:style=\"{ width: viewportWidth < 768 ? 'calc(100vw - 6rem)' : '' }\"\n\t\t\t>\n\t\t\t\t<div class=\"overflow-x-auto\">\n\t\t\t\t\t<div v-for=\"(line, id) in logLines\" :key=\"id\">\n\t\t\t\t\t\t{{ line }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</CardDetails>\n</template>\n<script>\nimport CardDetails from '@/components/CardDetails.vue';\nexport default {\n\tname: 'SiteLogsDetail',\n\tprops: ['siteName', 'logName'],\n\tcomponents: { CardDetails },\n\tinject: ['viewportWidth'],\n\tresources: {\n\t\tlog() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.site.log',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.siteName,\n\t\t\t\t\tlog: this.logName\n\t\t\t\t},\n\t\t\t\tauto: Boolean(this.logName)\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tlog() {\n\t\t\treturn this.$resources.log.data && this.$resources.log.data[this.logName];\n\t\t},\n\t\tlogLines() {\n\t\t\tif (this.log && this.logName) return this.log.split('\\n');\n\t\t\treturn [];\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<CardWithDetails\n\t\ttitle=\"Logs\"\n\t\tsubtitle=\"Available logs for your site\"\n\t\t:showDetails=\"logName\"\n\t>\n\t\t<div v-if=\"$resources.logs.data && $resources.logs.data.length\">\n\t\t\t<router-link\n\t\t\t\tclass=\"block cursor-pointer rounded-md px-2.5\"\n\t\t\t\t:class=\"logName === log.name ? 'bg-gray-100' : 'hover:bg-gray-50'\"\n\t\t\t\tv-for=\"log in $resources.logs.data\"\n\t\t\t\t:key=\"log.name\"\n\t\t\t\t:to=\"`/sites/${siteName}/logs/${log.name}`\"\n\t\t\t>\n\t\t\t\t<ListItem\n\t\t\t\t\t:title=\"log.name\"\n\t\t\t\t\t:description=\"`${\n\t\t\t\t\t\tformatDate(log.modified, (isUTC = true)) + '\\n' + log.size\n\t\t\t\t\t} kB`\"\n\t\t\t\t/>\n\t\t\t\t<div class=\"border-b\"></div>\n\t\t\t</router-link>\n\t\t</div>\n\t\t<div v-else>\n\t\t\t<Button\n\t\t\t\tv-if=\"$resources.logs.loading\"\n\t\t\t\t:loading=\"true\"\n\t\t\t\tloading-text=\"Loading...\"\n\t\t\t/>\n\t\t\t<span v-else class=\"text-base text-gray-600\">No logs</span>\n\t\t</div>\n\t\t<template #details>\n\t\t\t<SiteLogsDetail :siteName=\"siteName\" :logName=\"logName\" />\n\t\t</template>\n\t</CardWithDetails>\n</template>\n\n<script>\nimport CardWithDetails from '@/components/CardWithDetails.vue';\nimport SiteLogsDetail from './SiteLogsDetail.vue';\nexport default {\n\tname: 'SiteLogs',\n\tprops: ['siteName', 'logName'],\n\tcomponents: { CardWithDetails, SiteLogsDetail },\n\tresources: {\n\t\tlogs() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.site.logs',\n\t\t\t\tparams: { name: this.siteName },\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","_hoisted_1","_hoisted_3","_hoisted_4","_hoisted_8","_withCtx","_createElementVNode","_openBlock","_createElementBlock","_hoisted_2","_hoisted_5","_hoisted_7","_Fragment","_renderList","$options","line","id","_toDisplayString","_createCommentVNode","CardWithDetails","SiteLogsDetail","$props","log"],"mappings":"i8BA2CA,MAAAA,EAAA,CACC,KAAA,mHAME,MAAA,0BAEC,OAAA,CACC,KAAA,KAAA,SACA,IAAA,KAAA,6BAIH,GAED,SAAA,OAEE,OAAA,KAAA,WAAA,IAAA,MAAA,KAAA,WAAA,IAAA,KAAA,KAAA,OAAA;GAIA,CAAA,CACD,CACD,CACD,EAnEOC,EAAA,CAAA,MAAA,WAAA,WAEE,MAAA,qBAMAC,EAAA,CAAA,MAAA,qBAAA,EAEGC,EAAA,CAAA,MAAA,EAAA,qBAUK,MAAA,oCAKV,MAAA,kDAKEC,EAAA,CAAA,MAAA,iBAAA,4EAhCT,QAAAC,EAAA,IAAA,CAEEC,EAAA,MAAAL,EAAA,cAEEM,IAAAC,EAAA,MAAAC,EAAA,MAEE,MAAA,0DAEA,KAAA,iBAEDH,EAAA,KAAAJ,EAAA,8EAMFK,IAAAC,EAAA,MAAAE,EAAA,0CAEG,QAAA,GACD,eAAA,6FAQHH,IAAAC,EAAA,MAAAG,EAAA,UAEE,MAAA,6HAGAL,EAAA,MAAAF,EAAA,EACCG,EAAA,EAAA,EAAAC,EAAAI,EAAA,KAAAC,EAAAC,EAAA,SAAA,CAAAC,EAAAC,KAAAT,EAAA,EAAAC,EAAA,MAAA,CAAA,IAAAQ,CAAA,EAAAC,EAAAF,CAAA,EAAA,CAAA,mBAjCLG,EAAA,GAAA,EAAA,wDCwCAlB,EAAA,CACC,KAAA,wCAEA,WAAA,CAAA,gBAAAmB,EAAA,eAAAC,CAAA,aAEC,MAAA,CACC,MAAA,uDAGC,KAAA,GAEF,CACD,CACD,+BAxBgB,MAAA,8HA3Bd,MAAA,OACA,SAAA,+BACC,YAAAC,EAAA,UA2BU,QAAAhB,EAAA,IAAA,MACO,SAAAgB,EAAA,SAAqB,QAAAA,EAAA,0CAhCzC,QAAAhB,EAAA,IAAA,wDAMEE,IAAAC,EAAA,MAAAP,EAAA,0KAMG,GAAA,UAAAoB,EAAA,QAAA,SAAAC,EAAA,IAAA,KAZL,QAAAjB,EAAA,IAAA;wIAuBEE,IAAAC,EAAA,MAAAC,EAAA,2CAGG,QAAA,GACD,eAAA"}