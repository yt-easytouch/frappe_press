import{bK as v,bO as $,bX as S,bP as B,bQ as C,bR as L,bT as q,bU as D,l as E,bV as T,h as u,o,w as m,q as p,A as M,ae as A,Z as y,a9 as I,a4 as O,n as j,k as K}from"./main-Dpl-JOF2.js";import{D as b}from"./datetime-PXpIdgFA.js";import{B as V,f as z,g as P}from"./LineChart-BDXlcfBY.js";import{_ as Q}from"./Card-BCzTSeNK.js";import{t as a}from"./tailwind.theme-XeumNAwU.js";(function(){try{var t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},l=new Error().stack;l&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[l]="cac212cb-bfdc-4fb9-9dd0-be13e49a7287",t._sentryDebugIdIdentifier="sentry-dbid-cac212cb-bfdc-4fb9-9dd0-be13e49a7287")}catch(g){}})();{var c=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};c._sentryModuleMetadata=c._sentryModuleMetadata||{},c._sentryModuleMetadata[new Error().stack]=Object.assign({},c._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const R={key:0,class:"flex h-full items-center justify-center"},U={key:1,class:"flex h-full items-center justify-center"},X={key:1,class:"text-base text-gray-700"},Y={__name:"BarChart",props:{showCard:{type:Boolean,required:!1,default:()=>!0},title:{type:String,required:!1},unit:{type:String,required:!1,default:()=>""},data:{type:Object,required:!0,default:()=>({labels:[],datasets:[]})},type:{type:String,required:!1,default:()=>"category"},chartTheme:{type:Array,required:!1,default:()=>[a.colors.red[500],a.colors.blue[500],a.colors.green[500],a.colors.purple[500],a.colors.yellow[500],a.colors.teal[500],a.colors.pink[500],a.colors.cyan[500]]},loading:{type:Boolean,required:!1,default:()=>!1},error:{type:String,required:!1,default:()=>""}},setup(t){const l=t,{title:g,unit:n,data:r,type:h,chartTheme:i}=v(l);$([S,B,C,L,q,D]);const w={renderer:"svg"},x=E({grid:{top:20,left:60,right:40,bottom:50},tooltip:{trigger:"axis",confine:!0,extraCssText:"width: 60%; white-space: normal; word-wrap: break-word;",formatter:e=>{let s=`<p>${b.fromSQL(e[0].axisValueLabel).toLocaleString(b.DATETIME_MED)}</p>`;return e.forEach(({value:f,seriesName:d},k)=>{s+=`<p>${(_=>'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+_+'"></span>')(i.value[k])}  ${P(f,n.value)} ${n.value!==d?`- ${d}`:""}</p>`}),s}},xAxis:{type:h,boundaryGap:!1,data:r.value.labels,axisLine:{show:!1},axisTick:{show:!1}},yAxis:{type:"value",max:r.value.yMax,axisLabel:{formatter:e=>n.value==="bytes"?z(e,0):e>=1e9?`${e/1e9}B`:e>=1e6?`${e/1e6}M`:e>=1e3?`${e/1e3}K`:e,padding:5}},labelLine:{smooth:.2,length:10,length2:20},legend:{type:"scroll",top:"bottom",icon:"circle",show:r.value.datasets.length>1},series:r.value.datasets.map((e,s)=>({name:e.path.replace(/\n|\t/g,"")||n,type:"bar",stack:e.stack,showSymbol:!1,data:e.values||e,markLine:r.value.markLine,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},lineStyle:{color:i.value[s]},itemStyle:{color:i.value[s]},areaStyle:{color:new T(0,0,0,1,[{offset:0,color:i.value[s]},{offset:1,color:"#fff"}]),opacity:.3}}))});return(e,s)=>{const f=A,d=I;return o(),u(K(t.showCard?Q:"div"),{title:y(g),class:j(t.showCard?"h-80":""),loading:t.loading,stopOverflow:!0},{actions:m(()=>[O(e.$slots,"actions")]),default:m(()=>[t.loading&&!t.showCard?(o(),p("div",R,[M(f)])):t.error||!y(r).datasets.length?(o(),p("div",U,[t.error?(o(),u(d,{key:0,message:t.error},null,8,["message"])):(o(),p("span",X,"No data"))])):(o(),u(y(V),{key:2,autoresize:"",class:"chart",option:x.value,"init-options":w},null,8,["option"]))]),_:3},8,["title","class","loading"])}}};export{Y as _};
//# sourceMappingURL=BarChart-CKiFk9xA.js.map
