import{x as K,h as k,o as a,w as v,j as s,A as u,q as i,a8 as X,B as le,Y as w,F as Z,v as re,a9 as q,aA as H,V as h,u as c,X as F,t as $,aL as de,r as Y,aa as ue,ao as J,a2 as P,am as M,g as ce,aM as pe,l as V,ac as C,J as oe,aI as me,ap as ne,aB as T,H as be,s as he,Z as S,aN as ae}from"./main-Dpl-JOF2.js";import{C as z}from"./ClickToCopyField-C85Phphs.js";import{_ as ie}from"./Switch.vue_vue_type_script_setup_true_lang-5F9QrvuO.js";import{_ as ke}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-CH7TZuXP.js";import{_ as ge}from"./Header-BNMc-OFG.js";(function(){try{var t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="9f1a9bdb-2d41-4915-910b-c63b5726694b",t._sentryDebugIdIdentifier="sentry-dbid-9f1a9bdb-2d41-4915-910b-c63b5726694b")}catch(g){}})();{var L=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};L._sentryModuleMetadata=L._sentryModuleMetadata||{},L._sentryModuleMetadata[new Error().stack]=Object.assign({},L._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const fe={emits:["success"],data(){return{endpoint:"",secret:"",selectedEvents:[],errorMessage:""}},mounted(){this.selectedEvents.length&&(this.selectedEvents=this.selectedEvents.map(t=>t.name))},resources:{events(){return{url:"press.api.webhook.available_events",inititalData:[],auto:!0}},addWebhook(){return{url:"press.api.webhook.add",params:{endpoint:this.endpoint,secret:this.secret,events:this.selectedEvents},onSuccess(){h.success("Webhook added successfully"),this.$emit("success")}}}},computed:{},methods:{generateRandomSecret(){this.secret=Array(30).fill(0).map(()=>"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(Math.random()*62)]).join("")},selectEvent(t){this.selectedEvents.includes(t)?this.selectedEvents=this.selectedEvents.filter(e=>e!==t):this.selectedEvents.push(t)},isEventSelected(t){return this.selectedEvents.includes(t)},addWebhook(){if(!this.endpoint){this.errorMessage="Provide a valid webhook endpoint";return}if(!this.selectedEvents.length){this.errorMessage="Please enable at least one event";return}this.errorMessage="",this.$resources.addWebhook.submit()}}},ye={class:"space-y-4"},ve={key:0,class:"text-center text-sm leading-10 text-gray-500"},_e={key:1,class:"mt-6 flex flex-col gap-4"};function xe(t,e,g,A,n,d){var f,E;const p=X,m=le,b=ie,_=q,W=H;return a(),k(W,{options:{title:"Add New Webhook",actions:[{label:"Add Webhook",variant:"solid",onClick:d.addWebhook,loading:(E=(f=t.$resources)==null?void 0:f.addWebhook)==null?void 0:E.loading}]}},{"body-content":v(()=>[s("div",ye,[u(p,{label:"Endpoint",modelValue:n.endpoint,"onUpdate:modelValue":e[0]||(e[0]=r=>n.endpoint=r)},null,8,["modelValue"]),s("div",null,[u(p,{label:"Secret",modelValue:n.secret,"onUpdate:modelValue":e[1]||(e[1]=r=>n.secret=r)},{suffix:v(()=>[u(m,{class:"w-4 cursor-pointer",name:"refresh-ccw",onClick:d.generateRandomSecret},null,8,["onClick"])]),_:1},8,["modelValue"]),e[2]||(e[2]=s("p",{class:"mt-2 text-sm text-gray-700"},[s("strong",null,"Note:"),w(" Secret is optional. Check "),s("a",{href:"https://easytouch.cloud/docs/webhook-introduction",class:"underline",target:"_blank"},"the documentation"),w(" to learn more ")],-1))]),e[3]||(e[3]=s("p",{class:"text-base font-medium text-gray-900"}," Select the webhook events ",-1)),t.$resources.events.loading?(a(),i("div",ve," Loading... ")):(a(),i("div",_e,[(a(!0),i(Z,null,re(t.$resources.events.data,r=>(a(),k(b,{key:r.name,label:r.name,description:r.description,modelValue:d.isEventSelected(r.name),"onUpdate:modelValue":x=>d.selectEvent(r.name),size:"sm"},null,8,["label","description","modelValue","onUpdate:modelValue"]))),128))])),u(_,{message:n.errorMessage||t.$resources.addWebhook.error},null,8,["message"])])]),_:1},8,["options"])}const we=K(fe,[["render",xe]]),Se={emits:["success"],props:["webhook"],data(){return{errorMessage:"",validated:!1,request:null,response:null,response_status_code:null}},resources:{validateEndpoint(){return{url:"press.api.client.run_doc_method",makeParams(){return{dt:"Press Webhook",dn:this.webhook.name,method:"validate_endpoint"}},onSuccess:t=>{const e=t.message;this.request=e.request,this.response=e.response,this.response_status_code=e.response_status_code,e.success?(this.errorMessage="",this.validated=!0):(this.validated=!1,this.errorMessage=`Endpoint should return a status between 200 and 300
Please check the endpoint and try again`)},onError:t=>{console.error(t),this.errorMessage=t.message}}},activateWebhook(){return{url:"press.api.client.run_doc_method",makeParams(){return{dt:"Press Webhook",dn:this.webhook.name,method:"activate"}},onSuccess(t){h.success("Webhook activated successfully"),this.$emit("success")},onError(t){console.error(t),this.errorMessage=t.message}}}}},We={class:"space-y-4"},Ae={key:0},Ee={class:"mt-2 whitespace-pre-wrap rounded bg-gray-50 px-2 py-1.5 text-sm text-gray-600"},$e={key:2},Ce={class:"mt-2 max-h-52 overflow-y-auto whitespace-pre-wrap rounded bg-gray-50 px-2 py-1.5 text-sm text-gray-600"},Ve={key:3,class:"flex items-center"};function De(t,e,g,A,n,d){const p=X,m=de,b=q,_=F,W=H;return a(),k(W,{options:{title:"Activate Webhook"}},{"body-content":v(()=>[s("div",We,[u(p,{label:"Endpoint",modelValue:g.webhook.endpoint,"onUpdate:modelValue":e[0]||(e[0]=f=>g.webhook.endpoint=f),disabled:""},null,8,["modelValue"]),n.request?(a(),i("div",Ae,[e[4]||(e[4]=s("p",{class:"text-xs text-gray-600"},"Request",-1)),s("pre",Ee,$(n.request),1)])):c("",!0),n.response_status_code?(a(),k(p,{key:1,label:"Response Status Code",modelValue:n.response_status_code,"onUpdate:modelValue":e[1]||(e[1]=f=>n.response_status_code=f),disabled:""},null,8,["modelValue"])):c("",!0),n.response?(a(),i("div",$e,[e[5]||(e[5]=s("p",{class:"text-xs text-gray-600"},"Response",-1)),s("pre",Ce,$(n.response),1)])):c("",!0),n.validated?(a(),i("div",Ve,[u(m,{class:"h-4 text-green-600"}),e[6]||(e[6]=s("div",{class:"ml-2 text-sm font-medium text-gray-700"}," Endpoint has been validated ",-1))])):c("",!0),u(b,{message:n.errorMessage},null,8,["message"])])]),actions:v(()=>[n.validated?c("",!0):(a(),k(_,{key:0,class:"w-full",theme:"gray",variant:"solid",onClick:e[2]||(e[2]=f=>t.$resources.validateEndpoint.submit()),loading:t.$resources.validateEndpoint.loading,loadingText:"Validating Webhook"},{default:v(()=>e[7]||(e[7]=[w("Validate Webhook")])),_:1},8,["loading"])),n.validated?(a(),k(_,{key:1,class:"w-full",theme:"gray",variant:"solid",onClick:e[3]||(e[3]=f=>t.$resources.activateWebhook.submit()),loading:t.$resources.activateWebhook.loading,loadingText:"Activating Webhook"},{default:v(()=>e[8]||(e[8]=[w("Activate Webhook")])),_:1},8,["loading"])):c("",!0)]),_:1})}const Ie=K(Se,[["render",De]]),Pe={emits:["success"],props:["webhook"],data(){return{endpoint:"",secret:"",updateSecret:!1,selectedEvents:[],errorMessage:""}},mounted(){this.selectedEvents.length&&(this.selectedEvents=this.selectedEvents.map(t=>t.name))},resources:{events(){return{url:"press.api.webhook.available_events",inititalData:[],auto:!0}},fetchWebhookInfo(){return{url:"press.api.client.get",params:{doctype:"Press Webhook",name:this.webhook.name},auto:!0,onSuccess:t=>{this.endpoint=t.endpoint,this.selectedEvents=t.events.map(e=>e.event)}}},updateWebhook(){return{url:"press.api.webhook.update",validate:()=>{if(!this.selectedEvents)return"Please enable at least one event"},makeParams:()=>({name:this.webhook.name,endpoint:this.endpoint,secret:this.updateSecret?this.secret:"",events:this.selectedEvents}),onSuccess:()=>{h.success("Webhook updated successfully");const t=this.webhook.endpoint!==this.endpoint;this.$emit("success",t)},onError:t=>{h.error(ue(t,"Failed to update webhook. Please try again"))}}}},computed:{},methods:{generateRandomSecret(){this.secret=Array(30).fill(0).map(()=>"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(Math.random()*62)]).join("")},selectEvent(t){this.selectedEvents.includes(t)?this.selectedEvents=this.selectedEvents.filter(e=>e!==t):this.selectedEvents.push(t)},isEventSelected(t){return this.selectedEvents.includes(t)},updateWebhook(){if(this.selectedEvents.length===0){this.errorMessage="Please select at least one event to add";return}this.errorMessage="",this.$resources.updateWebhook.submit()}}},Me={class:"space-y-4"},Ke={key:0},He={class:"mt-1 flex items-center justify-between text-base text-gray-700"},Re={key:1},Ue={class:"mt-1.5 text-sm text-gray-700"},je={key:2,class:"text-center text-sm leading-10 text-gray-500"},Be={key:3,class:"mt-6 flex flex-col gap-3"};function Ne(t,e,g,A,n,d){const p=X,m=F,b=le,_=Y("secret"),W=ie,f=q,E=H;return a(),k(E,{options:{title:"Edit Webhook",actions:[{label:"Save Changes",variant:"solid",onClick:d.updateWebhook,loading:this.$resources.updateWebhook.loading}]}},{"body-content":v(()=>[s("div",Me,[s("div",null,[u(p,{label:"Endpoint",modelValue:n.endpoint,"onUpdate:modelValue":e[0]||(e[0]=r=>n.endpoint=r)},null,8,["modelValue"]),e[3]||(e[3]=s("p",{class:"mt-1.5 text-sm text-gray-700"}," If you change the endpoint, make sure to activate the webhook again. ",-1))]),n.updateSecret?(a(),i("div",Re,[u(p,{label:"Secret",modelValue:n.secret,"onUpdate:modelValue":e[2]||(e[2]=r=>n.secret=r)},{suffix:v(()=>[u(b,{class:"w-4 cursor-pointer",name:"refresh-ccw",onClick:d.generateRandomSecret},null,8,["onClick"])]),_:1},8,["modelValue"]),s("p",Ue,[u(_,null,{default:v(()=>e[7]||(e[7]=[w("Note:")])),_:1}),e[8]||(e[8]=w(" Secret is optional. Check ")),e[9]||(e[9]=s("a",{href:"https://easytouch.cloud/docs/webhook-introduction",class:"underline",target:"_blank"},"the documentation",-1)),e[10]||(e[10]=w(" to learn more "))])])):(a(),i("div",Ke,[e[6]||(e[6]=s("p",{class:"block text-xs text-gray-600"},"Secret",-1)),s("div",He,[e[5]||(e[5]=s("p",null,"Want to change the secret?",-1)),u(m,{onClick:e[1]||(e[1]=r=>n.updateSecret=!0)},{default:v(()=>e[4]||(e[4]=[w("Edit Secret")])),_:1})])])),e[11]||(e[11]=s("p",{class:"text-base font-medium text-gray-900"}," Select the webhook events ",-1)),t.$resources.events.loading?(a(),i("div",je," Loading... ")):(a(),i("div",Be,[(a(!0),i(Z,null,re(t.$resources.events.data,r=>(a(),k(W,{key:r.name,label:r.name,description:r.description,modelValue:d.isEventSelected(r.name),"onUpdate:modelValue":x=>d.selectEvent(r.name),size:"sm"},null,8,["label","description","modelValue","onUpdate:modelValue"]))),128))])),u(f,{message:n.errorMessage||t.$resources.updateWebhook.error},null,8,["message"])])]),_:1},8,["options"])}const Le=K(Pe,[["render",Ne]]),qe={props:["id"],data(){return{endpoint:null,errorMessage:"",validated:!1,request:null,response:null,response_status_code:null}},resources:{attempt(){return{url:"press.api.webhook.attempt",makeParams:()=>({name:this.$props.id}),auto:!0}}},computed:{data(){return this.$resources.attempt.data||{}}},methods:{is_valid_status_code(t){return!(!t||t=="0")}}},Fe={key:0},Oe={key:1,class:"space-y-4"},Te={class:"mt-2 text-sm text-gray-700"},ze={class:"mt-2 max-h-52 overflow-y-auto whitespace-pre-wrap rounded bg-gray-50 px-2 py-1.5 text-sm text-gray-600"},Ye={key:0},Je={class:"mt-2 text-sm text-gray-700"},Xe={key:1},Ze={class:"mt-2 max-h-52 overflow-y-auto whitespace-pre-wrap rounded bg-gray-50 px-2 py-1.5 text-sm text-gray-600"},Qe={class:"mt-2 text-sm text-gray-700"};function Ge(t,e,g,A,n,d){var m,b,_,W,f,E,r,x,D,R,I,U,j,B;const p=q;return a(),i(Z,null,[t.$resources.attempt.loading?(a(),i("div",Fe,"Loading...")):(a(),i("div",Oe,[s("div",null,[e[0]||(e[0]=s("p",{class:"text-xs text-gray-600"},"Endpoint",-1)),s("p",Te,$((b=(m=t.$resources.attempt)==null?void 0:m.data)==null?void 0:b.endpoint),1)]),s("div",null,[e[1]||(e[1]=s("p",{class:"text-xs text-gray-600"},"Request",-1)),s("pre",ze,$((W=(_=t.$resources.attempt)==null?void 0:_.data)==null?void 0:W.request_payload),1)]),d.is_valid_status_code((E=(f=t.$resources.attempt)==null?void 0:f.data)==null?void 0:E.response_status_code)?(a(),i("div",Ye,[e[2]||(e[2]=s("p",{class:"text-xs text-gray-600"},"Response Status Code",-1)),s("p",Je,$((x=(r=t.$resources.attempt)==null?void 0:r.data)==null?void 0:x.response_status_code),1)])):c("",!0),(R=(D=t.$resources.attempt)==null?void 0:D.data)!=null&&R.response_body?(a(),i("div",Xe,[e[3]||(e[3]=s("p",{class:"text-xs text-gray-600"},"Response",-1)),s("pre",Ze,$((U=(I=t.$resources.attempt)==null?void 0:I.data)==null?void 0:U.response_body),1)])):c("",!0),s("div",null,[e[4]||(e[4]=s("p",{class:"text-xs text-gray-600"},"Timestamp",-1)),s("p",Qe,$((B=(j=t.$resources.attempt)==null?void 0:j.data)==null?void 0:B.creation),1)])])),u(p,{class:"mt-4",message:t.$resources.attempt.error},null,8,["message"])],64)}const et=K(qe,[["render",Ge]]),tt={name:"WebhookAttempts",props:["name"],components:{Header:ge,Breadcrumbs:ke,ObjectList:J,WebhookAttemptDetails:et},data(){return{selectedWebhookAttemptId:null}},resources:{attempts(){return{url:"press.api.webhook.attempts",params:{webhook:this.$props.name},inititalData:[],auto:!0}}},computed:{listOptions(){return{data:()=>{var t,e;return((e=(t=this.$resources)==null?void 0:t.attempts)==null?void 0:e.data)||[]},columns:[{label:"Event",fieldname:"event",width:.25},{label:"Endpoint",fieldname:"endpoint",width:.5,format:t=>t.substring(0,50)},{label:"Status",fieldname:"status",width:.1,type:"Component",component({row:t}){return t.status==="Sent"?P(M,{label:t.status,theme:"green"}):P(M,{label:t.status,theme:"red"})}},{label:"Code",fieldname:"response_status_code",width:.1,format:t=>!t||parseInt(t)===0?"-":t,align:"center"},{label:"Timestamp",fieldname:"timestamp",width:.3,format(t){return new Date(t).toLocaleString()}}],onRowClick:t=>{this.selectedWebhookAttemptId=t.name}}}}},st={key:0,class:"text-sm mb-2 text-gray-700"};function ot(t,e,g,A,n,d){const p=Y("ObjectList"),m=F,b=Y("WebhookAttemptDetails"),_=H;return a(),k(_,{options:{title:n.selectedWebhookAttemptId?`Webhook Attempt - ${n.selectedWebhookAttemptId}`:"Webhook Attempts",size:"4xl"}},{"body-content":v(()=>[n.selectedWebhookAttemptId?c("",!0):(a(),i("p",st,e[1]||(e[1]=[s("strong",null,"Note:",-1),w(" You can only view logs of last 24 hours ")]))),n.selectedWebhookAttemptId?c("",!0):(a(),k(p,{key:1,options:d.listOptions},null,8,["options"])),n.selectedWebhookAttemptId?(a(),k(m,{key:2,class:"mb-2",iconLeft:"arrow-left",onClick:e[0]||(e[0]=W=>n.selectedWebhookAttemptId=null)},{default:v(()=>e[2]||(e[2]=[w(" Back ")])),_:1})):c("",!0),n.selectedWebhookAttemptId?(a(),k(b,{key:3,id:n.selectedWebhookAttemptId},null,8,["id"])):c("",!0)]),_:1},8,["options"])}const nt=K(tt,[["render",ot]]),at={class:"p-5"},lt={class:"grid grid-cols-1 gap-5"},rt={class:"mx-auto min-w-[48rem] max-w-3xl space-y-6 rounded-md border p-4"},it={class:"flex items-center justify-between"},dt={key:0},ut={key:1,class:"pb-2 text-base text-gray-700"},ct={key:0},pt={class:"block pt-2"},mt={class:"block pt-2"},bt={key:1,class:"text-base text-gray-700"},ht={class:"mx-auto min-w-[48rem] max-w-3xl space-y-6 rounded-md border p-4"},kt={key:0,class:"mx-auto min-w-[48rem] max-w-3xl space-y-6 rounded-md border p-4"},xt={__name:"DeveloperSettings",setup(t){const e=ce();pe();let g=V(!1);const A=V(!1),n=V(!1),d=V(!1),p=V(!1),m=V(null),b=C({url:"press.api.account.create_api_secret",onSuccess(){e.doc.user_info.api_key?h.success("API Secret regenerated successfully"):h.success("API Secret created successfully")}}),_=C({url:"press.api.client.insert",onSuccess(){h.success("SSH Key added successfully")},onError(o){h.error(o.messages.length?o.messages.join(`
`):"SSH Key could not be added")}}),W=C({url:"press.api.account.mark_key_as_default",onSuccess(){h.success("SSH Key updated successfully")},onError(o){h.error(o.messages.length?o.messages.join(`
`):"SSH Key could not be marked as default")}}),f=C({url:"press.api.client.delete",onSuccess(){h.success("SSH Key deleted successfully")},onError(o){h.error(o.messages.length?o.messages.join(`
`):"SSH Key could not be deleted")}}),E=oe(()=>({resource(){return{url:"press.api.account.get_user_ssh_keys",initialData:[],auto:!0}},columns:[{label:"SSH Fingerprint",fieldname:"ssh_fingerprint",class:"font-mono",format:o=>`SHA256:${o}`,suffix(o){return o.is_default?P(M,{label:"Default",theme:"green",class:"ml-2"}):null}},{label:"Added On",fieldname:"creation",width:.1,format:o=>me(o,"ll")}],primaryAction({listResource:o}){return{label:"Add SSH Key",slots:{prefix:ne("plus")},onClick:()=>r(o)}},rowActions({row:o}){return[{label:"Mark as Default",condition:()=>!o.is_default,onClick(){W.submit({key_name:o.name})}},{label:"Delete",onClick(){f.submit({doctype:"User SSH Key",name:o.name})}}]}}));function r(o){T({title:"Add New SSH Key",message:"Add a new SSH Key to your account",fields:[{label:"SSH Key",fieldname:"sshKey",type:"textarea",placeholder:"Begins with 'ssh-rsa', 'ecdsa-sha2-nistp256', 'ecdsa-sha2-nistp384', 'ecdsa-sha2-nistp521', 'ssh-ed25519', 'sk-ecdsa-sha2-nistp256@openssh.com', or 'sk-ssh-ed25519@openssh.com'",required:!0}],primaryAction:{label:"Add SSH Key",variant:"solid",onClick({hide:l,values:N}){if(!N.sshKey)throw new Error("SSH Key is required");_.submit({doc:{doctype:"User SSH Key",ssh_public_key:N.sshKey,user:e.doc.user_info.name}}).then(()=>{o.reload(),l()}).catch(O=>{h.error(O.message)})}}})}const x=C({url:"press.api.client.get_list",params:{doctype:"Press Webhook",fields:["name","enabled","endpoint"]},initialData:[],auto:!1}),D=C({url:"press.api.client.delete",onSuccess(){h.success("Webhook deleted successfully"),x.reload()},onError(o){h.error(o.messages.length?o.messages.join(`
`):"Webhook could not be deleted")}}),R=oe(()=>({data:()=>x.data,columns:[{label:"Endpoint",fieldname:"endpoint",width:1,format:o=>o.substring(0,50)},{label:"Status",fieldname:"enabled",width:.1,type:"Component",align:"right",component({row:o}){return o.enabled?P(M,{label:"Enabled",theme:"green"}):P(M,{label:"Disabled",theme:"red"})}}],rowActions({row:o}){return[{label:"Activate",condition:()=>!o.enabled,onClick(){m.value=o,n.value=!0}},{label:"Disable",condition:()=>!!o.enabled,onClick:()=>{T({title:"Disable Webhook",message:`Endpoint - ${o.endpoint}<br>Are you sure you want to disable the webhook ?<br>`,primaryAction:{label:"Disable",variant:"solid",theme:"red",onClick({hide:l}){return I.submit({dt:"Press Webhook",dn:o.name,method:"disable"}).then(l),I.promise}}})}},{label:"Attempts",onClick:()=>{m.value=o,p.value=!0}},{label:"Edit",onClick(){m.value=o,d.value=!0}},{label:"Delete",onClick(){T({title:"Delete Webhook",message:`Endpoint - ${o.endpoint}<br>Are you sure you want to delete the webhook ?<br>`,primaryAction:{label:"Delete",variant:"solid",theme:"red",onClick({hide:l}){return D.submit({doctype:"Press Webhook",name:o.name}).then(l),D.promise}}})}}]},primaryAction(){return{label:"Add Webhook",slots:{prefix:ne("plus")},onClick:()=>A.value=!0}},secondaryAction(){return{label:"Refresh",icon:"refresh-ccw",onClick:()=>x.reload()}}})),I=C({url:"press.api.client.run_doc_method",onSuccess(){h.success("Webhook disabled successfully"),x.reload()},onError(o){h.error(o.messages.length?o.messages.join(`
`):"Webhook could not be disabled")}}),U=()=>{x.reload(),A.value=!1},j=()=>{x.reload(),n.value=!1},B=o=>{x.reload(),d.value=!1,o&&(n.value=!0)};return be(()=>{he.hasWebhookConfigurationAccess&&x.fetch()}),(o,l)=>{var Q,G,ee,te;const N=F,O=H;return a(),i("div",at,[s("div",lt,[s("div",rt,[s("div",it,[l[6]||(l[6]=s("div",{class:"text-xl font-semibold"},"API Access",-1)),u(N,{onClick:l[0]||(l[0]=y=>ae(g)?g.value=!0:g=!0)},{default:v(()=>{var y,se;return[w($((se=(y=S(e).doc)==null?void 0:y.user_info)!=null&&se.api_key?"Regenerate API Secret":"Create New API Key"),1)]}),_:1})]),(G=(Q=S(e).doc)==null?void 0:Q.user_info)!=null&&G.api_key?(a(),i("div",dt,[(te=(ee=S(e).doc)==null?void 0:ee.user_info)!=null&&te.api_key?(a(),k(z,{key:0,textContent:S(e).doc.user_info.api_key},null,8,["textContent"])):c("",!0)])):(a(),i("div",ut," You don't have an API key yet. Click the button above to create one. ")),u(O,{modelValue:S(g),"onUpdate:modelValue":l[1]||(l[1]=y=>ae(g)?g.value=y:g=y),options:{title:"API Access",size:"xl",actions:[{label:S(e).doc.user_info.api_key?"Regenerate API Secret":"Create New API Key",variant:"solid",disabled:S(b).data,loading:S(b).loading,onClick(){S(b).submit()}}]}},{"body-content":v(()=>[S(b).data?(a(),i("div",ct,[l[9]||(l[9]=s("p",{class:"text-base"}," Please copy the API secret now. You won’t be able to see it again! ",-1)),s("label",pt,[l[7]||(l[7]=s("span",{class:"mb-2 block text-sm leading-4 text-gray-700"},"API Key",-1)),u(z,{textContent:S(b).data.api_key},null,8,["textContent"])]),s("label",mt,[l[8]||(l[8]=s("span",{class:"mb-2 block text-sm leading-4 text-gray-700"},"API Secret",-1)),u(z,{textContent:S(b).data.api_secret},null,8,["textContent"])])])):(a(),i("div",bt,l[10]||(l[10]=[w(" API key and API secret pairs can be used to access the "),s("a",{href:"/docs/api",class:"underline",target:"_blank"},"Easytouch Cloud API",-1),w(". ")])))]),_:1},8,["modelValue","options"])]),s("div",ht,[l[11]||(l[11]=s("div",{class:"flex items-center justify-between"},[s("div",{class:"text-xl font-semibold"},"SSH Keys")],-1)),u(J,{options:E.value},null,8,["options"])]),o.$session.hasWebhookConfigurationAccess?(a(),i("div",kt,[l[12]||(l[12]=s("div",{class:"flex items-center justify-between"},[s("div",{class:"text-xl font-semibold"},"Webhooks")],-1)),u(J,{options:R.value},null,8,["options"]),A.value?(a(),k(we,{key:0,modelValue:A.value,"onUpdate:modelValue":l[2]||(l[2]=y=>A.value=y),onSuccess:U},null,8,["modelValue"])):c("",!0),n.value?(a(),k(Ie,{key:1,modelValue:n.value,"onUpdate:modelValue":l[3]||(l[3]=y=>n.value=y),onSuccess:j,webhook:m.value},null,8,["modelValue","webhook"])):c("",!0),d.value?(a(),k(Le,{key:2,modelValue:d.value,"onUpdate:modelValue":l[4]||(l[4]=y=>d.value=y),onSuccess:B,webhook:m.value},null,8,["modelValue","webhook"])):c("",!0),p.value?(a(),k(nt,{key:3,modelValue:p.value,"onUpdate:modelValue":l[5]||(l[5]=y=>p.value=y),name:m.value.name},null,8,["modelValue","name"])):c("",!0)])):c("",!0)])])}}};export{xt as default};
//# sourceMappingURL=DeveloperSettings-BGv7yLJ6.js.map
