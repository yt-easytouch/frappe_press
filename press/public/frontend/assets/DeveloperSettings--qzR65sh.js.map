{"version":3,"file":"DeveloperSettings--qzR65sh.js","sources":["../../../../dashboard/src/views/settings/AccountAPI.vue","../../../../dashboard/src/views/settings/AccountSSHKey.vue","../../../../dashboard/src/views/settings/FeatureFlags.vue","../../../../dashboard/src/views/settings/DeveloperSettings.vue"],"sourcesContent":["<template>\n\t<Card title=\"API Access\" subtitle=\"API key associated with your account\">\n\t\t<div v-if=\"$account.user.api_key\">\n\t\t\t<p class=\"font-mono text-sm text-gray-800\">\n\t\t\t\t<ClickToCopyField :textContent=\"$account.user.api_key\" />\n\t\t\t</p>\n\t\t</div>\n\t\t<template #actions>\n\t\t\t<Button\n\t\t\t\tv-if=\"!$account.user.api_key\"\n\t\t\t\t@click=\"showCreateSecretDialog = true\"\n\t\t\t>\n\t\t\t\tCreate New API Key\n\t\t\t</Button>\n\t\t\t<Button\n\t\t\t\tv-if=\"$account.user.api_key\"\n\t\t\t\t@click=\"showCreateSecretDialog = true\"\n\t\t\t>\n\t\t\t\tRegenerate API Secret\n\t\t\t</Button>\n\t\t</template>\n\t\t<Dialog\n\t\t\t:options=\"{ title: 'API Access' }\"\n\t\t\tv-model=\"showCreateSecretDialog\"\n\t\t\tv-on:close=\"createSecretdialogClosed\"\n\t\t>\n\t\t\t<template v-slot:body-content>\n\t\t\t\t<div v-if=\"!$resources.createSecret.data\">\n\t\t\t\t\t<p class=\"text-base\">\n\t\t\t\t\t\tAPI key and API secret pairs can be used to access the\n\t\t\t\t\t\t<a href=\"/docs/api\" class=\"underline\">Easytouch Cloud API</a>.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"$resources.createSecret.data\">\n\t\t\t\t\t<p class=\"text-base\">\n\t\t\t\t\t\tPlease copy the API secret now. You wonâ€™t be able to see it again!\n\t\t\t\t\t</p>\n\t\t\t\t\t<label class=\"block pt-2\">\n\t\t\t\t\t\t<span class=\"mb-2 block text-sm leading-4 text-gray-700\"\n\t\t\t\t\t\t\t>API Key</span\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<ClickToCopyField\n\t\t\t\t\t\t\t:textContent=\"$resources.createSecret.data.api_key\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label class=\"block pt-2\">\n\t\t\t\t\t\t<span class=\"mb-2 block text-sm leading-4 text-gray-700\"\n\t\t\t\t\t\t\t>API Secret</span\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<ClickToCopyField\n\t\t\t\t\t\t\t:textContent=\"$resources.createSecret.data.api_secret\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<ErrorMessage class=\"mt-2\" :message=\"$resources.createSecret.error\" />\n\t\t\t</template>\n\n\t\t\t<template #actions>\n\t\t\t\t<Button\n\t\t\t\t\tclass=\"w-full\"\n\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\t@click=\"$resources.createSecret.submit()\"\n\t\t\t\t\tv-if=\"!$account.user.api_key && !$resources.createSecret.data\"\n\t\t\t\t\t:loading=\"$resources.createSecret.loading\"\n\t\t\t\t>\n\t\t\t\t\tCreate New API Key\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tclass=\"w-full\"\n\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\t@click=\"$resources.createSecret.submit()\"\n\t\t\t\t\tv-if=\"$account.user.api_key && !$resources.createSecret.data\"\n\t\t\t\t\t:loading=\"$resources.createSecret.loading\"\n\t\t\t\t>\n\t\t\t\t\tRegenerate API Secret\n\t\t\t\t</Button>\n\t\t\t</template>\n\t\t</Dialog>\n\t</Card>\n</template>\n<script>\nimport ClickToCopyField from '@/components/ClickToCopyField.vue';\nimport { notify } from '@/utils/toast';\n\nexport default {\n\tname: 'AccountAPI',\n\tcomponents: {\n\t\tClickToCopyField\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshowCreateSecretDialog: false\n\t\t};\n\t},\n\n\tresources: {\n\t\tcreateSecret() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.account.create_api_secret',\n\t\t\t\tonSuccess() {\n\t\t\t\t\tnotify({\n\t\t\t\t\t\ttitle: 'Created new API Secret',\n\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\tcolor: 'green'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\tcreateSecretdialogClosed() {\n\t\t\tthis.$account.fetchAccount();\n\t\t\tthis.$resources.createSecret.reset();\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<Card\n\t\ttitle=\"SSH Key\"\n\t\tsubtitle=\"SSH public key associated with your account\"\n\t\tv-if=\"$account.team.ssh_access_enabled\"\n\t>\n\t\t<div v-if=\"$account.ssh_key\">\n\t\t\t<p class=\"font-mono text-sm text-gray-800\">\n\t\t\t\tSHA256:{{ $account.ssh_key.ssh_fingerprint }}\n\t\t\t</p>\n\t\t\t<div class=\"mt-2 text-base text-gray-700\">\n\t\t\t\tAdded on\n\t\t\t\t{{\n\t\t\t\t\t$date($account.ssh_key.creation).toLocaleString({\n\t\t\t\t\t\tmonth: 'short',\n\t\t\t\t\t\tday: 'numeric',\n\t\t\t\t\t\tyear: 'numeric'\n\t\t\t\t\t})\n\t\t\t\t}}\n\t\t\t</div>\n\t\t</div>\n\t\t<template #actions>\n\t\t\t<Button v-if=\"!$account.ssh_key\" @click=\"showAddNewKeyDialog = true\">\n\t\t\t\tNew SSH Key\n\t\t\t</Button>\n\t\t\t<Button v-else @click=\"showAddNewKeyDialog = true\">\n\t\t\t\tChange SSH Key\n\t\t\t</Button>\n\t\t</template>\n\t\t<Dialog\n\t\t\t:options=\"{\n\t\t\t\ttitle: 'New SSH Key',\n\t\t\t\tactions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Add Key',\n\t\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\t\tonClick: () => $resources.saveKey.submit()\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\"\n\t\t\tv-model=\"showAddNewKeyDialog\"\n\t\t>\n\t\t\t<template v-slot:body-content>\n\t\t\t\t<div class=\"mt-3\">\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\t:label=\"'SSH Key'\"\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\tplaceholder=\"Begins with 'ssh-rsa', 'ecdsa-sha2-nistp256', 'ecdsa-sha2-nistp384', 'ecdsa-sha2-nistp521', 'ssh-ed25519', 'sk-ecdsa-sha2-nistp256@openssh.com', or 'sk-ssh-ed25519@openssh.com'\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tv-model=\"newKey\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<ErrorMessage class=\"mt-2\" :message=\"$resources.saveKey.error\" />\n\t\t\t</template>\n\t\t</Dialog>\n\t</Card>\n</template>\n<script>\nimport { notify } from '@/utils/toast';\n\nexport default {\n\tname: 'AccountSSHKey',\n\tdata() {\n\t\treturn {\n\t\t\tshowAddNewKeyDialog: false,\n\t\t\tnewKey: null\n\t\t};\n\t},\n\n\tresources: {\n\t\tsaveKey() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.account.add_key',\n\t\t\t\tparams: {\n\t\t\t\t\tkey: this.newKey\n\t\t\t\t},\n\t\t\t\tonSuccess() {\n\t\t\t\t\tthis.$account.fetchAccount();\n\t\t\t\t\tthis.showAddNewKeyDialog = false;\n\t\t\t\t\tnotify({\n\t\t\t\t\t\ttitle: 'New SSH Key Added',\n\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\tcolor: 'green'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<Card title=\"Advanced features\" v-if=\"$account.hasRole('Press Admin')\">\n\t\t<div class=\"flex flex-col space-y-4\">\n\t\t\t<FormControl\n\t\t\t\tv-for=\"field in fields\"\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\t:label=\"field.label\"\n\t\t\t\tv-model=\"values[field.fieldname]\"\n\t\t\t/>\n\t\t</div>\n\t\t<div class=\"mt-4\">\n\t\t\t<Button\n\t\t\t\tvariant=\"solid\"\n\t\t\t\tv-if=\"isDirty\"\n\t\t\t\t@click=\"$resources.updateFeatureFlags.submit()\"\n\t\t\t\t:loading=\"$resources.updateFeatureFlags.loading\"\n\t\t\t>\n\t\t\t\tSave changes\n\t\t\t</Button>\n\t\t</div>\n\t</Card>\n</template>\n<script>\nimport { FormControl } from 'frappe-ui';\n\nlet fields = [\n\t{ label: 'Enable private benches', fieldname: 'benches_enabled' },\n\t//{ label: 'Enable servers', fieldname: 'servers_enabled' },\n\t//{\n\t//label: 'Enable self-hosted servers',\n\t//fieldname: 'self_hosted_servers_enabled'\n\t//},\n\t{\n\t\tlabel: 'Enable security portal',\n\t\tfieldname: 'security_portal_enabled'\n\t}\n];\n\nexport default {\n\tname: 'FeatureFlags',\n\tcomponents: { FormControl },\n\tdata() {\n\t\tlet values = {};\n\n\t\tfor (let field of fields) {\n\t\t\tvalues[field.fieldname] = Boolean(this.$account.team[field.fieldname]);\n\t\t}\n\n\t\treturn {\n\t\t\tvalues,\n\t\t\tfields\n\t\t};\n\t},\n\tresources: {\n\t\tupdateFeatureFlags() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.account.update_feature_flags',\n\t\t\t\tparams: {\n\t\t\t\t\tvalues: this.values\n\t\t\t\t},\n\t\t\t\tonSuccess() {\n\t\t\t\t\tthis.$account.fetchAccount();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tisDirty() {\n\t\t\treturn Object.keys(this.values).some(\n\t\t\t\tkey => Number(this.values[key]) !== Number(this.$account.team[key])\n\t\t\t);\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<div class=\"space-y-5\">\n\t\t<AccountAPI />\n\t\t<AccountSSHKey />\n\t\t<FeatureFlags />\n\t</div>\n</template>\n\n<script>\nimport AccountAPI from './AccountAPI.vue';\nimport AccountSSHKey from './AccountSSHKey.vue';\nimport FeatureFlags from './FeatureFlags.vue';\n\nexport default {\n\tname: 'DeveloperSettings',\n\tpageMeta() {\n\t\treturn {\n\t\t\ttitle: 'Settings - Developer'\n\t\t};\n\t},\n\tcomponents: {\n\t\tAccountAPI,\n\t\tAccountSSHKey,\n\t\tFeatureFlags\n\t}\n};\n</script>\n"],"names":["_sfc_main","ClickToCopyField","notify","_hoisted_2","_hoisted_5","_hoisted_6","_withCtx","_createCommentVNode","_cache","$event","$data","_createTextVNode","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_ctx","$options","_hoisted_3","_hoisted_4","_toDisplayString","fields","field","values","key","_Fragment","_renderList"],"mappings":"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"}