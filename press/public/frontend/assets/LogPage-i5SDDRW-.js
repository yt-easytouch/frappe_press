import{x as p,B as f,q as m,o as b,j as s,A as n,w as i,X as h,t as l,Y as y,bZ as w,bD as x,b$ as j}from"./main-Dpl-JOF2.js";import{_ as v}from"./sparkle-Bm7NguED.js";import{_ as N}from"./arrow-left-DH4AOn6w.js";(function(){try{var t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="35504757-d29d-46da-9be1-33adcb9199f1",t._sentryDebugIdIdentifier="sentry-dbid-35504757-d29d-46da-9be1-33adcb9199f1")}catch(o){}})();{var r=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};r._sentryModuleMetadata=r._sentryModuleMetadata||{},r._sentryModuleMetadata[new Error().stack]=Object.assign({},r._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const B={name:"LogPage",props:["name","logName","objectType"],components:{FeatherIcon:f},resources:{log(){var o;const t=this.forSite?"press.api.site.log":"press.api.bench.log",e={log:this.logName,name:this.name};return this.forSite||(e.name=`bench-${(o=this.name)==null?void 0:o.split("-")[1]}`,e.bench=this.name),{url:t,params:e,auto:!0,transform(d){return d[this.logName]},onSuccess(){this.lastLoaded=Date.now()}}}},computed:{forSite(){if(this.objectType==="Site")return!0;if(this.objectType==="Bench")return!1;throw j},object(){return x(this.objectType)},log(){return this.$resources.log.data}}},S={class:"p-5"},k={class:"flex items-center space-x-2"},D={class:"text-lg font-medium text-gray-900"},L={class:"!ml-auto flex gap-2"},I={class:"mt-3"},$={class:"mt-8 space-y-4"},T={class:"overflow-auto rounded border border-gray-100 bg-gray-900 px-2.5 py-2 text-sm text-gray-200"};function E(t,e,o,d,V,a){const u=N,c=h,_=v,g=w;return b(),m("div",S,[s("div",k,[n(c,{route:{name:a.object.doctype==="Site"?"Site Logs":`${a.object.doctype} Detail Logs`}},{icon:i(()=>[n(u,{class:"inline-block h-4 w-4"})]),_:1},8,["route"]),s("h2",D,l(o.logName),1),s("div",L,[n(c,{route:{name:"Log Browser",params:{mode:a.object.doctype==="Site"?"site":"bench",docName:o.name,logId:o.logName}}},{prefix:i(()=>[n(_,{class:"h-4 w-4"})]),default:i(()=>[e[1]||(e[1]=y(" View in Log Browser "))]),_:1},8,["route"]),n(c,{onClick:e[0]||(e[0]=P=>t.$resources.log.reload()),loading:t.$resources.log.loading},{icon:i(()=>[n(g,{class:"h-4 w-4"})]),_:1},8,["loading"])])]),s("div",I,[s("div",$,[s("div",T,[s("pre",null,l(t.$resources.log.loading?"Loading...":a.log||"No output"),1)])])])])}const O=p(B,[["render",E]]);export{O as default};
//# sourceMappingURL=LogPage-i5SDDRW-.js.map
