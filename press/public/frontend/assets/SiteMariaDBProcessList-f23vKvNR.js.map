{"version":3,"file":"SiteMariaDBProcessList-f23vKvNR.js","sources":["../../../../dashboard/src/views/site/SiteMariaDBProcessList.vue"],"sourcesContent":["<template>\n\t<div\n\t\tclass=\"flex items-center justify-center\"\n\t\tv-if=\"$resources.getPlan?.loading\"\n\t>\n\t\t<LoadingText />\n\t</div>\n\t<div v-else-if=\"$resources.getPlan?.data?.monitor_access\">\n\t\t<Card>\n\t\t\t<Report\n\t\t\t\t:title=\"`MariaDB Process List`\"\n\t\t\t\t:columns=\"[\n\t\t\t\t\t{ label: 'ID', name: 'id', class: 'w-1/12' },\n\t\t\t\t\t{ label: 'User', name: 'user', class: 'w-2/12' },\n\t\t\t\t\t{ label: 'Time', name: 'time', class: 'w-1/12' },\n\t\t\t\t\t{ label: 'Command', name: 'command', class: 'w-1/12' },\n\t\t\t\t\t{ label: 'State', name: 'state', class: 'w-2/12' },\n\t\t\t\t\t{ label: 'Query', name: 'query', class: 'w-5/12' }\n\t\t\t\t]\"\n\t\t\t\t:data=\"processData\"\n\t\t\t>\n\t\t\t\t<template #actions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t@click=\"$resources.processList.reload()\"\n\t\t\t\t\t\t:loading=\"$resources.processList.loading\"\n\t\t\t\t\t\t>Refresh</Button\n\t\t\t\t\t>\n\t\t\t\t</template>\n\t\t\t</Report>\n\t\t\t<div\n\t\t\t\tclass=\"px-2 py-2 text-base text-gray-600\"\n\t\t\t\tv-if=\"\n\t\t\t\t\t$resources.processList.loading &&\n\t\t\t\t\t$resources.processList.data.length == 0\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<LoadingText />\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass=\"py-2 text-base text-gray-600\"\n\t\t\t\tv-if=\"\n\t\t\t\t\t!$resources.processList.loading &&\n\t\t\t\t\t$resources.processList.data.length == 0\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\tNo data\n\t\t\t</div>\n\t\t</Card>\n\t</div>\n\t<div class=\"flex justify-center\" v-else>\n\t\t<span class=\"mt-16 text-base text-gray-700\">\n\t\t\tYour plan doesn't support this feature. Please upgrade your plan.\n\t\t</span>\n\t</div>\n</template>\n<script>\nimport Report from '@/components/Report.vue';\nexport default {\n\tname: 'SiteMariaDBProcessList',\n\tprops: ['site'],\n\tcomponents: {\n\t\tReport\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmax_lines: 20\n\t\t};\n\t},\n\tresources: {\n\t\tprocessList() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.analytics.mariadb_processlist',\n\t\t\t\tparams: {\n\t\t\t\t\tsite: this.site?.name\n\t\t\t\t},\n\t\t\t\tauto: true,\n\t\t\t\tpageLength: this.max_lines,\n\t\t\t\tkeepData: true,\n\t\t\t\tinitialData: []\n\t\t\t};\n\t\t},\n\t\tgetPlan() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.site.current_plan',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.site?.name\n\t\t\t\t},\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tprocessData() {\n\t\t\tlet data = [];\n\t\t\tthis.$resources.processList.data.forEach(row => {\n\t\t\t\tlet out = [\n\t\t\t\t\t{ name: 'ID', value: row.Id, class: 'w-1/12' },\n\t\t\t\t\t{ name: 'User', value: row.User, class: 'w-2/12' },\n\t\t\t\t\t{ name: 'Time', value: row.Time, class: 'w-1/12' },\n\t\t\t\t\t{ name: 'Command', value: row.Command, class: 'w-1/12' },\n\t\t\t\t\t{ name: 'State', value: row.State, class: 'w-2/12' },\n\t\t\t\t\t{ name: 'Query', value: row.Info, class: 'w-5/12' }\n\t\t\t\t];\n\t\t\t\tdata.push(out);\n\t\t\t});\n\t\t\treturn data;\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","_a","out","row","data","_openBlock","_createElementBlock","_hoisted_1","_c","_b","_ctx","_hoisted_2","_withCtx","$options","_cache","$event","_createTextVNode","_hoisted_3","_createCommentVNode","_hoisted_5","_createElementVNode"],"mappings":"s0BA2DA,MAAAA,EAAA,+BAEC,MAAA,CAAA,MAAA,wBAIA,MAAA,CACC,MAAA,+CAMC,MAAA,CACC,IAAA,0CACA,OAAA,CACC,MAAAC,EAAA,KAAA,OAAA,YAAAA,EAAA,MAED,KAAA,0DAMF,SAAA,OACC,MAAA,CACC,IAAA,8BACA,OAAA,CACC,MAAAA,EAAA,KAAA,OAAA,YAAAA,EAAA,MAED,KAAA,GAEF,GAED,SAAA,4EAIG,IAAAC,EAAA,CACC,CAAA,KAAA,KAAA,MAAAC,EAAA,GAAA,MAAA,QAAA,EACA,CAAA,KAAA,OAAA,MAAAA,EAAA,KAAA,MAAA,QAAA,EACA,CAAA,KAAA,OAAA,MAAAA,EAAA,KAAA,MAAA,QAAA,kDAEA,CAAA,KAAA,QAAA,MAAAA,EAAA,MAAA,MAAA,QAAA,EACA,CAAA,KAAA,QAAA,MAAAA,EAAA,KAAA,MAAA,QAAA,GAEDC,EAAA,KAAAF,CAAA,CACD,CAAA,GAED,CACD,CACD,WA5GE,MAAA,uDA4BE,MAAA,8CAUA,MAAA,yCAWE,MAAA,gIAlDLG,IAAAC,EAAA,MAAAC,EAAA,UAMgBC,GAAAC,EAAAC,EAAA,WAAA,UAAA,YAAAD,EAAA,OAAA,MAAAD,EAAA,gBAAhBH,IAAAC,EAAA,MAAAK,EAAA,WAPD,QAAAC,EAAA,IAAA,MAUK,MAAA,uBACA,QAAA,kQAOA,EACA,KAAAC,EAAA,cAEU,QAAAD,EAAA,IAAA,MAER,QAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAL,EAAA,WAAA,YAAA,OAAA,GACA,QAAAA,EAAA,WAAA,YAAA,UAxBP,QAAAE,EAAA,IAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAAAE,EAAA,SAAA,8EA+BuDN,EAAA,WAAA,YAAA,KAAA,QAAA,GAFpDL,IAAAC,EAAA,MAAAW,EAAA,SA7BHC,EAAA,GAAA,EAAA,qCAyCwDR,EAAA,WAAA,YAAA,KAAA,QAAA,+BAzCxDQ,EAAA,GAAA,EAAA,cAmDCb,EAAA,EAAAC,EAAA,MAAAa,EAAAL,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CACCM,EAAA,OAAA,CAAA,MAAA,+BAAA,EAAA,sEAAA,EAAA"}