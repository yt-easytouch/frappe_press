import{x as u,ad as g,V as p,r as f,h as _,o as r,w as b,q as y,u as w,A as o,t as h,a8 as B,a9 as V,aA as I}from"./main-Dpl-JOF2.js";import{A as v}from"./AddressForm-Cz0XUJgF.js";import"./Form-CIPLpg2e.js";(function(){try{var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},s=new Error().stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="b5799213-6e0c-4cca-84a0-cd1dc02a5b1e",e._sentryDebugIdIdentifier="sentry-dbid-b5799213-6e0c-4cca-84a0-cd1dc02a5b1e")}catch(n){}})();{var i=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};i._sentryModuleMetadata=i._sentryModuleMetadata||{},i._sentryModuleMetadata[new Error().stack]=Object.assign({},i._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const A={name:"UpdateBillingDetails",props:["message","show"],emits:["update:show","updated"],components:{AddressForm:v},data(){return{billingInformation:{address:"",city:"",state:"",postal_code:"",country:"",gstin:"",billing_name:""}}},resources:{currentBillingInformation(){return{url:"press.api.account.get_billing_information",auto:!0,onSuccess(e){"country"in(e||{})&&Object.assign(this.billingInformation,{address:e.address_line1,city:e.city,state:e.state,postal_code:e.pincode,country:e.country,gstin:e.gstin=="Not Applicable"?"":e.gstin,billing_name:e.billing_name})}}},updateBillingInformation(){return{url:"press.api.account.update_billing_information",makeParams(){return{billing_details:this.billingInformation}},onSuccess(){this.$emit("update:show",!1),p.success("Address updated successfully!"),this.$emit("updated")},validate(){var e=this.billingInformation.billing_name.trim(),s=/^[a-zA-Z0-9\-\'\,\.\s]+$/,n=s.test(e);if(!n)throw new g("Billing Name contains invalid characters");return this.billingInformation.billing_name=e,this.$refs["address-form"].validateValues()}}}}},D={key:0,class:"mb-5 text-sm text-gray-700"};function k(e,s,n,$,a,N){const l=B,d=f("AddressForm"),m=V,c=I;return r(),_(c,{options:{title:"Update Billing Details",actions:[{label:"Submit",variant:"solid",loading:e.$resources.updateBillingInformation.loading,onClick:()=>e.$resources.updateBillingInformation.submit()}]},modelValue:n.show,"onUpdate:modelValue":s[2]||(s[2]=t=>e.$emit("update:show",t))},{"body-content":b(()=>[n.message?(r(),y("p",D,h(n.message),1)):w("",!0),o(l,{class:"mt-4",modelValue:a.billingInformation.billing_name,"onUpdate:modelValue":s[0]||(s[0]=t=>a.billingInformation.billing_name=t),label:"Billing Name"},null,8,["modelValue"]),o(d,{ref:"address-form",class:"mt-4",address:a.billingInformation,"onUpdate:address":s[1]||(s[1]=t=>a.billingInformation=t)},null,8,["address"]),o(m,{class:"mt-2",message:e.$resources.updateBillingInformation.error},null,8,["message"])]),_:1},8,["options","modelValue"])}const x=u(A,[["render",k]]);export{x as default};
//# sourceMappingURL=UpdateBillingDetails-DpNU6Kwd.js.map
