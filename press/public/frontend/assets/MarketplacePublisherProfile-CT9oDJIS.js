import{x as g,q as y,o as r,h as u,u as n,A as l,w as d,j as h,X as D,Y as w,a8 as N,a9 as E,aA as V}from"./main-Dpl-JOF2.js";import{_ as I}from"./Card-BCzTSeNK.js";import{_ as C}from"./ListItem-CkkFcC1t.js";import{_ as U}from"./Alert-COV4XS8q.js";(function(){try{var t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},o=new Error().stack;o&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[o]="8c50f989-3e3d-4dd2-a4ec-86b943b0a10d",t._sentryDebugIdIdentifier="sentry-dbid-8c50f989-3e3d-4dd2-a4ec-86b943b0a10d")}catch(p){}})();{var b=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};b._sentryModuleMetadata=b._sentryModuleMetadata||{},b._sentryModuleMetadata[new Error().stack]=Object.assign({},b._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const B={props:["profileData"],emits:["profileUpdated"],data(){return{showEditProfileDialog:!1,payoutMethod:"",payPalId:"",acNumber:"",acName:"",gstin:"",otherDetails:""}},mounted(){},resources:{updatePublisherProfile(){return{url:"press.api.marketplace.update_publisher_profile",params:{profile_data:{preferred_payout_method:this.payoutMethod,paypal_id:this.payPalId,bank_account_number:this.acNumber,bank_account_holder_name:this.acName,gstin:this.gstin,other_bank_details:this.otherDetails}},onSuccess(){this.showEditProfileDialog=!1,this.$emit("profileUpdated")}}}},watch:{profileData(t){t&&t.profile_created&&(this.payoutMethod=t.profile_info.preferred_payout_method,this.payPalId=t.profile_info.paypal_id,this.acNumber=t.profile_info.bank_account_number,this.acName=t.profile_info.bank_account_holder_name,this.gstin=t.profile_info.gstin,this.otherDetails=t.profile_info.other_bank_details)}}},S={class:"divide-y-2"},T={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"};function A(t,o,p,k,e,f){const a=C,m=D,c=I,s=N,_=E,P=V;return r(),y("div",null,[p.profileData&&p.profileData.profile_created?(r(),u(c,{key:0,title:"Payout Preferences",subtitle:"Used for payouts for your premium apps"},{actions:d(()=>[l(m,{"icon-left":"edit",onClick:o[0]||(o[0]=i=>e.showEditProfileDialog=!0)},{default:d(()=>o[8]||(o[8]=[w("Edit")])),_:1})]),default:d(()=>[h("div",S,[l(a,{title:"Payout Method",description:e.payoutMethod||"Not Set"},null,8,["description"]),e.payoutMethod=="PayPal"?(r(),u(a,{key:0,title:"PayPal ID",description:e.payPalId||"Not Set"},null,8,["description"])):n("",!0),e.payoutMethod=="Bank Transfer"?(r(),u(a,{key:1,title:"Account Holder Name",description:e.acName||"Not Set"},null,8,["description"])):n("",!0),e.payoutMethod=="Bank Transfer"?(r(),u(a,{key:2,title:"Account Number",description:e.acNumber||"Not Set"},null,8,["description"])):n("",!0)])]),_:1})):n("",!0),l(P,{options:{title:"Edit Publisher Profile",actions:[{variant:"solid",label:"Save Changes",loading:t.$resources.updatePublisherProfile.loading,onClick:()=>t.$resources.updatePublisherProfile.submit()}]},modelValue:e.showEditProfileDialog,"onUpdate:modelValue":o[7]||(o[7]=i=>e.showEditProfileDialog=i)},{"body-content":d(()=>[h("div",T,[l(s,{label:"Preferred Payment Method",type:"select",options:["Easytouch Cloud Credits","Bank Transfer","PayPal"],modelValue:e.payoutMethod,"onUpdate:modelValue":o[1]||(o[1]=i=>e.payoutMethod=i)},null,8,["modelValue"]),e.payoutMethod=="PayPal"?(r(),u(s,{key:0,label:"PayPal ID",modelValue:e.payPalId,"onUpdate:modelValue":o[2]||(o[2]=i=>e.payPalId=i)},null,8,["modelValue"])):n("",!0),e.payoutMethod!="Easytouch Cloud Credits"?(r(),u(s,{key:1,label:"GSTIN (if applicable)",modelValue:e.gstin,"onUpdate:modelValue":o[3]||(o[3]=i=>e.gstin=i)},null,8,["modelValue"])):n("",!0),e.payoutMethod=="Bank Transfer"?(r(),u(s,{key:2,label:"Account Number",modelValue:e.acNumber,"onUpdate:modelValue":o[4]||(o[4]=i=>e.acNumber=i)},null,8,["modelValue"])):n("",!0),e.payoutMethod=="Bank Transfer"?(r(),u(s,{key:3,label:"Account Holder Name",modelValue:e.acName,"onUpdate:modelValue":o[5]||(o[5]=i=>e.acName=i)},null,8,["modelValue"])):n("",!0),e.payoutMethod=="Bank Transfer"?(r(),u(s,{key:4,label:"Bank Name, Branch, IFS Code",type:"textarea",modelValue:e.otherDetails,"onUpdate:modelValue":o[6]||(o[6]=i=>e.otherDetails=i)},null,8,["modelValue"])):n("",!0)]),l(_,{class:"mt-4",message:t.$resources.updatePublisherProfile.error},null,8,["message"])]),_:1},8,["options","modelValue"])])}const v=g(B,[["render",A]]),z={props:["profileData","showEditDialog"],emits:["profileUpdated"],data(){return{showEditProfileDialog:!1,displayName:"",contactEmail:"",website:""}},resources:{updatePublisherProfile(){return{url:"press.api.marketplace.update_publisher_profile",params:{profile_data:{display_name:this.displayName,contact_email:this.contactEmail,website:this.website}},validate(){if(!this.displayName)return"Display Name is required."},onSuccess(){this.showEditProfileDialog=!1,this.$emit("profileUpdated")}}}},watch:{profileData(t){t&&t.profile_created&&(this.displayName=t.profile_info.display_name,this.contactEmail=t.profile_info.contact_email,this.website=t.profile_info.website)},showEditDialog(t){t&&(this.showEditProfileDialog=!0)}}},F={class:"divide-y-2"},L={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"};function j(t,o,p,k,e,f){const a=C,m=D,c=I,s=N,_=E,P=V;return r(),y("div",null,[p.profileData&&p.profileData.profile_created?(r(),u(c,{key:0,title:"Publisher Profile",subtitle:"Visible on the marketplace website"},{actions:d(()=>[l(m,{"icon-left":"edit",onClick:o[0]||(o[0]=i=>e.showEditProfileDialog=!0)},{default:d(()=>o[5]||(o[5]=[w("Edit")])),_:1})]),default:d(()=>[h("div",F,[l(a,{title:"Display Name",description:t.$sanitize(e.displayName||"Not Set")},null,8,["description"]),l(a,{title:"Contact Email",description:t.$sanitize(e.contactEmail||"Not Set")},null,8,["description"]),l(a,{title:"Website",description:t.$sanitize(e.website||"Not Set")},null,8,["description"])])]),_:1})):n("",!0),l(P,{options:{title:"Edit Publisher Profile",actions:[{variant:"solid",label:"Save Changes",loading:t.$resources.updatePublisherProfile.loading,onClick:()=>t.$resources.updatePublisherProfile.submit()}]},modelValue:e.showEditProfileDialog,"onUpdate:modelValue":o[4]||(o[4]=i=>e.showEditProfileDialog=i)},{"body-content":d(()=>[h("div",L,[l(s,{label:"Display Name",modelValue:e.displayName,"onUpdate:modelValue":o[1]||(o[1]=i=>e.displayName=i)},null,8,["modelValue"]),l(s,{label:"Contact Email",type:"email",modelValue:e.contactEmail,"onUpdate:modelValue":o[2]||(o[2]=i=>e.contactEmail=i)},null,8,["modelValue"]),l(s,{label:"Website",modelValue:e.website,"onUpdate:modelValue":o[3]||(o[3]=i=>e.website=i)},null,8,["modelValue"])]),l(_,{class:"mt-4",message:t.$resources.updatePublisherProfile.error},null,8,["message"])]),_:1},8,["options","modelValue"])])}const M=g(z,[["render",j]]),q={data(){return{showEditDialog:!1}},resources:{getPublisherProfileInfo(){return{url:"press.api.marketplace.get_publisher_profile_info",auto:!0}}},computed:{publisherProfileInfo(){if(!(this.$resources.getPublisherProfileInfo.loading||!this.$resources.getPublisherProfileInfo.data))return this.$resources.getPublisherProfileInfo.data}},components:{PublisherProfileCard:M,PublisherPayoutInfoCard:v}},H={key:0},W={class:"grid grid-cols-1 gap-5 md:grid-cols-2"};function Y(t,o,p,k,e,f){const a=D,m=U,c=M,s=v;return r(),y("div",null,[f.publisherProfileInfo&&!f.publisherProfileInfo.profile_created?(r(),y("div",H,[l(m,{title:"You have not created your profile yet."},{actions:d(()=>[l(a,{variant:"solid",onClick:o[0]||(o[0]=_=>e.showEditDialog=!0)},{default:d(()=>o[2]||(o[2]=[w(" Create ")])),_:1})]),_:1})])):n("",!0),t.$resources.getPublisherProfileInfo.loading?(r(),u(a,{key:1,loading:!0,loadingText:"Loading..."})):n("",!0),h("div",W,[l(c,{showEditDialog:e.showEditDialog,profileData:f.publisherProfileInfo,onProfileUpdated:o[1]||(o[1]=_=>t.$resources.getPublisherProfileInfo.fetch())},null,8,["showEditDialog","profileData"]),l(s,{profileData:f.publisherProfileInfo},null,8,["profileData"])])])}const Q=g(q,[["render",Y]]);export{Q as default};
//# sourceMappingURL=MarketplacePublisherProfile-CT9oDJIS.js.map
