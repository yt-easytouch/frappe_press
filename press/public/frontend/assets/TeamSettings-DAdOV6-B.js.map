{"version":3,"mappings":"43BAeA,MAAAA,EAAAC,EAAA,EACAD,EAAA,wBACA,MAAAE,EAAAC,EAAA,CACA,kBACA,aACA,KAAAH,EAAA,eACA,SACA,CACA,aACA,iBACA,gBAAAI,KACAC,EAAAC,EAAA,CACA,YAAAF,EAAA,WACA,SAAAA,EAAA,UACA,MAAAA,EAAA,KACA,GAEA,OACA,CACA,EACA,gBAAAA,GAAA,OACA,IAAAJ,EAAAC,EAAA,EACA,OAAAG,EAAA,OAAAJ,EAAA,UAAAI,EAAA,SAAAG,EAAAP,EAAA,4BAAAO,EAAA,MACA,GACA,CACA,CACA,sBACA,cAAAH,EAAA,OAAAJ,EAAA,SACA,UACAA,EAAA,0BACAQ,EAAA,CACA,sBACA,8CAAAJ,EAAA,+BACA,gBAAAK,GAAA,CACAT,EAAA,0BACAU,EAAA,QACAV,EAAA,gCAAAI,EAAA,OACA,CACA,6BACA,aACAJ,EAAA,wBACAS,EAAA,EACA,kBAEA,MAAAE,GAAAC,EAAAD,CAAA,CACA,CACA,CACA,CACA,EACA,CACA,CACA,CACA,EACA,UACA,OACA,CACA,iBACA,oBACA,UACA,MAAAE,EAAAC,EAAA,UACA,sEACA,EACAC,EAAAV,EAAAQ,CAAA,EACA,CACA,EACA,CACA,mBACA,gBACA,gBACA,UACA,MAAAG,EAAAF,EAAA,UACA,wEACA,EACAC,EAAAV,EAAAW,CAAA,EACA,CACA,CACA,CACA,CACA","names":["team","getTeam","teamMembersListOptions","ref","row","h","UserWithAvatarCell","_a","confirmDialog","hide","toast","e","getToastErrorMessage","TeamSettingsDialog","defineAsyncComponent","renderDialog","InviteTeamMemberDialog"],"sources":["../../../../dashboard/src2/components/settings/TeamSettings.vue"],"sourcesContent":["<template>\n\t<div class=\"p-5\">\n\t\t<ObjectList :options=\"teamMembersListOptions\"> </ObjectList>\n\t</div>\n</template>\n\n<script setup>\nimport { defineAsyncComponent, h, ref } from 'vue';\nimport { toast } from 'vue-sonner';\nimport { getTeam } from '../../data/team';\nimport { confirmDialog, renderDialog } from '../../utils/components';\nimport ObjectList from '../ObjectList.vue';\nimport UserWithAvatarCell from '../UserWithAvatarCell.vue';\nimport { getToastErrorMessage } from '../../utils/toast';\n\nconst team = getTeam();\nteam.getTeamMembers.submit();\nconst teamMembersListOptions = ref({\n\tonRowClick: () => {},\n\trowHeight: 50,\n\tlist: team.getTeamMembers,\n\tcolumns: [\n\t\t{\n\t\t\tlabel: 'User',\n\t\t\ttype: 'Component',\n\t\t\tcomponent: ({ row }) => {\n\t\t\t\treturn h(UserWithAvatarCell, {\n\t\t\t\t\tavatarImage: row.user_image,\n\t\t\t\t\tfullName: row.full_name,\n\t\t\t\t\temail: row.email\n\t\t\t\t});\n\t\t\t},\n\t\t\twidth: 1\n\t\t}\n\t],\n\trowActions({ row }) {\n\t\tlet team = getTeam();\n\t\tif (row.name === team.doc.user || row.name === team.doc.user_info?.name)\n\t\t\treturn [];\n\t\treturn [\n\t\t\t{\n\t\t\t\tlabel: 'Remove Member',\n\t\t\t\tcondition: () => row.name !== team.doc.user,\n\t\t\t\tonClick() {\n\t\t\t\t\tif (team.removeTeamMember.loading) return;\n\t\t\t\t\tconfirmDialog({\n\t\t\t\t\t\ttitle: 'Remove Member',\n\t\t\t\t\t\tmessage: `Are you sure you want to remove <b>${row.full_name}</b> from the team?`,\n\t\t\t\t\t\tonSuccess({ hide }) {\n\t\t\t\t\t\t\tif (team.removeTeamMember.loading) return;\n\t\t\t\t\t\t\ttoast.promise(\n\t\t\t\t\t\t\t\tteam.removeTeamMember.submit({ member: row.name }),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tloading: 'Removing Member...',\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tteam.getTeamMembers.submit();\n\t\t\t\t\t\t\t\t\t\thide();\n\t\t\t\t\t\t\t\t\t\treturn 'Member Removed';\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\terror: e => getToastErrorMessage(e)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t},\n\tactions() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tlabel: 'Settings',\n\t\t\t\ticonLeft: 'settings',\n\t\t\t\tonClick() {\n\t\t\t\t\tconst TeamSettingsDialog = defineAsyncComponent(() =>\n\t\t\t\t\t\timport('./TeamSettingsDialog.vue')\n\t\t\t\t\t);\n\t\t\t\t\trenderDialog(h(TeamSettingsDialog));\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'Add Member',\n\t\t\t\tvariant: 'solid',\n\t\t\t\ticonLeft: 'plus',\n\t\t\t\tonClick() {\n\t\t\t\t\tconst InviteTeamMemberDialog = defineAsyncComponent(() =>\n\t\t\t\t\t\timport('./InviteTeamMemberDialog.vue')\n\t\t\t\t\t);\n\t\t\t\t\trenderDialog(h(InviteTeamMemberDialog));\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\t}\n});\n</script>\n"],"file":"assets/TeamSettings-DAdOV6-B.js"}