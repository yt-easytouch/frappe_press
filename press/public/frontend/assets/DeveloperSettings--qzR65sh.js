import{_ as A}from"./Card-BCzTSeNK.js";import{x as k,h as c,o as s,w as n,q as f,u as l,A as u,j as a,aA as D,X as C,Y as p,a9 as I,t as h,a8 as v,F as N,v as V,r as w}from"./main-Dpl-JOF2.js";import{_ as F}from"./ClickToCopyField-DpU9Eau5.js";import{n as P}from"./toast-Dk0nDfLL.js";(function(){try{var t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="8a0d3a7e-5f1c-4064-95ad-73df16e86e79",t._sentryDebugIdIdentifier="sentry-dbid-8a0d3a7e-5f1c-4064-95ad-73df16e86e79")}catch($){}})();{var S=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};S._sentryModuleMetadata=S._sentryModuleMetadata||{},S._sentryModuleMetadata[new Error().stack]=Object.assign({},S._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const H={name:"AccountAPI",components:{ClickToCopyField:F},data(){return{showCreateSecretDialog:!1}},resources:{createSecret(){return{url:"press.api.account.create_api_secret",onSuccess(){P({title:"Created new API Secret",icon:"check",color:"green"})}}}},methods:{createSecretdialogClosed(){this.$account.fetchAccount(),this.$resources.createSecret.reset()}}},B={key:0},E={class:"font-mono text-sm text-gray-800"},M={key:0},U={key:1},j={class:"block pt-2"},x={class:"block pt-2"};function R(t,e,$,b,o,g){const i=F,d=C,y=I,m=D,_=A;return s(),c(_,{title:"API Access",subtitle:"API key associated with your account"},{actions:n(()=>[t.$account.user.api_key?l("",!0):(s(),c(d,{key:0,onClick:e[0]||(e[0]=r=>o.showCreateSecretDialog=!0)},{default:n(()=>e[5]||(e[5]=[p(" Create New API Key ")])),_:1})),t.$account.user.api_key?(s(),c(d,{key:1,onClick:e[1]||(e[1]=r=>o.showCreateSecretDialog=!0)},{default:n(()=>e[6]||(e[6]=[p(" Regenerate API Secret ")])),_:1})):l("",!0)]),default:n(()=>[t.$account.user.api_key?(s(),f("div",B,[a("p",E,[u(i,{textContent:t.$account.user.api_key},null,8,["textContent"])])])):l("",!0),u(m,{options:{title:"API Access"},modelValue:o.showCreateSecretDialog,"onUpdate:modelValue":e[4]||(e[4]=r=>o.showCreateSecretDialog=r),onClose:g.createSecretdialogClosed},{"body-content":n(()=>[t.$resources.createSecret.data?l("",!0):(s(),f("div",M,e[7]||(e[7]=[a("p",{class:"text-base"},[p(" API key and API secret pairs can be used to access the "),a("a",{href:"/docs/api",class:"underline"},"Easytouch Cloud API"),p(". ")],-1)]))),t.$resources.createSecret.data?(s(),f("div",U,[e[10]||(e[10]=a("p",{class:"text-base"}," Please copy the API secret now. You wonâ€™t be able to see it again! ",-1)),a("label",j,[e[8]||(e[8]=a("span",{class:"mb-2 block text-sm leading-4 text-gray-700"},"API Key",-1)),u(i,{textContent:t.$resources.createSecret.data.api_key},null,8,["textContent"])]),a("label",x,[e[9]||(e[9]=a("span",{class:"mb-2 block text-sm leading-4 text-gray-700"},"API Secret",-1)),u(i,{textContent:t.$resources.createSecret.data.api_secret},null,8,["textContent"])])])):l("",!0),u(y,{class:"mt-2",message:t.$resources.createSecret.error},null,8,["message"])]),actions:n(()=>[!t.$account.user.api_key&&!t.$resources.createSecret.data?(s(),c(d,{key:0,class:"w-full",variant:"solid",onClick:e[2]||(e[2]=r=>t.$resources.createSecret.submit()),loading:t.$resources.createSecret.loading},{default:n(()=>e[11]||(e[11]=[p(" Create New API Key ")])),_:1},8,["loading"])):l("",!0),t.$account.user.api_key&&!t.$resources.createSecret.data?(s(),c(d,{key:1,class:"w-full",variant:"solid",onClick:e[3]||(e[3]=r=>t.$resources.createSecret.submit()),loading:t.$resources.createSecret.loading},{default:n(()=>e[12]||(e[12]=[p(" Regenerate API Secret ")])),_:1},8,["loading"])):l("",!0)]),_:1},8,["modelValue","onClose"])]),_:1})}const T=k(H,[["render",R]]),q={name:"AccountSSHKey",data(){return{showAddNewKeyDialog:!1,newKey:null}},resources:{saveKey(){return{url:"press.api.account.add_key",params:{key:this.newKey},onSuccess(){this.$account.fetchAccount(),this.showAddNewKeyDialog=!1,P({title:"New SSH Key Added",icon:"check",color:"green"})}}}}},L={key:0},O={class:"font-mono text-sm text-gray-800"},Y={class:"mt-2 text-base text-gray-700"},X={class:"mt-3"};function z(t,e,$,b,o,g){const i=C,d=v,y=I,m=D,_=A;return t.$account.team.ssh_access_enabled?(s(),c(_,{key:0,title:"SSH Key",subtitle:"SSH public key associated with your account"},{actions:n(()=>[t.$account.ssh_key?(s(),c(i,{key:1,onClick:e[1]||(e[1]=r=>o.showAddNewKeyDialog=!0)},{default:n(()=>e[5]||(e[5]=[p(" Change SSH Key ")])),_:1})):(s(),c(i,{key:0,onClick:e[0]||(e[0]=r=>o.showAddNewKeyDialog=!0)},{default:n(()=>e[4]||(e[4]=[p(" New SSH Key ")])),_:1}))]),default:n(()=>[t.$account.ssh_key?(s(),f("div",L,[a("p",O," SHA256:"+h(t.$account.ssh_key.ssh_fingerprint),1),a("div",Y," Added on "+h(t.$date(t.$account.ssh_key.creation).toLocaleString({month:"short",day:"numeric",year:"numeric"})),1)])):l("",!0),u(m,{options:{title:"New SSH Key",actions:[{label:"Add Key",variant:"solid",onClick:()=>t.$resources.saveKey.submit()}]},modelValue:o.showAddNewKeyDialog,"onUpdate:modelValue":e[3]||(e[3]=r=>o.showAddNewKeyDialog=r)},{"body-content":n(()=>[a("div",X,[u(d,{label:"SSH Key",type:"textarea",placeholder:"Begins with 'ssh-rsa', 'ecdsa-sha2-nistp256', 'ecdsa-sha2-nistp384', 'ecdsa-sha2-nistp521', 'ssh-ed25519', 'sk-ecdsa-sha2-nistp256@openssh.com', or 'sk-ssh-ed25519@openssh.com'",required:"",modelValue:o.newKey,"onUpdate:modelValue":e[2]||(e[2]=r=>o.newKey=r)},null,8,["modelValue"])]),u(y,{class:"mt-2",message:t.$resources.saveKey.error},null,8,["message"])]),_:1},8,["options","modelValue"])]),_:1})):l("",!0)}const J=k(q,[["render",z]]);let K=[{label:"Enable private benches",fieldname:"benches_enabled"},{label:"Enable security portal",fieldname:"security_portal_enabled"}];const Q={name:"FeatureFlags",components:{FormControl:v},data(){let t={};for(let e of K)t[e.fieldname]=!!this.$account.team[e.fieldname];return{values:t,fields:K}},resources:{updateFeatureFlags(){return{url:"press.api.account.update_feature_flags",params:{values:this.values},onSuccess(){this.$account.fetchAccount()}}}},computed:{isDirty(){return Object.keys(this.values).some(t=>Number(this.values[t])!==Number(this.$account.team[t]))}}},W={class:"flex flex-col space-y-4"},Z={class:"mt-4"};function G(t,e,$,b,o,g){const i=v,d=C,y=A;return t.$account.hasRole("Press Admin")?(s(),c(y,{key:0,title:"Advanced features"},{default:n(()=>[a("div",W,[(s(!0),f(N,null,V(o.fields,m=>(s(),c(i,{type:"checkbox",label:m.label,modelValue:o.values[m.fieldname],"onUpdate:modelValue":_=>o.values[m.fieldname]=_},null,8,["label","modelValue","onUpdate:modelValue"]))),256))]),a("div",Z,[g.isDirty?(s(),c(d,{key:0,variant:"solid",onClick:e[0]||(e[0]=m=>t.$resources.updateFeatureFlags.submit()),loading:t.$resources.updateFeatureFlags.loading},{default:n(()=>e[1]||(e[1]=[p(" Save changes ")])),_:1},8,["loading"])):l("",!0)])]),_:1})):l("",!0)}const ee=k(Q,[["render",G]]),te={name:"DeveloperSettings",pageMeta(){return{title:"Settings - Developer"}},components:{AccountAPI:T,AccountSSHKey:J,FeatureFlags:ee}},se={class:"space-y-5"};function oe(t,e,$,b,o,g){const i=w("AccountAPI"),d=w("AccountSSHKey"),y=w("FeatureFlags");return s(),f("div",se,[u(i),u(d),u(y)])}const ce=k(te,[["render",oe]]);export{ce as default};
//# sourceMappingURL=DeveloperSettings--qzR65sh.js.map
