import{_ as N}from"./ListItem-CkkFcC1t.js";import{ac as v,x as w,bW as _,q as o,o as i,j as r,A as u,w as f,u as l,F as k,v as $,h as m,X as x}from"./main-Dpl-JOF2.js";import{_ as B}from"./Breadcrumbs-yx7M4N4X.js";(function(){try{var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="77e34683-2aca-4b12-881d-2cd1796f4ed2",e._sentryDebugIdIdentifier="sentry-dbid-77e34683-2aca-4b12-881d-2cd1796f4ed2")}catch(p){}})();{var n=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};n._sentryModuleMetadata=n._sentryModuleMetadata||{},n._sentryModuleMetadata[new Error().stack]=Object.assign({},n._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const T=v({cache:"Unread Notifications Count",url:"press.api.notifications.get_unread_count",initialData:0}),D={name:"Notifications",pageMeta(){return{title:"Notifications"}},components:{TabButtons:_},data(){return{activeTab:"Unread"}},resources:{unreadNotifications(){var e;if(this.activeTab==="Unread")return{url:"press.api.notifications.get_notifications",params:{filters:{team:this.$account.team.name,read:!1}},cache:["unreadNotifications",(e=this.$account)==null?void 0:e.team],auto:!0}},readNotifications(){var e;if(this.activeTab==="Read")return{url:"press.api.notifications.get_notifications",params:{filters:{team:this.$account.team.name,read:!0}},cache:["readNotifications",(e=this.$account)==null?void 0:e.team],auto:!0}},markNotificationAsRead:{url:"press.api.notifications.mark_notification_as_read"}},methods:{openNotification(e){e.read||(this.$resources.markNotificationAsRead.submit({name:e.name}),T.setData(t=>t-1)),this.$router.push(e.route)}},computed:{notifications(){return this.activeTab==="Unread"?this.$resources.unreadNotifications.data:this.$resources.readNotifications.data}}},V={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-5 py-2.5"},C={class:"mx-20 mt-5"},I={class:"flex flex-col divide-y"},U={key:0,class:"text-base text-gray-600"};function R(e,t,p,A,c,s){var d;const b=_,h=B,y=x,g=N;return i(),o("div",null,[r("header",V,[u(h,{items:[{label:"Notifications",route:{name:"Notifications"}}]},{actions:f(()=>[u(b,{buttons:[{label:"Unread",active:!0},{label:"Read"}],modelValue:c.activeTab,"onUpdate:modelValue":t[0]||(t[0]=a=>c.activeTab=a)},null,8,["modelValue"])]),_:1})]),r("div",C,[r("div",I,[(i(!0),o(k,null,$(s.notifications,a=>(i(),m(g,{title:a.type,description:`${a.message} â€¢ ${e.formatDate(a.creation,"relative")}`},{actions:f(()=>[a.route?(i(),m(y,{key:0,variant:"ghost",label:"View",onClick:E=>s.openNotification(a)},null,8,["onClick"])):l("",!0)]),_:2},1032,["title","description"]))),256)),(d=s.notifications)!=null&&d.length?l("",!0):(i(),o("div",U," No Notifications "))])])])}const L=w(D,[["render",R]]);export{L as default};
//# sourceMappingURL=Notifications-DnkFnhnX.js.map
