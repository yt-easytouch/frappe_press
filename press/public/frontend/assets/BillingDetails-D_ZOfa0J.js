import{a as y}from"./CardForm-DBdGk3af.js";import{W as v,l as g,aY as w,ac as N,q as f,o as _,j as B,u as V,A as r,Z as u,a8 as k,a9 as I,X as x,F as $}from"./main-Dpl-JOF2.js";(function(){try{var l=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},s=new Error().stack;s&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[s]="48e83a92-2e6a-40c0-8668-03779c91320d",l._sentryDebugIdIdentifier="sentry-dbid-48e83a92-2e6a-40c0-8668-03779c91320d")}catch(c){}})();{var o=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};o._sentryModuleMetadata=o._sentryModuleMetadata||{},o._sentryModuleMetadata[new Error().stack]=Object.assign({},o._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const j={class:"flex flex-col gap-5"},D={key:0,class:"mt-6"},E={__name:"BillingDetails",emits:["success"],setup(l,{emit:s}){const c=s,m=v("team"),a=g(null),b=`${m.doc.user_info.first_name||""} ${m.doc.user_info.last_name||""}`.trim(),n=w({billing_name:b||"",address:"",city:"",state:"",postal_code:"",country:"",gstin:""});N({url:"press.api.account.get_billing_information",auto:!0,onSuccess:e=>{Object.keys(e).length&&Object.assign(n,{address:e.address_line1,city:e.city,state:e.state,postal_code:e.pincode,country:e.country,gstin:e.gstin=="Not Applicable"?"":e.gstin,billing_name:e.billing_name})}});const d=g("");function p(){if(!n.billing_name){d.value="Billing Name is required";return}const e=n.billing_name.trim();if(!/^[a-zA-Z0-9\-\'\,\.\s]+$/.test(e)){d.value="Billing Name contains invalid characters";return}n.billing_name=e,a.value.updateBillingInformation.submit()}return(e,i)=>(_(),f($,null,[B("div",j,[r(u(k),{modelValue:n.billing_name,"onUpdate:modelValue":i[0]||(i[0]=t=>n.billing_name=t),type:"text",name:"billing_name",label:"Billing Name",required:!0},null,8,["modelValue"]),r(y,{ref_key:"addressFormRef",ref:a,modelValue:n,"onUpdate:modelValue":i[1]||(i[1]=t=>n=t),onSuccess:i[2]||(i[2]=()=>c("success"))},null,8,["modelValue"]),r(u(I),{class:"mt-2",message:d.value},null,8,["message"])]),a.value?(_(),f("div",D,[r(u(x),{class:"w-full",variant:"solid",label:"Update billing details",loading:a.value.updateBillingInformation.loading,onClick:p},null,8,["loading"])])):V("",!0)],64))}};export{E as _};
//# sourceMappingURL=BillingDetails-D_ZOfa0J.js.map
