var g=Object.defineProperty,_=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var o=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var l=(e,s,n)=>s in e?g(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,d=(e,s)=>{for(var n in s||(s={}))y.call(s,n)&&l(e,n,s[n]);if(o)for(var n of o(s))w.call(s,n)&&l(e,n,s[n]);return e},u=(e,s)=>_(e,b(s));import{x as B,r as v,q as h,o as A,A as i,j as $,a8 as k,a9 as D,w as F,Y as I,X as N,F as V,ad as E}from"./main-Dpl-JOF2.js";import{A as x}from"./AddressForm-Cz0XUJgF.js";import{n as C}from"./toast-Dk0nDfLL.js";import"./Form-CIPLpg2e.js";(function(){try{var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},s=new Error().stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="b748eb27-5ed6-4c80-9eec-80caa3bd7831",e._sentryDebugIdIdentifier="sentry-dbid-b748eb27-5ed6-4c80-9eec-80caa3bd7831")}catch(n){}})();{var a=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};a._sentryModuleMetadata=a._sentryModuleMetadata||{},a._sentryModuleMetadata[new Error().stack]=Object.assign({},a._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const U={name:"UpdateBillingDetailsForm",emits:["updated"],components:{AddressForm:x},data(){return{billing_name:"",billingInformation:{address:"",city:"",state:"",postal_code:"",country:"",gstin:""}}},resources:{currentBillingInformation(){return{url:"press.api.account.get_billing_information",auto:!0,onSuccess(e){"country"in(e||{})&&(Object.assign(this.billingInformation,{address:e.address_line1,city:e.city,state:e.state,postal_code:e.pincode,country:e.country,gstin:e.gstin=="Not Applicable"?"":e.gstin}),this.billing_name=e.billing_name)}}},updateBillingInformation(){return{url:"press.api.account.update_billing_information",makeParams(){return{billing_details:u(d({},this.billingInformation),{billing_name:this.billingInformation.billing_name})}},onSuccess(){C({title:"Address updated successfully!"}),this.$emit("updated")},validate(){var e=this.billing_name.trim(),s=/^[a-zA-Z0-9\-\'\,\.\s]+$/,n=s.test(e);if(!n)throw new E("Billing Name contains invalid characters");return this.billing_name=e,this.$refs["address-form"].validateValues()}}}}},j={class:"flex w-full justify-end"};function M(e,s,n,O,t,P){const c=k,m=v("AddressForm"),f=D,p=N;return A(),h(V,null,[i(c,{class:"mt-4",modelValue:t.billing_name,"onUpdate:modelValue":s[0]||(s[0]=r=>t.billing_name=r),label:"Billing Name"},null,8,["modelValue"]),i(m,{ref:"address-form",class:"mt-4",address:t.billingInformation,"onUpdate:address":s[1]||(s[1]=r=>t.billingInformation=r)},null,8,["address"]),i(f,{class:"mt-2",message:e.$resources.updateBillingInformation.error},null,8,["message"]),$("div",j,[i(p,{class:"mt-2 w-full sm:w-fit",variant:"solid",loading:e.$resources.updateBillingInformation.loading,onClick:e.$resources.updateBillingInformation.submit},{default:F(()=>s[2]||(s[2]=[I(" Update Billing Details ")])),_:1},8,["loading","onClick"])])],64)}const T=B(U,[["render",M]]);export{T as default};
//# sourceMappingURL=UpdateBillingDetailsForm-DTobnqcU.js.map
