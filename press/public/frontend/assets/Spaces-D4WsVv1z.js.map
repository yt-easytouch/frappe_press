{"version":3,"file":"Spaces-D4WsVv1z.js","sources":["../../../../dashboard/src/views/spaces/SpacesList.vue","../../../../dashboard/src/views/spaces/CodeServersList.vue","../../../../dashboard/src/views/spaces/Spaces.vue"],"sourcesContent":["<template></template>\n\n<script>\nexport default {\n\tname: 'SpacesList',\n\tdata() {\n\t\treturn {\n\t\t\trecentlyCreatedSites: []\n\t\t};\n\t},\n\tprops: {\n\t\tspaces: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<div\n\t\tclass=\"sm:rounded-md sm:border sm:border-gray-100 sm:py-1 sm:px-2 sm:shadow\"\n\t>\n\t\t<div\n\t\t\tclass=\"py-2 text-base text-gray-600 sm:px-2\"\n\t\t\tv-if=\"servers && servers.length === 0\"\n\t\t>\n\t\t\tNo Code Servers\n\t\t</div>\n\t\t<div class=\"py-2\" v-for=\"(server, index) in servers\" :key=\"server.name\">\n\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t<router-link\n\t\t\t\t\t:to=\"`/codeservers/${server.name}/overview`\"\n\t\t\t\t\tclass=\"block w-full rounded-md py-2 hover:bg-gray-50 sm:px-2\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"hover:text-ellipses truncate break-all text-base w-1/3 sm:w-4/12\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ server.name }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"text-base w-1/3 sm:w-4/12\">\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tclass=\"ml-4 hidden md:inline-block\"\n\t\t\t\t\t\t\t\t:label=\"server.status\"\n\t\t\t\t\t\t\t\t:colorMap=\"$badgeStatusColorMap\"\n\t\t\t\t\t\t\t></Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"text-base w-1/3 sm:w-4/12 hidden sm:block\">\n\t\t\t\t\t\t\t<div class=\"hover:text-ellipses truncate break-all hover:w-full\">\n\t\t\t\t\t\t\t\t{{ server.title }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</router-link>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'CodeServersList',\n\tprops: {\n\t\tservers: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {}\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<div>\n\t\t<header\n\t\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-5 py-2.5\"\n\t\t>\n\t\t\t<Breadcrumbs :items=\"[{ label: 'Spaces', route: '/spaces' }]\">\n\t\t\t\t<template v-if=\"this.$account.team.enabled\" v-slot:actions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\t\ticonLeft=\"plus\"\n\t\t\t\t\t\tlabel=\"Create\"\n\t\t\t\t\t\tclass=\"ml-2\"\n\t\t\t\t\t\t@click=\"showBillingDialog\"\n\t\t\t\t\t/>\n\t\t\t\t</template>\n\t\t\t</Breadcrumbs>\n\t\t</header>\n\n\t\t<div class=\"mb-2\" v-if=\"!$account.team.enabled\">\n\t\t\t<Alert title=\"Your account is disabled\">\n\t\t\t\tEnable your account to start creating spaces\n\n\t\t\t\t<template #actions>\n\t\t\t\t\t<Button variant=\"solid\" route=\"/settings\"> Enable Account </Button>\n\t\t\t\t</template>\n\t\t\t</Alert>\n\t\t</div>\n\t\t<div class=\"mx-5 mt-5\">\n\t\t\t<div class=\"pb-20\">\n\t\t\t\t<div class=\"flex\">\n\t\t\t\t\t<div class=\"flex w-full space-x-2 pb-4\">\n\t\t\t\t\t\t<FormControl label=\"Search Spaces\" v-model=\"searchTerm\">\n\t\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t\t<FeatherIcon name=\"search\" class=\"w-4 text-gray-600\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tlabel=\"Status\"\n\t\t\t\t\t\t\tclass=\"mr-8\"\n\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t:options=\"spaceStatusFilterOptions()\"\n\t\t\t\t\t\t\tv-model=\"space_status\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Table\n\t\t\t\t\t:columns=\"[\n\t\t\t\t\t\t{ label: 'Space Name', name: 'name', width: 2 },\n\t\t\t\t\t\t{ label: 'Status', name: 'status' },\n\t\t\t\t\t\t{ label: '', name: 'actions', width: 0.5 }\n\t\t\t\t\t]\"\n\t\t\t\t\t:rows=\"servers\"\n\t\t\t\t\tv-slot=\"{ rows, columns }\"\n\t\t\t\t>\n\t\t\t\t\t<TableHeader class=\"hidden sm:grid\" />\n\t\t\t\t\t<TableRow v-for=\"row in rows\" :key=\"row.name\" :row=\"row\">\n\t\t\t\t\t\t<TableCell v-for=\"column in columns\">\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tv-if=\"column.name === 'status'\"\n\t\t\t\t\t\t\t\t:label=\"$siteStatus(row)\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span v-else-if=\"column.name === 'plan'\" class=\"hidden sm:block\">\n\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\trow.plan\n\t\t\t\t\t\t\t\t\t\t? `${$planTitle(row.plan)}${\n\t\t\t\t\t\t\t\t\t\t\t\trow.plan.price_usd > 0 ? '/mo' : ''\n\t\t\t\t\t\t\t\t\t\t  }`\n\t\t\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<div v-else-if=\"column.name === 'region'\" class=\"hidden sm:block\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tv-if=\"row.server_region_info.image\"\n\t\t\t\t\t\t\t\t\tclass=\"h-4\"\n\t\t\t\t\t\t\t\t\t:src=\"row.server_region_info.image\"\n\t\t\t\t\t\t\t\t\t:alt=\"`Flag of ${row.server_region_info.title}`\"\n\t\t\t\t\t\t\t\t\t:title=\"row.server_region_info.title\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span class=\"text-base text-gray-700\" v-else>\n\t\t\t\t\t\t\t\t\t{{ row.server_region_info.title }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"w-full text-right\"\n\t\t\t\t\t\t\t\tv-else-if=\"column.name == 'actions'\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Dropdown @click.prevent :options=\"dropdownItems(row)\">\n\t\t\t\t\t\t\t\t\t<template v-slot=\"{ open }\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t:variant=\"open ? 'subtle' : 'ghost'\"\n\t\t\t\t\t\t\t\t\t\t\ticon=\"more-horizontal\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span v-else>{{ row[column.name] || '' }}</span>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t\t<div class=\"mt-8 flex items-center justify-center\">\n\t\t\t\t\t\t<LoadingText\n\t\t\t\t\t\t\tv-if=\"$resources.spaces.loading && !$resources.spaces.data\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-else-if=\"$resources.spaces.fetched && rows.length === 0\"\n\t\t\t\t\t\t\tclass=\"text-base text-gray-700\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tNo Spaces\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Table>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Table from '@/components/Table/Table.vue';\nimport TableCell from '@/components/Table/TableCell.vue';\nimport TableHeader from '@/components/Table/TableHeader.vue';\nimport TableRow from '@/components/Table/TableRow.vue';\nimport SpacesList from './SpacesList.vue';\nimport CodeServersList from './CodeServersList.vue';\nimport Fuse from 'fuse.js/dist/fuse.basic.esm';\n\nexport default {\n\tname: 'Spaces',\n\tcomponents: {\n\t\tSpacesList,\n\t\tCodeServersList,\n\t\tTable,\n\t\tTableHeader,\n\t\tTableRow,\n\t\tTableCell\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsearchTerm: '',\n\t\t\tspace_status: 'All'\n\t\t};\n\t},\n\tresources: {\n\t\tspaces() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.spaces.spaces',\n\t\t\t\tauto: true,\n\t\t\t\tparams: { space_filter: { status: this.space_status } },\n\t\t\t\tcache: ['SpaceList', this.space_status, this.$account.team.name],\n\t\t\t\tonSuccess: data => {\n\t\t\t\t\tthis.fuse = new Fuse(data['servers'], {\n\t\t\t\t\t\tkeys: ['name']\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\tshowBillingDialog() {\n\t\t\tif (!this.$account.hasBillingInfo) {\n\t\t\t\tthis.showAddCardDialog = true;\n\t\t\t} else {\n\t\t\t\tthis.$router.replace('/codeservers/new');\n\t\t\t}\n\t\t},\n\t\tspaceStatusFilterOptions() {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'All',\n\t\t\t\t\tvalue: 'All'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Active',\n\t\t\t\t\tvalue: 'Active'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Broken',\n\t\t\t\t\tvalue: 'Broken'\n\t\t\t\t}\n\t\t\t];\n\t\t},\n\t\tdropdownItems(space) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Open',\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\twindow.open(`https://${space.name}`, '_blank');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\t},\n\tcomputed: {\n\t\tservers() {\n\t\t\tif (!this.$resources.spaces.data) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tif (this.searchTerm) {\n\t\t\t\treturn this.fuse.search(this.searchTerm).map(result => result.item);\n\t\t\t}\n\n\t\t\treturn this.$resources.spaces.data.servers.map(server => ({\n\t\t\t\tname: server.name,\n\t\t\t\tstatus: server.status,\n\t\t\t\troute: `/codeservers/${server.name}/overview`\n\t\t\t}));\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","_hoisted_1","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_openBlock","_createElementBlock","_createCommentVNode","_Fragment","_renderList","$props","server","index","_createElementVNode","_withCtx","_toDisplayString","_ctx","CodeServersList","TableRow","TableCell","data","Fuse","space","result","_hoisted_9","_hoisted_13","_createVNode","_component_Breadcrumbs","_createSlots","$options","_hoisted_2","_cache","_createTextVNode","$data","$event","rows","columns","row","column","_hoisted_10","_hoisted_11","open","_hoisted_12","_createBlock","_component_LoadingText"],"mappings":"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"}