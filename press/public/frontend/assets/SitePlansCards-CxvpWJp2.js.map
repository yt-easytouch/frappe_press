{"version":3,"file":"SitePlansCards-CxvpWJp2.js","sources":["../../../../dashboard/src2/components/SitePlansCards.vue"],"sourcesContent":["<template>\n\t<PlansCards v-model=\"currentPlan\" :plans=\"plans\" />\n</template>\n\n<script>\nimport PlansCards from './PlansCards.vue';\nimport { getPlans } from '../data/plans';\n\nexport default {\n\tname: 'SitePlansCards',\n\tprops: [\n\t\t'modelValue',\n\t\t'isPrivateBenchSite',\n\t\t'isDedicatedServerSite',\n\t\t'selectedCluster',\n\t\t'selectedApps',\n\t\t'selectedVersion',\n\t\t'hideRestrictedPlans',\n\t],\n\temits: ['update:modelValue'],\n\tcomponents: {\n\t\tPlansCards,\n\t},\n\tcomputed: {\n\t\tcurrentPlan: {\n\t\t\tget() {\n\t\t\t\treturn this.modelValue;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tthis.$emit('update:modelValue', value);\n\t\t\t},\n\t\t},\n\t\tplans() {\n\t\t\tlet plans = getPlans();\n\n\t\t\tif (this.isPrivateBenchSite) {\n\t\t\t\tplans = plans.filter((plan) => plan.private_benches);\n\t\t\t}\n\t\t\tif (this.isPrivateBenchSite && this.isDedicatedServerSite) {\n\t\t\t\tplans = plans.filter((plan) => plan.dedicated_server_plan);\n\t\t\t} else {\n\t\t\t\tplans = plans.filter((plan) => !plan.dedicated_server_plan);\n\t\t\t}\n\t\t\tif (this.selectedCluster) {\n\t\t\t\tplans = plans.map((plan) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...plan,\n\t\t\t\t\t\tdisabled:\n\t\t\t\t\t\t\tplan.disabled ||\n\t\t\t\t\t\t\t(plan.clusters.length == 0\n\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t: !plan.clusters.includes(this.selectedCluster)),\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.selectedApps) {\n\t\t\t\tplans = plans.map((plan) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...plan,\n\t\t\t\t\t\tdisabled:\n\t\t\t\t\t\t\tplan.disabled ||\n\t\t\t\t\t\t\t(plan.allowed_apps.length == 0\n\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t: !this.selectedApps.every((app) =>\n\t\t\t\t\t\t\t\t\t\tplan.allowed_apps.includes(app.app),\n\t\t\t\t\t\t\t\t\t)),\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.selectedVersion) {\n\t\t\t\tplans = plans.map((plan) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...plan,\n\t\t\t\t\t\tdisabled:\n\t\t\t\t\t\t\tplan.disabled ||\n\t\t\t\t\t\t\t(plan.bench_versions.length == 0\n\t\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t\t: !plan.bench_versions.includes(this.selectedVersion)),\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.hideRestrictedPlans) {\n\t\t\t\tplans = plans.filter((plan) => !plan.restricted_plan);\n\t\t\t}\n\n\t\t\treturn plans.map((plan) => {\n\t\t\t\treturn {\n\t\t\t\t\t...plan,\n\t\t\t\t\tfeatures: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: `${this.$format.plural(\n\t\t\t\t\t\t\t\tplan.cpu_time_per_day,\n\t\t\t\t\t\t\t\t'compute hour',\n\t\t\t\t\t\t\t\t'compute hours',\n\t\t\t\t\t\t\t)} / day`,\n\t\t\t\t\t\t\tcondition: !plan.name.includes('Unlimited'),\n\t\t\t\t\t\t\tvalue: plan.cpu_time_per_day,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Database',\n\t\t\t\t\t\t\tcondition: !plan.name.includes('Unlimited'),\n\t\t\t\t\t\t\tvalue: this.$format.bytes(plan.max_database_usage, 1, 2),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Disk',\n\t\t\t\t\t\t\tcondition: !plan.name.includes('Unlimited'),\n\t\t\t\t\t\t\tvalue: this.$format.bytes(plan.max_storage_usage, 1, 2),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: plan.name.includes('Unlimited - Low')\n\t\t\t\t\t\t\t\t? 'Allocate fewer resources here (more for other benches)'\n\t\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: plan.support_included ? 'Product Warranty' : '',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: plan.database_access ? 'Database Access' : '',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: plan.offsite_backups ? 'Offsite Backups' : '',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalue: plan.monitor_access ? 'Advanced Monitoring' : '',\n\t\t\t\t\t\t},\n\t\t\t\t\t].filter((feature) => feature.condition ?? true),\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t},\n};\n</script>\n"],"names":["_sfc_main","value","plans","getPlans","__spreadProps","__spreadValues","plan","app","feature","_a","$options","_cache","$event"],"mappings":"6qCAQA,MAAAA,EAAA,CACC,KAAA,iBACA,MAAA,cAEC,6CAEA,kBACA,eACA,kBACA,6EAMD,SAAA,oBAGG,OAAA,KAAA,mBAGA,KAAA,MAAA,oBAAAC,CAAA,IAGF,OAAA,CACC,IAAAC,EAAAC,EAAA,0OAYEC,EAAAC,EAAA,GACCC,GADD,CAEC,SACCA,EAAA,gFAKH,GAED,KAAA,0BAEEF,EAAAC,EAAA,GACCC,GADD,CAEC,SACCA,EAAA,uCAGC,CAAA,KAAA,aAAA,MAAAC,GACED,EAAA,aAAA,SAAAC,EAAA,GAAA,CACD,IAEL,qCAICH,EAAAC,EAAA,GACCC,GADD,CAEC,SACCA,EAAA,4FAKH,0EAOAF,EAAAC,EAAA,GACCC,GADD,CAEC,SAAA,CACC,8BAEEA,EAAA,gCAEA,eACD,CAAA,SACA,UAAA,CAAAA,EAAA,KAAA,SAAA,WAAA,4BAGD,CACC,MAAA,WACA,UAAA,CAAAA,EAAA,KAAA,SAAA,WAAA,sDAGD,cAEC,UAAA,CAAAA,EAAA,KAAA,SAAA,WAAA,qDAGD,CACC,MAAAA,EAAA,KAAA,SAAA,iBAAA,2DAEC,IAEF,iDAGA,+CAGA,+CAGA,iDAGD,EAAA,OAAAE,GAAA,OAAA,OAAAC,EAAAD,EAAA,YAAA,KAAAC,EAAA,GAAA,GAEF,GAGH,kEAlIA,WAAAC,EAAA,YAAA,sBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,YAAAE,GACoC,MAAAF,EAAA"}