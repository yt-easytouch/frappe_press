{"version":3,"file":"Marketplace-DS-RBB8Y.js","sources":["../../../../dashboard/src/views/marketplace/Marketplace.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<header\n\t\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-5 py-2.5\"\n\t\t>\n\t\t\t<Breadcrumbs :items=\"[{ label: 'Apps', route: '/marketplace' }]\">\n\t\t\t\t<template #actions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\t\ticon-left=\"plus\"\n\t\t\t\t\t\tlabel=\"New\"\n\t\t\t\t\t\tclass=\"ml-2\"\n\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\t!$resources.appOptions.data\n\t\t\t\t\t\t\t\t? $resources.appOptions.fetch()\n\t\t\t\t\t\t\t\t: null;\n\t\t\t\t\t\t\tshowAddAppDialog = true;\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t</template>\n\t\t\t</Breadcrumbs>\n\t\t</header>\n\t\t<SectionHeader class=\"mx-5 mt-6\" heading=\"Apps\" />\n\n\t\t<Dialog\n\t\t\t:options=\"{\n\t\t\t\ttitle: 'Add App to Marketplace',\n\t\t\t\tsize: 'xl'\n\t\t\t}\"\n\t\t\tv-model=\"showAddAppDialog\"\n\t\t>\n\t\t\t<template v-slot:body-content>\n\t\t\t\t<LoadingText class=\"py-2\" v-if=\"$resources.appOptions.loading\" />\n\t\t\t\t<AppSourceSelector\n\t\t\t\t\tv-else-if=\"\n\t\t\t\t\t\t$resources.appOptions.data && $resources.appOptions.data.length > 0\n\t\t\t\t\t\"\n\t\t\t\t\tclass=\"mt-1\"\n\t\t\t\t\t:apps=\"availableApps\"\n\t\t\t\t\tv-model=\"selectedApp\"\n\t\t\t\t\t:multiple=\"false\"\n\t\t\t\t/>\n\t\t\t\t<p v-else class=\"text-base\">No app sources available.</p>\n\n\t\t\t\t<ErrorMessage\n\t\t\t\t\tclass=\"mt-2\"\n\t\t\t\t\t:message=\"$resources.addMarketplaceApp.error\"\n\t\t\t\t/>\n\n\t\t\t\t<p class=\"mt-4 text-base\" @click=\"showAddAppDialog = false\">\n\t\t\t\t\tDon't find your app here?\n\t\t\t\t\t<Link :to=\"`/marketplace/apps/new`\"> Add from GitHub </Link>\n\t\t\t\t</p>\n\t\t\t</template>\n\t\t\t<template #actions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\tclass=\"ml-2 w-full\"\n\t\t\t\t\tv-if=\"selectedApp\"\n\t\t\t\t\t:loading=\"$resources.addMarketplaceApp.loading\"\n\t\t\t\t\t@click=\"\n\t\t\t\t\t\t$resources.addMarketplaceApp.submit({\n\t\t\t\t\t\t\tsource: selectedApp.source.name,\n\t\t\t\t\t\t\tapp: selectedApp.app\n\t\t\t\t\t\t})\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\tAdd {{ selectedApp.app }}\n\t\t\t\t</Button>\n\t\t\t</template>\n\t\t</Dialog>\n\n\t\t<Tabs class=\"mx-5 mt-3 pb-32\" :tabs=\"tabs\">\n\t\t\t<router-view v-if=\"$account.team\"></router-view>\n\t\t</Tabs>\n\t</div>\n</template>\n\n<script>\nimport Tabs from '@/components/Tabs.vue';\nimport AppSourceSelector from '@/components/AppSourceSelector.vue';\n\nexport default {\n\tname: 'Marketplace',\n\tpageMeta() {\n\t\treturn {\n\t\t\ttitle: 'Developer - Easytouch Cloud'\n\t\t};\n\t},\n\tcomponents: {\n\t\tTabs,\n\t\tAppSourceSelector\n\t},\n\tdata: () => ({\n\t\ttabs: [\n\t\t\t{ label: 'My Apps', route: '/marketplace/apps' },\n\t\t\t{ label: 'Publisher Profile', route: '/marketplace/publisher-profile' },\n\t\t\t{ label: 'Payouts', route: '/marketplace/payouts' }\n\t\t],\n\t\tshowAddAppDialog: false,\n\t\tselectedApp: null\n\t}),\n\tresources: {\n\t\tappOptions() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.marketplace.options_for_marketplace_app'\n\t\t\t};\n\t\t},\n\t\taddMarketplaceApp() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.marketplace.add_app',\n\t\t\t\tonSuccess() {\n\t\t\t\t\tthis.showAddAppDialog = false;\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tavailableApps() {\n\t\t\treturn this.$resources.appOptions.data;\n\t\t}\n\t},\n\tactivated() {\n\t\tif (this.$route.matched.length === 1) {\n\t\t\tlet path = this.$route.fullPath;\n\t\t\tthis.$router.replace(`${path}/apps`);\n\t\t}\n\t},\n\tbeforeRouteUpdate(to, from, next) {\n\t\tif (to.path == '/marketplace') {\n\t\t\tnext('/marketplace/apps');\n\t\t} else {\n\t\t\tnext();\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","AppSourceSelector","path","to","from","next","_hoisted_1","_createElementVNode","_withCtx","_ctx","_cache","$event","$options","_createTextVNode","_toDisplayString","_createCommentVNode","_openBlock","_createBlock","_component_router_view"],"mappings":"uqCAkFAA,EAAA,CACC,KAAA,yBAEC,MAAA,CACC,MAAA,mDAKDC,kBAAAA,oBAIC,CAAA,MAAA,UAAA,MAAA,mBAAA,EACA,CAAA,MAAA,oBAAA,MAAA,gCAAA,EACA,CAAA,MAAA,UAAA,MAAA,sBAAA,uBAGD,YAAA,IACD,2BAGE,MAAA,2DAID,mBAAA,CACC,MAAA,CACC,IAAA,6FAIA,EAEF,GAED,SAAA,CACC,eAAA,CACC,OAAA,KAAA,WAAA,WAAA,IACD,eAGA,GAAA,KAAA,OAAA,QAAA,SAAA,EAAA,4BAEC,KAAA,QAAA,QAAA,GAAAC,CAAA,OAAA,CACD,GAED,kBAAAC,EAAAC,EAAAC,EAAA,+CAIEA,EAAA,CAEF,CACD,EArIGC,EAAA,CAAA,MAAA,mFAAA,WAuCW,MAAA,2HAxCZC,EAAA,SAAAD,EAAA,oDAIa,QAAAE,EAAA,IAAA,MAET,QAAA,QACA,YAAA,OACA,MAAA,MACA,MAAA,sIAWW,MAAA,YAAkB,QAAA,cAG/B,QAAA,yCAGA,EA5BJ,WAAAC,EAAA,iBAAA,sBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,iBAAAE,KA+BoB,eAAAH,EAAA,IAAA,iDACH,MAAA,8FAKZ,MAAA,OACC,KAAAI,EAAA,cAtCN,WAAAH,EAAA,YAAA,sBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,YAAAE,GAwCM,SAAA,mFAKD,MAAA,OACC,QAAAF,EAAA,WAAA,kBAAA,kCAGC,MAAA,iBAAwB,QAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,iBAAA,MAjD/BC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAG,EAAA,6BAAA,qCAAA,QAAAL,EAAA,IAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAAAG,EAAA,mBAAA,eAsDc,QAAAL,EAAA,IAAA,+BAET,QAAA,QACA,MAAA,cAEC,QAAAC,EAAA,WAAA,kBAAA,uGACwG,IAAAA,EAAA,YAAA,SA5D9G,QAAAD,EAAA,IAAA,CAAAK,EAAA,QAAAC,EAAAL,EAAA,YAAA,GAAA,EAAA,CAAA,yBAAAM,EAAA,GAAA,EAAA,gCAwEQ,MAAA,kBAAyB,KAAAN,EAAA,OAxEjC,QAAAD,EAAA,IAAA,CAyEsBC,EAAA,SAAA,MAAnBO,EAAA,EAAAC,EAAAC,EAAA,CAAA,IAAA,CAAA,CAAA,GAzEHH,EAAA,GAAA,EAAA"}