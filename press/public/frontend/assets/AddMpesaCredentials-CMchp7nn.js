import{x as y,h as f,o as b,w as o,j as i,A as a,a8 as S,a9 as V,X as D,Y as g,aA as k,V as u}from"./main-Dpl-JOF2.js";(function(){try{var s=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},e=new Error().stack;e&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[e]="61c0ea02-9cc7-4193-b752-01cd09844a1d",s._sentryDebugIdIdentifier="sentry-dbid-61c0ea02-9cc7-4193-b752-01cd09844a1d")}catch(p){}})();{var n=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};n._sentryModuleMetadata=n._sentryModuleMetadata||{},n._sentryModuleMetadata[new Error().stack]=Object.assign({},n._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const M={name:"AddMpesaCredentials",data(){return{mpesaSetupDetails:{consumer_key:"",mpesa_setup_id:"",consumer_secret:"",pass_key:"",short_code:"",initiator_name:"",security_credential:"",till_number:""},errorMessage:""}},resources:{createMpesaSetup(){return{url:"press.api.regional_payments.mpesa.utils.update_mpesa_setup",makeParams(){return{mpesa_details:this.mpesaSetupDetails}},validate(){if(Object.values(this.mpesaSetupDetails).includes(""))return this.errorMessage="Please fill required values","Please fill required values"},onSuccess(s){s?u.success("M-Pesa credentials saved",s):u.error("Error saving M-Pesa credentials"),this.$emit("closeDialog")}}},fetchMpesaSetup(){return{url:"press.api.regional_payments.mpesa.utils.fetch_mpesa_setup",onSuccess(s){Object.assign(this.mpesaSetupDetails,{mpesa_setup_id:s.mpesa_setup_id,consumer_key:s.consumer_key,consumer_secret:s.consumer_secret,security_credential:s.security_credential,pass_key:s.pass_key,short_code:s.business_shortcode,till_number:s.till_number,initiator_name:s.initiator_name})},auto:!0}}},methods:{saveMpesaCredentials(){this.$resources.createMpesaSetup.submit()}}},C={class:"grid grid-cols-2 gap-5"},x={class:"mt-4 flex w-full bg-red-300 items-center justify-center"};function h(s,e,p,w,t,m){const r=S,d=V,c=D,_=k;return b(),f(_,{options:{title:"Add M-Pesa Credentials",size:"xl"}},{"body-content":o(()=>[i("div",C,[a(r,{label:"Mpesa Setup ID",modelValue:t.mpesaSetupDetails.mpesa_setup_id,"onUpdate:modelValue":e[0]||(e[0]=l=>t.mpesaSetupDetails.mpesa_setup_id=l),name:"mpesa_setup_id",class:"mb-3",type:"text",placeholder:"Test Mpesa"},null,8,["modelValue"]),a(r,{label:"Consumer Key",modelValue:t.mpesaSetupDetails.consumer_key,"onUpdate:modelValue":e[1]||(e[1]=l=>t.mpesaSetupDetails.consumer_key=l),name:"consumer_key",class:"mb-3",type:"text",placeholder:"Enter Consumer Key"},null,8,["modelValue"]),a(r,{label:"Consumer Secret",modelValue:t.mpesaSetupDetails.consumer_secret,"onUpdate:modelValue":e[2]||(e[2]=l=>t.mpesaSetupDetails.consumer_secret=l),name:"consumer_secret",class:"mb-3",type:"text",placeholder:"Enter Consumer Secret"},null,8,["modelValue"]),a(r,{label:"Pass Key",modelValue:t.mpesaSetupDetails.pass_key,"onUpdate:modelValue":e[3]||(e[3]=l=>t.mpesaSetupDetails.pass_key=l),name:"pass_key",class:"mb-3",type:"text",placeholder:"Enter Pass Key"},null,8,["modelValue"]),a(r,{label:"Business Short Code",modelValue:t.mpesaSetupDetails.short_code,"onUpdate:modelValue":e[4]||(e[4]=l=>t.mpesaSetupDetails.short_code=l),name:"short_code",class:"mb-3",type:"text",placeholder:"Enter Short Code"},null,8,["modelValue"]),a(r,{label:"Initiator Name",modelValue:t.mpesaSetupDetails.initiator_name,"onUpdate:modelValue":e[5]||(e[5]=l=>t.mpesaSetupDetails.initiator_name=l),name:"initiator_name",class:"mb-3",type:"text",placeholder:"e.g John Doe"},null,8,["modelValue"]),a(r,{label:"Security Credential",modelValue:t.mpesaSetupDetails.security_credential,"onUpdate:modelValue":e[6]||(e[6]=l=>t.mpesaSetupDetails.security_credential=l),name:"security_credential",class:"mb-3",type:"text",placeholder:"Enter Security Credential"},null,8,["modelValue"]),a(r,{label:"Till Number",modelValue:t.mpesaSetupDetails.till_number,"onUpdate:modelValue":e[7]||(e[7]=l=>t.mpesaSetupDetails.till_number=l),name:"till_number",class:"mb-3",type:"text",placeholder:"1234567"},null,8,["modelValue"]),a(d,{class:"mt-2",message:t.errorMessage},null,8,["message"])]),i("div",x,[a(c,{onClick:m.saveMpesaCredentials,variant:"solid",class:"justify-center w-full"},{default:o(()=>e[8]||(e[8]=[g(" Save ")])),_:1},8,["onClick"])])]),_:1})}const E=y(M,[["render",h]]);export{E as default};
//# sourceMappingURL=AddMpesaCredentials-CMchp7nn.js.map
