{"version":3,"mappings":"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","names":["_sfc_main","defineAsyncComponent","_withCtx","_cache","$event","$data","_createTextVNode","_openBlock","_createElementBlock","_hoisted_1","_ctx","_createCommentVNode","data","__vitePreload","FinalizeInvoicesDialog","_a","card","closeDialog","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","$options","_createElementVNode","_createBlock","_resolveDynamicComponent","_toDisplayString","_hoisted_6","AccountBillingDetails","AccountBillingCards"],"sources":["../../../../dashboard/src/views/billing/AccountBillingDetails.vue","../../../../dashboard/src/views/billing/AccountBillingCards.vue","../../../../dashboard/src/views/billing/PaymentMethods.vue"],"sourcesContent":["<template>\n\t<Card\n\t\ttitle=\"Billing details\"\n\t\tsubtitle=\"Your billing details are shown in the monthly invoice\"\n\t>\n\t\t<template #actions>\n\t\t\t<Button @click=\"editBillingDetails = true\">Update</Button>\n\t\t</template>\n\t\t<UpdateBillingDetails\n\t\t\tv-model=\"editBillingDetails\"\n\t\t\t@updated=\"\n\t\t\t\teditBillingDetails = false;\n\t\t\t\t$resources.billingDetails.reload();\n\t\t\t\"\n\t\t/>\n\t\t<div class=\"divide-y\" v-if=\"$resources.billingDetails.data\">\n\t\t\t<ListItem\n\t\t\t\ttitle=\"Billing Name\"\n\t\t\t\t:description=\"$resources.billingDetails.data.billing_name\"\n\t\t\t/>\n\t\t\t<ListItem\n\t\t\t\ttitle=\"Billing Address\"\n\t\t\t\t:description=\"\n\t\t\t\t\t$resources.billingDetails.data.billing_address || 'Not set'\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<ListItem\n\t\t\t\tv-if=\"$account.team.country == 'India'\"\n\t\t\t\ttitle=\"Tax ID\"\n\t\t\t\t:description=\"$resources.billingDetails.data.gstin || 'Not set'\"\n\t\t\t/>\n\t\t</div>\n\t</Card>\n</template>\n<script>\nimport { defineAsyncComponent } from 'vue';\n\nexport default {\n\tname: 'AccountBillingDetails',\n\temits: ['updated'],\n\tcomponents: {\n\t\tUpdateBillingDetails: defineAsyncComponent(() =>\n\t\t\timport('../../../src2/components/UpdateBillingDetails.vue')\n\t\t)\n\t},\n\tresources: {\n\t\tbillingDetails: 'press.api.billing.details'\n\t},\n\tdata() {\n\t\treturn {\n\t\t\teditBillingDetails: false\n\t\t};\n\t}\n};\n</script>\n","<template>\n\t<Card title=\"Payment methods\" :subtitle=\"subtitle\">\n\t\t<template #actions>\n\t\t\t<Button @click=\"showAddCardDialog = true\"> Add Card </Button>\n\t\t\t<Dialog :options=\"{ title: 'Add new card' }\" v-model=\"showAddCardDialog\">\n\t\t\t\t<template v-slot:body-content>\n\t\t\t\t\t<StripeCard\n\t\t\t\t\t\tclass=\"mb-1\"\n\t\t\t\t\t\tv-if=\"showAddCardDialog\"\n\t\t\t\t\t\t@complete=\"\n\t\t\t\t\t\t\tshowAddCardDialog = false;\n\t\t\t\t\t\t\t$resources.paymentMethods.reload();\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t</template>\n\t\t\t</Dialog>\n\t\t</template>\n\t\t<div class=\"space-y-3\">\n\t\t\t<div\n\t\t\t\tclass=\"flex items-center justify-between rounded-lg border p-5\"\n\t\t\t\tv-for=\"card in $resources.paymentMethods.data\"\n\t\t\t\t:key=\"card.name\"\n\t\t\t>\n\t\t\t\t<div class=\"flex\">\n\t\t\t\t\t<component\n\t\t\t\t\t\tclass=\"mr-6 w-12 h-12\"\n\t\t\t\t\t\t:is=\"cardBrand[card.brand]\"\n\t\t\t\t\t\tv-if=\"card.brand\"\n\t\t\t\t\t/>\n\t\t\t\t\t<component class=\"mr-6 w-12 h-12\" :is=\"cardBrand['generic']\" v-else />\n\t\t\t\t\t<div class=\"my-auto\">\n\t\t\t\t\t\t<div class=\"text-lg font-medium text-gray-900\">\n\t\t\t\t\t\t\t{{ card.name_on_card }} <span class=\"text-gray-500\">••••</span>\n\t\t\t\t\t\t\t{{ card.last_4 }}\n\t\t\t\t\t\t\t<Badge v-if=\"card.is_default\" label=\"Default\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mt-1 text-sm text-gray-600\">\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\tValid till {{ card.expiry_month }}/{{ card.expiry_year }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t·\n\t\t\t\t\t\t\t<span>Added on {{ $date(card.creation).toLocaleString() }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Dropdown :options=\"dropdownItems(card)\" right>\n\t\t\t\t\t<template v-slot=\"{ open }\">\n\t\t\t\t\t\t<Button icon=\"more-horizontal\" />\n\t\t\t\t\t</template>\n\t\t\t\t</Dropdown>\n\t\t\t</div>\n\t\t</div>\n\t</Card>\n\t<FinalizeInvoicesDialog v-model=\"showFinalizeDialog\" />\n\t<Dialog\n\t\t:options=\"{\n\t\t\ttitle: 'Remove Payment Method',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Remove',\n\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\ttheme: 'red',\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t$resources.remove.submit({ name: cardToRemove.name }).then(() => {\n\t\t\t\t\t\t\t$resources.paymentMethods.reload();\n\t\t\t\t\t\t\tthis.showRemoveCardDialog = false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Cancel',\n\t\t\t\t\tonClick: () => (this.showRemoveCardDialog = false)\n\t\t\t\t}\n\t\t\t]\n\t\t}\"\n\t\tv-model=\"showRemoveCardDialog\"\n\t>\n\t\t<template v-slot:body-content>\n\t\t\t<span>Are you sure you want to remove this payment method?</span>\n\t\t\t<br /><br />\n\t\t\t<span v-if=\"$resources.paymentMethods.data.length === 1\">\n\t\t\t\tIf you intend to close your account please check the docs for\n\t\t\t\t<Link\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\thref=\"https://easytouch.cloud/docs/billing/disable-account\"\n\t\t\t\t\t>cancelling subscription.</Link\n\t\t\t\t>\n\t\t\t\tEasytouch Cloud is not responsible for any refund if the account is not\n\t\t\t\tclosed properly.\n\t\t\t</span>\n\t\t</template>\n\t</Dialog>\n</template>\n\n<script>\nimport { defineAsyncComponent } from 'vue';\nimport Link from '@/components/Link.vue';\nimport FinalizeInvoicesDialog from './FinalizeInvoicesDialog.vue';\n\nexport default {\n\tname: 'AccountBillingCards',\n\tdata() {\n\t\treturn {\n\t\t\tshowAddCardDialog: false,\n\t\t\tshowRemoveCardDialog: false,\n\t\t\tshowFinalizeDialog: false,\n\t\t\tcardToRemove: null\n\t\t};\n\t},\n\tresources: {\n\t\tpaymentMethods: {\n\t\t\turl: 'press.api.billing.get_payment_methods',\n\t\t\tauto: true\n\t\t},\n\t\tsetAsDefault: {\n\t\t\turl: 'press.api.billing.set_as_default'\n\t\t},\n\t\tremove() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.billing.remove_payment_method',\n\t\t\t\tonSuccess: data => {\n\t\t\t\t\tif (data === 'Unpaid Invoices') {\n\t\t\t\t\t\tthis.showFinalizeDialog = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\tcomponents: {\n\t\tStripeCard: defineAsyncComponent(() =>\n\t\t\timport('@/components/StripeCard.vue')\n\t\t),\n\t\tFinalizeInvoicesDialog\n\t},\n\tcomputed: {\n\t\tsubtitle() {\n\t\t\tif (\n\t\t\t\tthis.$resources.paymentMethods.loading ||\n\t\t\t\tthis.$resources.paymentMethods.data?.length > 0\n\t\t\t) {\n\t\t\t\treturn 'Cards you have added for automatic billing';\n\t\t\t}\n\t\t\treturn \"You haven't added any cards yet\";\n\t\t},\n\t\tcardBrand() {\n\t\t\treturn {\n\t\t\t\tmastercard: defineAsyncComponent(() =>\n\t\t\t\t\timport('@/components/icons/cards/MasterCard.vue')\n\t\t\t\t),\n\t\t\t\tvisa: defineAsyncComponent(() =>\n\t\t\t\t\timport('@/components/icons/cards/Visa.vue')\n\t\t\t\t),\n\t\t\t\tamex: defineAsyncComponent(() =>\n\t\t\t\t\timport('@/components/icons/cards/Amex.vue')\n\t\t\t\t),\n\t\t\t\tjcb: defineAsyncComponent(() =>\n\t\t\t\t\timport('@/components/icons/cards/JCB.vue')\n\t\t\t\t),\n\t\t\t\tgeneric: defineAsyncComponent(() =>\n\t\t\t\t\timport('@/components/icons/cards/Generic.vue')\n\t\t\t\t),\n\t\t\t\t'union-pay': defineAsyncComponent(() =>\n\t\t\t\t\timport('@/components/icons/cards/UnionPay.vue')\n\t\t\t\t)\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\tdropdownItems(card) {\n\t\t\treturn [\n\t\t\t\t!card.is_default && {\n\t\t\t\t\tlabel: 'Set as default',\n\t\t\t\t\tonClick: () => this.confirmSetAsDefault(card)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Remove',\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.cardToRemove = card;\n\t\t\t\t\t\tthis.showRemoveCardDialog = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t];\n\t\t},\n\t\tconfirmSetAsDefault(card) {\n\t\t\tthis.$confirm({\n\t\t\t\ttitle: 'Set as default',\n\t\t\t\tmessage: 'Set this card as the default payment method?',\n\t\t\t\tactionLabel: 'Set as default',\n\t\t\t\tresource: this.$resources.setAsDefault,\n\t\t\t\taction: closeDialog => {\n\t\t\t\t\tthis.$resources.setAsDefault.submit({ name: card.name }).then(() => {\n\t\t\t\t\t\tthis.$resources.paymentMethods.reload();\n\t\t\t\t\t\tcloseDialog();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<div class=\"space-y-5\">\n\t\t<AccountBillingDetails />\n\t\t<AccountBillingCards />\n\t</div>\n</template>\n\n<script>\nimport AccountBillingDetails from './AccountBillingDetails.vue';\nimport AccountBillingCards from './AccountBillingCards.vue';\n\nexport default {\n\tname: 'BillingScreen',\n\tpageMeta() {\n\t\treturn {\n\t\t\ttitle: 'Billing - Easytouch Cloud'\n\t\t};\n\t},\n\tprops: ['invoiceName'],\n\tcomponents: {\n\t\tAccountBillingDetails,\n\t\tAccountBillingCards\n\t}\n};\n</script>\n"],"file":"assets/PaymentMethods-DscSrwJj.js"}