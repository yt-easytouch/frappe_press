{"version":3,"file":"SiteRequestLogs-HR8e1EEa.js","sources":["../../../../dashboard/src2/components/site/performance/SiteRequestLogs.vue"],"sourcesContent":["<template>\n\t<PerformanceReport\n\t\ttitle=\"Request Log Report\"\n\t\t:site=\"name\"\n\t\t:reportOptions=\"requestLogsOptions\"\n\t/>\n</template>\n\n<script>\nimport dayjs from '../../../utils/dayjs';\nimport PerformanceReport from './PerformanceReport.vue';\n\nexport default {\n\tname: 'SiteRequestLogs',\n\tprops: ['name'],\n\tcomponents: {\n\t\tPerformanceReport\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdate: null,\n\t\t\tstart: 0\n\t\t};\n\t},\n\tcomputed: {\n\t\trequestLogsOptions() {\n\t\t\treturn {\n\t\t\t\tresource: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\turl: 'press.api.analytics.request_logs',\n\t\t\t\t\t\tmakeParams: params => {\n\t\t\t\t\t\t\t// for filterControls to work\n\t\t\t\t\t\t\tif (params) return params;\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t\t\ttimezone: dayjs.tz.guess(),\n\t\t\t\t\t\t\t\tsort: 'CPU Time (Descending)',\n\t\t\t\t\t\t\t\tdate: this.today,\n\t\t\t\t\t\t\t\tstart: this.start\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t},\n\t\t\t\t\t\tauto: true,\n\t\t\t\t\t\tinitialData: [],\n\t\t\t\t\t\ttransform: data => {\n\t\t\t\t\t\t\treturn data.map(log => {\n\t\t\t\t\t\t\t\tlog.time = dayjs(log.timestamp).format('HH:mm:ss z');\n\t\t\t\t\t\t\t\tlog.method = log.request.method;\n\t\t\t\t\t\t\t\tlog.path = log.request.path;\n\t\t\t\t\t\t\t\tlog.status = log.request.status_code;\n\t\t\t\t\t\t\t\tlog.cpu_time = log.duration / 1000000;\n\t\t\t\t\t\t\t\treturn log;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tcolumns: [\n\t\t\t\t\t{ label: 'Time', fieldname: 'time', width: 1 },\n\t\t\t\t\t{ label: 'Method', fieldname: 'method', width: 0.5 },\n\t\t\t\t\t{ label: 'Path', fieldname: 'path', width: 2, class: 'font-mono' },\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Status Code',\n\t\t\t\t\t\tfieldname: 'status',\n\t\t\t\t\t\twidth: 0.5,\n\t\t\t\t\t\talign: 'right'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'CPU Time (seconds)',\n\t\t\t\t\t\tfieldname: 'cpu_time',\n\t\t\t\t\t\twidth: 1,\n\t\t\t\t\t\tclass: 'text-gray-600',\n\t\t\t\t\t\talign: 'right',\n\t\t\t\t\t\tformat: value => value.toFixed(2)\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tfilterControls: () => [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\tlabel: 'Sort',\n\t\t\t\t\t\tfieldname: 'sort',\n\t\t\t\t\t\tclass: !this.$isMobile ? 'w-48' : '',\n\t\t\t\t\t\toptions: [\n\t\t\t\t\t\t\t'Time (Ascending)',\n\t\t\t\t\t\t\t'Time (Descending)',\n\t\t\t\t\t\t\t'CPU Time (Descending)'\n\t\t\t\t\t\t],\n\t\t\t\t\t\tdefault: 'CPU Time (Descending)'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'date',\n\t\t\t\t\t\tlabel: 'Date',\n\t\t\t\t\t\tfieldname: 'date',\n\t\t\t\t\t\tclass: !this.$isMobile ? 'w-48' : '',\n\t\t\t\t\t\tdefault: this.today\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t},\n\t\ttoday() {\n\t\t\treturn dayjs().format('YYYY-MM-DD');\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","PerformanceReport","params","data","log","dayjs","$props","$options"],"mappings":"uwBAYA,MAAAA,EAAA,wBAEC,MAAA,CAAA,MAAA,cAEC,kBAAAC,GAED,MAAA,CACC,MAAA,CACC,KAAA,KACA,MAAA,IAGF,SAAA,CACC,oBAAA,CACC,MAAA,eAEE,CACC,IAAA,mCACA,WAAAC,MAIC,CACC,KAAA,KAAA,wDAGA,KAAA,KAAA,MACA,MAAA,KAAA,OAGF,KAAA,GACA,YAAA,CAAA,EACA,UAAAC,GACCA,EAAA,IAAAC,+FAICA,EAAA,OAAAA,EAAA,QAAA,YACAA,EAAA,SAAAA,EAAA,SAAA,IACAA,EACD,IAIH,QAAA,CACC,CAAA,MAAA,OAAA,UAAA,OAAA,MAAA,CAAA,EACA,CAAA,MAAA,SAAA,UAAA,SAAA,MAAA,EAAA,4DAEA,CACC,MAAA,cACA,UAAA,SACA,MAAA,kBAGD,4BAEC,UAAA,WACA,MAAA,EACA,MAAA,oDAGD,GAED,eAAA,IAAA,CACC,4BAGC,UAAA,OACA,MAAA,KAAA,UAAA,GAAA,OACA,QAAA,CACC,mBACA,oBACA,0DAIF,0BAGC,UAAA,OACA,MAAA,KAAA,UAAA,GAAA,OACA,QAAA,KAAA,KACD,CACD,IAGF,OAAA,CACC,OAAAC,EAAA,EAAA,OAAA,YAAA,CACD,CACD,CACD,yEApGE,MAAA,qBACC,KAAAC,EAAA,KACA,cAAAC,EAAA"}