import{x as l,r as m,h as f,o as u,V as n,ad as i,bg as s}from"./main-Dpl-JOF2.js";import{P as c}from"./PerformanceReport-uZO_IyE8.js";(function(){try{var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4a1850b9-b7ac-4454-a819-8267ca9fab50",e._sentryDebugIdIdentifier="sentry-dbid-4a1850b9-b7ac-4454-a819-8267ca9fab50")}catch(a){}})();{var r=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};r._sentryModuleMetadata=r._sentryModuleMetadata||{},r._sentryModuleMetadata[new Error().stack]=Object.assign({},r._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const h={name:"SiteBinaryLogs",props:["name"],components:{PerformanceReport:c},data(){return{start_time:s().subtract(2,"hour").format("YYYY-MM-DD HH:mm:ss"),end_time:s().format("YYYY-MM-DD HH:mm:ss"),pattern:".*",max_lines:50}},resources:{binaryLogs(){return{url:"press.api.analytics.binary_logs",makeParams:e=>e||{name:this.name,start_time:this.start_time,end_time:this.end_time,pattern:this.pattern,max_lines:this.max_lines},validate(){if(this.max_lines<1||this.max_lines>500)throw n.error("Max lines should be between 1 and 500"),new i("Max lines should be between 1 and 500");const e=s(this.start_time),t=s(this.end_time);if(t.diff(e,"hour")>2)throw n.error("Time range should be less than 2 hours"),new i("Time range should be less than 2 hours");if(e.isAfter(t))throw n.error("Start time should be less than end time"),new i("Start time should be less than end time")},onError(e){console.error(e.message)},auto:!1,pageLength:10,keepData:!0,initialData:[]}}},computed:{binaryLogsOptions(){return{data:()=>this.$resources.binaryLogs.data,updateFilters:e=>{if(e)for(const[t,a]of Object.entries(e))t==="start_time"&&(this.start_time=a),t==="end_time"&&(this.end_time=a),t==="pattern"&&(this.pattern=a),t==="max_lines"&&(this.max_lines=a)},columns:[{label:"Timestamp",fieldname:"timestamp",width:"12rem",format:e=>this.$format.date(e,"YYYY-MM-DD HH:mm:ss")},{label:"Query",fieldname:"query",class:"font-mono"}],filterControls:()=>[{type:"datetime",label:"Start Time",fieldname:"start_time",default:this.start_time},{type:"datetime",label:"End Time",fieldname:"end_time",default:this.end_time},{label:"Pattern",fieldname:"pattern",default:this.pattern},{label:"Max Lines",fieldname:"max_lines",default:this.max_lines}],actions:()=>[{label:"View Logs",variant:"solid",loading:this.$resources.binaryLogs.loading,loadingText:"Loading",onClick:()=>this.$resources.binaryLogs.reload()}]}}}};function p(e,t,a,_,b,o){const d=m("PerformanceReport");return u(),f(d,{title:"Binary Logs",site:a.name,reportOptions:o.binaryLogsOptions},null,8,["site","reportOptions"])}const w=l(h,[["render",p]]);export{w as default};
//# sourceMappingURL=SiteBinaryLogs-BK7zCqzv.js.map
