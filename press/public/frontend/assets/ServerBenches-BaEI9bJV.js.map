{"version":3,"file":"ServerBenches-BaEI9bJV.js","sources":["../../../../dashboard/src/views/server/ServerBenches.vue"],"sourcesContent":["<template>\n\t<Table\n\t\t:columns=\"[\n\t\t\t{ label: 'Bench Name', name: 'title', width: 2 },\n\t\t\t{ label: 'Status', name: 'status' },\n\t\t\t{ label: 'Version', name: 'version' },\n\t\t\t{ label: 'Tags', name: 'tags' },\n\t\t\t{ label: 'Stats', name: 'stats' },\n\t\t\t{ label: '', name: 'actions', width: 0.5 }\n\t\t]\"\n\t\t:rows=\"benches\"\n\t\tv-slot=\"{ rows, columns }\"\n\t>\n\t\t<TableHeader class=\"hidden sm:grid\" />\n\t\t<div class=\"flex items-center justify-center\">\n\t\t\t<LoadingText class=\"mt-8\" v-if=\"$resources.benches.loading\" />\n\t\t\t<div v-else-if=\"rows.length === 0\" class=\"mt-8\">\n\t\t\t\t<div class=\"text-base text-gray-700\">No Items</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<TableRow v-for=\"row in rows\" :key=\"row.name\" :row=\"row\">\n\t\t\t<TableCell v-for=\"column in columns\">\n\t\t\t\t<Badge\n\t\t\t\t\tclass=\"ring-1 ring-white\"\n\t\t\t\t\tv-if=\"column.name === 'status'\"\n\t\t\t\t\t:label=\"row.status\"\n\t\t\t\t/>\n\t\t\t\t<div v-else-if=\"column.name === 'tags'\" class=\"hidden sm:flex\">\n\t\t\t\t\t<Badge\n\t\t\t\t\t\tv-for=\"(tag, i) in row.tags.slice(0, 1)\"\n\t\t\t\t\t\ttheme=\"blue\"\n\t\t\t\t\t\t:label=\"tag\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\tv-if=\"row.tags.length > 1\"\n\t\t\t\t\t\t:text=\"row.tags.slice(1).join(', ')\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\tv-if=\"row.tags.length > 1\"\n\t\t\t\t\t\t\t:label=\"`+${row.tags.length - 1}`\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tv-else-if=\"column.name === 'stats'\"\n\t\t\t\t\tclass=\"hidden text-sm text-gray-600 sm:block\"\n\t\t\t\t>\n\t\t\t\t\t{{\n\t\t\t\t\t\t`${row.stats.number_of_sites} ${$plural(\n\t\t\t\t\t\t\trow.stats.number_of_sites,\n\t\t\t\t\t\t\t'Site',\n\t\t\t\t\t\t\t'Sites'\n\t\t\t\t\t\t)}`\n\t\t\t\t\t}}\n\t\t\t\t\t&middot;\n\t\t\t\t\t{{\n\t\t\t\t\t\t`${row.stats.number_of_apps} ${$plural(\n\t\t\t\t\t\t\trow.stats.number_of_apps,\n\t\t\t\t\t\t\t'App',\n\t\t\t\t\t\t\t'Apps'\n\t\t\t\t\t\t)}`\n\t\t\t\t\t}}\n\t\t\t\t</div>\n\t\t\t\t<div v-else-if=\"column.name == 'actions'\" class=\"w-full text-right\">\n\t\t\t\t\t<Dropdown @click.prevent :options=\"dropdownItems(row)\">\n\t\t\t\t\t\t<template v-slot=\"{ open }\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t:variant=\"open ? 'subtle' : 'ghost'\"\n\t\t\t\t\t\t\t\tclass=\"mr-2\"\n\t\t\t\t\t\t\t\ticon=\"more-horizontal\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</div>\n\t\t\t\t<span v-else :class=\"{ 'hidden sm:block': column.name === 'version' }\"\n\t\t\t\t\t>{{ row[column.name] || '' }}\n\t\t\t\t</span>\n\t\t\t</TableCell>\n\t\t</TableRow>\n\t</Table>\n</template>\n<script>\nimport Table from '@/components/Table/Table.vue';\nimport TableCell from '@/components/Table/TableCell.vue';\nimport TableHeader from '@/components/Table/TableHeader.vue';\nimport TableRow from '@/components/Table/TableRow.vue';\n\nexport default {\n\tname: 'ServerBenches',\n\tcomponents: {\n\t\tTable,\n\t\tTableHeader,\n\t\tTableRow,\n\t\tTableCell\n\t},\n\tprops: ['server', 'serverName'],\n\tresources: {\n\t\tbenches() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.server.groups',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.serverName\n\t\t\t\t},\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tbenches() {\n\t\t\tif (!this.$resources.benches.data) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\treturn this.$resources.benches.data.map(bench => ({\n\t\t\t\tname: bench.name,\n\t\t\t\ttitle: bench.title,\n\t\t\t\tstatus: bench.status,\n\t\t\t\tversion: bench.version,\n\t\t\t\tstats: {\n\t\t\t\t\tnumber_of_sites: bench.number_of_sites,\n\t\t\t\t\tnumber_of_apps: bench.number_of_apps\n\t\t\t\t},\n\t\t\t\ttags: bench.tags,\n\t\t\t\troute: { name: 'BenchSiteList', params: { benchName: bench.name } }\n\t\t\t}));\n\t\t}\n\t},\n\tmethods: {\n\t\tdropdownItems(bench) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'New Site',\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.$router.push(`/${bench.name}/new`);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'View Versions',\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.$router.push(`/groups/${bench.name}/versions`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","TableRow","TableCell","bench","_hoisted_1","$options","_withCtx","rows","columns","_createElementVNode","_openBlock","_createElementBlock","_hoisted_2","_cache","_createCommentVNode","_Fragment","_renderList","row","column","_hoisted_3","tag","_toDisplayString","_ctx","_hoisted_5","open","_normalizeClass"],"mappings":"m3BAuFA,MAAAA,EAAA,CACC,KAAA,kDAIC,SAAAC,EACAC,UAAAA,4CAIA,SAAA,CACC,MAAA,+BAEC,OAAA,CACC,KAAA,KAAA,YAED,KAAA,GAEF,GAED,SAAA,CACC,SAAA,CACC,OAAA,KAAA,WAAA,QAAA,2CAKC,KAAAC,EAAA,KACA,MAAAA,EAAA,MACA,OAAAA,EAAA,OACA,QAAAA,EAAA,QACA,MAAA,CACC,gBAAAA,EAAA,gBACA,eAAAA,EAAA,gBAED,KAAAA,EAAA,2DAED,EAAA,EAdC,CAAA,CAeF,GAED,QAAA,CACC,cAAAA,EAAA,CACC,MAAA,CACC,CACC,MAAA,wBAEC,KAAA,QAAA,KAAA,IAAAA,EAAA,IAAA,MAAA,CACD,GAED,CACC,MAAA,4EAGA,CACD,EAEF,CACD,CACD,EAnIOC,EAAA,CAAA,MAAA,kCAAA,WAE+B,MAAA,iBAWM,MAAA,2BAkBvC,MAAA,kDAkByC,MAAA,uGA7D3C,QAAA,qMAOA,EACA,KAAAC,EAAA,UAVH,QAAAC,EAAA,CAAA,CAAA,KAAAC,EAAA,QAAAC,CAAA,IAAA,+BAcEC,EAAA,MAAAL,EAAA,8CACc,MAAA,UACGG,EAAA,SAAA,GAAhBG,EAAA,EAAAC,EAAA,MAAAC,EAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CACCJ,EAAA,MAAA,CAAA,MAAA,yBAAA,EAAA,WAAA,EAAA,MAjBJK,EAAA,GAAA,EAAA,KAoBEJ,EAAA,EAAA,EAAAC,EAAAI,EAAA,KAAAC,EAAAT,EAAAU,wBAA+C,IAAAA,IApBjD,QAAAX,EAAA,IAAA,EAqBGI,EAAA,EAAA,EAAAC,EAAAI,EAAA,KAAAC,EAAAR,EAAAU,kBArBH,QAAAZ,EAAA,IAAA,CAwBWY,EAAA,OAAA,yBADN,MAAA,uDAIeA,EAAA,OAAA,QAAhBR,IAAAC,EAAA,MAAAQ,EAAA,sDAGE,MAAA,OACC,MAAAC,6DAIA,KAAAH,EAAA,KAAA,MAAA,CAAA,EAAA,KAAA,IAAA,IAnCP,QAAAX,EAAA,IAAA,iCAuCQ,MAAA,IAAAW,EAAA,KAAA,OAAA,CAAA,uBAvCRH,EAAA,GAAA,EAAA,yBAAAA,EAAA,GAAA,EAAA,KA4CgBI,EAAA,OAAA,uGAST,CAAA,EAAA,EAAA,MAAAG,EAAA,GAAAJ,EAAA,MAAA,cAAA,IAAAK,EAAA,oDAUaJ,EAAA,MAAA,WAAhBR,IAAAC,EAAA,MAAAY,EAAA,0GAIK,QAAAC,EAAA,SAAA,QACD,MAAA,OACA,KAAA,wFAKU,MAAAC,EAAA,CAAA,kBAAAP,EAAA,OAAA,SAAA,CAAA"}