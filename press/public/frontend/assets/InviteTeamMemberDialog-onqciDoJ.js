import{x as _,h,o,w as y,j as c,A as r,q as d,u as f,a8 as v,X as w,F as g,v as R,t as x,aA as V,V as k,ad as D,aa as I}from"./main-Dpl-JOF2.js";(function(){try{var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},s=new Error().stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="90a9e803-a5b8-4334-ab6a-13ab1f454307",e._sentryDebugIdIdentifier="sentry-dbid-90a9e803-a5b8-4334-ab6a-13ab1f454307")}catch(p){}})();{var i=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};i._sentryModuleMetadata=i._sentryModuleMetadata||{},i._sentryModuleMetadata[new Error().stack]=Object.assign({},i._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const M={data(){return{email:"",show:!0,selectedRoles:[],selectedRole:null}},resources:{roles(){return{type:"list",doctype:"Press Role",fields:["name","title"],initialData:[],auto:!0}}},computed:{roleOptions(){return this.$resources.roles.data.filter(e=>!this.selectedRoles.some(s=>s.value===e.name)).map(e=>({label:e.title,value:e.name}))}},methods:{addRole(){this.selectedRole&&(this.selectedRoles.push(this.selectedRole),this.selectedRole=null)},removeRole(e){this.selectedRoles=this.selectedRoles.filter(s=>s.value!==e)},inviteMember(){k.promise(this.$team.inviteTeamMember.submit({email:this.email,roles:this.selectedRoles.map(e=>e.value)},{validate:()=>{if(!this.email)throw new D("Email is required")}}),{loading:"Sending Invite...",success:()=>(this.show=!1,"Invite Sent!"),error:e=>I(e)})}}},C={class:"space-y-4"},E={key:0,class:"flex items-center space-x-2"},B={key:1,class:"divide-y rounded border border-gray-300 px-1.5"},A={class:"flex w-full items-center space-x-2 py-1.5"},N={class:"flex w-full items-center justify-between px-3 py-2"},S={class:"text-base text-gray-800"};function j(e,s,p,F,t,a){const u=v,m=w,b=V;return o(),h(b,{options:{title:"Add New Member",actions:[{label:"Invite Member",variant:"solid",onClick:a.inviteMember}]},modelValue:t.show,"onUpdate:modelValue":s[2]||(s[2]=n=>t.show=n)},{"body-content":y(()=>{var n;return[c("div",C,[r(u,{label:"Email",modelValue:t.email,"onUpdate:modelValue":s[0]||(s[0]=l=>t.email=l)},null,8,["modelValue"]),((n=e.$resources.roles.data)==null?void 0:n.length)>0?(o(),d("div",E,[r(u,{class:"w-full",type:"autocomplete",label:"Select Roles",options:a.roleOptions,modelValue:t.selectedRole,"onUpdate:modelValue":s[1]||(s[1]=l=>t.selectedRole=l)},null,8,["options","modelValue"]),r(m,{label:"Add","icon-left":"plus",disabled:!t.selectedRole,onClick:a.addRole,class:"mt-5"},null,8,["disabled","onClick"])])):f("",!0),t.selectedRoles.length>0?(o(),d("div",B,[(o(!0),d(g,null,R(t.selectedRoles,l=>(o(),d("div",A,[c("div",N,[c("div",S,x(l.label),1)]),r(m,{class:"ml-auto",variant:"ghost",icon:"x",onClick:O=>a.removeRole(l.value)},null,8,["onClick"])]))),256))])):f("",!0)])]}),_:1},8,["options","modelValue"])}const U=_(M,[["render",j]]);export{U as default};
//# sourceMappingURL=InviteTeamMemberDialog-onqciDoJ.js.map
