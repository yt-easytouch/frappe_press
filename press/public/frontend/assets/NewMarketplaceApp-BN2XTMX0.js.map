{"version":3,"file":"NewMarketplaceApp-BN2XTMX0.js","sources":["../../../../dashboard/src/views/marketplace/NewMarketplaceApp.vue"],"sourcesContent":["<template>\n\t<WizardCard>\n\t\t<div class=\"mb-6 text-center\">\n\t\t\t<h1 class=\"text-2xl font-bold\">Add a New App</h1>\n\t\t\t<p class=\"text-base text-gray-700\">Add an app to marketplace</p>\n\t\t</div>\n\n\t\t<SelectAppFromGithub @onSelect=\"d => (app = d)\" />\n\n\t\t<div v-if=\"app\">\n\t\t\t<label class=\"mb-3 text-base\" for=\"version-select\"\n\t\t\t\t>Compatible Frappe Version</label\n\t\t\t>\n\t\t\t<select\n\t\t\t\tid=\"version-select\"\n\t\t\t\tclass=\"form-select mb-4 block\"\n\t\t\t\tv-model=\"version\"\n\t\t\t>\n\t\t\t\t<option v-for=\"version in versionList\" :key=\"version\">\n\t\t\t\t\t{{ version }}\n\t\t\t\t</option>\n\t\t\t</select>\n\n\t\t\t<ErrorMessage class=\"mb-3\" :message=\"$resources.addApp.error\" />\n\n\t\t\t<Button\n\t\t\t\t:loading=\"$resources.addApp.loading\"\n\t\t\t\t@click=\"$resources.addApp.submit()\"\n\t\t\t\tvariant=\"solid\"\n\t\t\t\tclass=\"w-full\"\n\t\t\t\t>Add to marketplace</Button\n\t\t\t>\n\t\t</div>\n\t</WizardCard>\n</template>\n\n<script>\nimport WizardCard from '@/components/WizardCard.vue';\nimport SelectAppFromGithub from '@/components/SelectAppFromGithub.vue';\n\nexport default {\n\tname: 'NewMarketplaceApp',\n\tcomponents: {\n\t\tWizardCard,\n\t\tSelectAppFromGithub\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tapp: null,\n\t\t\tversion: null\n\t\t};\n\t},\n\tresources: {\n\t\tfrappeVersions() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.marketplace.frappe_versions',\n\t\t\t\tauto: true,\n\t\t\t\tonSuccess(data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tthis.version = data[0];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\taddApp() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.marketplace.new_app',\n\t\t\t\tparams: {\n\t\t\t\t\tapp: {\n\t\t\t\t\t\tname: this.app?.name,\n\t\t\t\t\t\ttitle: this.app?.title,\n\t\t\t\t\t\trepository_url: this.app?.repository_url,\n\t\t\t\t\t\tbranch: this.app?.branch,\n\t\t\t\t\t\tgithub_installation_id: this.app?.github_installation_id,\n\t\t\t\t\t\tversion: this.version\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tonSuccess() {\n\t\t\t\t\tthis.$router.push(`/marketplace/apps/${this.app.name}`);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tversionList() {\n\t\t\tif (\n\t\t\t\t!this.$resources.frappeVersions.data ||\n\t\t\t\tthis.$resources.frappeVersions.loading\n\t\t\t) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\treturn this.$resources.frappeVersions.data;\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","SelectAppFromGithub","data","_a","_b","_c","_withCtx","_createElementVNode","_cache","d","$data","_openBlock","_createElementBlock","_hoisted_1","$event","_Fragment","_renderList","$options","version","_toDisplayString","_ctx","_createTextVNode","_createCommentVNode"],"mappings":"q4BAwCA,MAAAA,EAAA,mDAIEC,oBAAAA,GAED,MAAA,CACC,MAAA,CACC,IAAA,+BAKD,gBAAA,CACC,MAAA,CACC,IAAA,wCACA,KAAA,GACA,UAAAC,EAAA,CACCA,IACC,KAAA,QAAAA,EAAA,CAAA,EAEF,IAGF,QAAA,eACC,MAAA,CACC,IAAA,gCACA,OAAA,MAEE,MAAAC,EAAA,KAAA,MAAA,YAAAA,EAAA,KACA,OAAAC,EAAA,KAAA,MAAA,YAAAA,EAAA,MACA,gBAAAC,EAAA,KAAA,MAAA,YAAAA,EAAA,mIAGA,QAAA,KAAA,OACD,sEAID,EAEF,GAED,SAAA,eAEE,MACC,CAAA,KAAA,WAAA,eAAA,MACA,KAAA,WAAA,eAAA,QAEA,CAAA,EAED,KAAA,WAAA,eAAA,IACD,CACD,CACD,+EA9FA,QAAAC,EAAA,IAAA,iDAGGC,EAAA,KAAA,CAAA,MAAA,oBAAA,EAAA,eAAA,EACAA,EAAA,IAAA,CAAA,MAAA,yBAAA,EAAA,2BAAA,aAGqB,WAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAC,EAAA,IAAAD,YAEtBE,IAAAC,EAAA,MAAAC,EAAA,wBACQ,MAAA,iBAAuB,IAAA,iEAI7B,GAAA,iBACA,MAAA,yBAfJ,sBAAAL,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAAJ,EAAA,QAAAI,MAkBIH,EAAA,EAAA,EAAAC,EAAAG,EAAA,KAAAC,EAAAC,EAAA,YAAAC,IAAAP,EAAA,EAAAC,EAAA,SAAA,CAAA,IAAAM,CAAA,EAAAC,EAAAD,CAAA,EAAA,CAAA,sCAKa,MAAA,OAAc,QAAAE,EAAA,WAAA,OAAA,gCAG1B,QAAAA,EAAA,WAAA,OAAA,QACA,QAAAZ,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAAM,EAAA,WAAA,OAAA,OAAA,GACD,QAAA,QACA,MAAA,WA7BJ,QAAAd,EAAA,IAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAAAa,EAAA,oBAAA,4BAAAC,EAAA,GAAA,EAAA"}