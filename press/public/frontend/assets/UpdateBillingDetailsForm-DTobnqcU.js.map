{"version":3,"file":"UpdateBillingDetailsForm-DTobnqcU.js","sources":["../../../../dashboard/src2/components/UpdateBillingDetailsForm.vue"],"sourcesContent":["<template>\n\t<FormControl class=\"mt-4\" v-model=\"billing_name\" label=\"Billing Name\" />\n\t<AddressForm\n\t\tref=\"address-form\"\n\t\tclass=\"mt-4\"\n\t\tv-model:address=\"billingInformation\"\n\t/>\n\t<ErrorMessage\n\t\tclass=\"mt-2\"\n\t\t:message=\"$resources.updateBillingInformation.error\"\n\t/>\n\t<div class=\"flex w-full justify-end\">\n\t\t<Button\n\t\t\tclass=\"mt-2 w-full sm:w-fit\"\n\t\t\tvariant=\"solid\"\n\t\t\t:loading=\"$resources.updateBillingInformation.loading\"\n\t\t\t@click=\"$resources.updateBillingInformation.submit\"\n\t\t>\n\t\t\tUpdate Billing Details\n\t\t</Button>\n\t</div>\n</template>\n\n<script>\nimport { DashboardError } from '../utils/error';\nimport AddressForm from './AddressForm.vue';\nimport { notify } from '@/utils/toast.js';\n\nexport default {\n\tname: 'UpdateBillingDetailsForm',\n\temits: ['updated'],\n\tcomponents: {\n\t\tAddressForm\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tbilling_name: '',\n\t\t\tbillingInformation: {\n\t\t\t\taddress: '',\n\t\t\t\tcity: '',\n\t\t\t\tstate: '',\n\t\t\t\tpostal_code: '',\n\t\t\t\tcountry: '',\n\t\t\t\tgstin: ''\n\t\t\t}\n\t\t};\n\t},\n\tresources: {\n\t\tcurrentBillingInformation() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.account.get_billing_information',\n\t\t\t\tauto: true,\n\t\t\t\tonSuccess(billingInformation) {\n\t\t\t\t\tif ('country' in (billingInformation || {})) {\n\t\t\t\t\t\tObject.assign(this.billingInformation, {\n\t\t\t\t\t\t\taddress: billingInformation.address_line1,\n\t\t\t\t\t\t\tcity: billingInformation.city,\n\t\t\t\t\t\t\tstate: billingInformation.state,\n\t\t\t\t\t\t\tpostal_code: billingInformation.pincode,\n\t\t\t\t\t\t\tcountry: billingInformation.country,\n\t\t\t\t\t\t\tgstin:\n\t\t\t\t\t\t\t\tbillingInformation.gstin == 'Not Applicable'\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: billingInformation.gstin\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.billing_name = billingInformation.billing_name;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tupdateBillingInformation() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.account.update_billing_information',\n\t\t\t\tmakeParams() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tbilling_details: {\n\t\t\t\t\t\t\t...this.billingInformation,\n\t\t\t\t\t\t\tbilling_name: this.billingInformation.billing_name\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tonSuccess() {\n\t\t\t\t\tnotify({\n\t\t\t\t\t\ttitle: 'Address updated successfully!'\n\t\t\t\t\t});\n\t\t\t\t\tthis.$emit('updated');\n\t\t\t\t},\n\t\t\t\tvalidate() {\n\t\t\t\t\tvar billing_name = this.billing_name.trim();\n\t\t\t\t\tvar billingNameRegex = /^[a-zA-Z0-9\\-\\'\\,\\.\\s]+$/;\n\t\t\t\t\tvar billingNameValid = billingNameRegex.test(billing_name);\n\t\t\t\t\tif (!billingNameValid) {\n\t\t\t\t\t\tthrow new DashboardError(\n\t\t\t\t\t\t\t'Billing Name contains invalid characters'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tthis.billing_name = billing_name;\n\t\t\t\t\treturn this.$refs['address-form'].validateValues();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","billingInformation","__spreadProps","__spreadValues","notify","billing_name","billingNameValid","_hoisted_1","_openBlock","_createElementBlock","_Fragment","$data","_cache","$event","_ctx","_createElementVNode","_withCtx","_createTextVNode"],"mappings":"2yCA4BA,MAAAA,EAAA,CACC,KAAA,2BACA,MAAA,CAAA,SAAA,6BAIA,MAAA,CACC,MAAA,CACC,aAAA,GACA,mBAAA,YAEC,KAAA,GACA,MAAA,GACA,YAAA,cAEA,MAAA,EACD,2CAKA,MAAA,iDAEC,KAAA,gBAEC,YAAAC,GAAA,CAAA,KACC,OAAA,OAAA,KAAA,mBAAA,CACC,QAAAA,EAAA,0BAEA,MAAAA,EAAA,MACA,YAAAA,EAAA,QACA,QAAAA,EAAA,cAECA,EAAA,OAAA,iBACC,UAEH,CAAA,mCAGF,+BAID,MAAA,iEAGE,MAAA,CACC,gBAAAC,EAAAC,EAAA,4BAAA,kDAGA,iBAIDC,EAAA,CACC,MAAA,+BACD,CAAA,EACA,KAAA,MAAA,SAAA,cAGA,IAAAC,EAAA,KAAA,aAAA,KAAA,2CAGA,GAAA,CAAAC,cAEE,4CAGF,YAAA,aAAAD,6CAED,EAEF,CACD,CACD,EA3FME,EAAA,CAAA,MAAA,yBAAA,+DAXN,OAAAC,EAAA,EAAAC,EAAAC,EAAA,KAAA,MACc,MAAA,OADd,WAAAC,EAAA,aAAA,sBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,aAAAE,GACkD,MAAA,4CAEhD,IAAA,eACA,MAAA,OACQ,QAAAF,EAAA,mBALV,mBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,mBAAAE,6BAQE,MAAA,OACC,QAAAC,EAAA,WAAA,yBAAA,2BAEFC,EAAA,MAAAR,EAAA,MAEE,MAAA,uBACA,QAAA,QACC,QAAAO,EAAA,WAAA,yBAAA,QACA,QAAAA,EAAA,WAAA,yBAAA,SAhBJ,QAAAE,EAAA,IAAAJ,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAAAK,EAAA,0BAAA"}