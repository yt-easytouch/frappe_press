import{x as g,q as l,o as a,u as p,j as e,F as h,v as w,t as r,A as y,w as b,Y as C,X as k,ao as D,r as _,h as v,aA as I}from"./main-Dpl-JOF2.js";(function(){try{var n=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},t=new Error().stack;t&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[t]="73780231-4dd0-4436-924d-3d2cd1eb685d",n._sentryDebugIdIdentifier="sentry-dbid-73780231-4dd0-4436-924d-3d2cd1eb685d")}catch(u){}})();{var i=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};i._sentryModuleMetadata=i._sentryModuleMetadata||{},i._sentryModuleMetadata[new Error().stack]=Object.assign({},i._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const B={name:"PayoutTable",props:["payoutId"],resources:{invoice(){return{type:"document",doctype:"Payout Order",name:this.payoutId}}},computed:{doc(){return this.$resources.invoice.doc}},methods:{formatCurrency(n,t){return this.$format.currency(n,t)}}},T={key:0,class:"overflow-x-auto"},N={class:"text w-full border-separate border-spacing-y-2 text-base font-normal text-gray-900"},V={class:"py-1 pl-2 pr-2"},M={class:"py-1 pl-2 pr-2"},O={class:"py-1 pl-2 pr-2 text-right"},S={class:"py-1 pl-2 pr-2 text-right"},j={class:"py-1 pl-2 pr-2 text-right"},A={class:"py-1 pl-2 pr-2 text-right"},E={class:"py-1 pl-2 pr-2 text-right"},L={class:"whitespace-nowrap pb-2 pr-2 pt-4 text-right font-medium"},F={key:1,class:"py-20 text-center"};function R(n,t,u,x,d,s){const c=k;return a(),l("div",null,[s.doc?(a(),l("div",T,[e("table",N,[t[6]||(t[6]=e("thead",{class:"bg-gray-100"},[e("tr",{class:"text-gray-600"},[e("th",{class:"rounded-l p-2 text-left font-normal"},"App"),e("th",{class:"rounded-l p-2 text-left font-normal"},"Site"),e("th",{class:"whitespace-nowrap p-2 text-right font-normal"},"Rate"),e("th",{class:"whitespace-nowrap p-2 text-right font-normal"},"Total"),e("th",{class:"rounded-r p-2 text-right font-normal"},"Fee"),e("th",{class:"rounded-r p-2 text-right font-normal"},"Commission"),e("th",{class:"rounded-r p-2 text-right font-normal"},"Net Amount")])],-1)),e("tbody",null,[(a(!0),l(h,null,w(s.doc.items,(o,m)=>(a(),l("tr",{key:o.idx},[e("td",V,r(o.document_name),1),e("td",M,r(o.site),1),e("td",O,r(s.formatCurrency(o.rate,o.currency))+" X "+r(o.quantity),1),e("td",S,r(s.formatCurrency(o.total_amount,o.currency)),1),e("td",j,r(s.formatCurrency(o.gateway_fee,o.currency)),1),e("td",A,r(s.formatCurrency(o.commission,o.currency)),1),e("td",E,r(s.formatCurrency(o.net_amount,o.currency)),1)]))),128))]),e("tfoot",null,[e("tr",null,[t[0]||(t[0]=e("td",null,null,-1)),t[1]||(t[1]=e("td",null,null,-1)),t[2]||(t[2]=e("td",null,null,-1)),t[3]||(t[3]=e("td",null,null,-1)),t[4]||(t[4]=e("td",null,null,-1)),t[5]||(t[5]=e("td",{class:"pb-2 pr-2 pt-4 text-right font-medium"},"Total Payout",-1)),e("td",L,r(s.formatCurrency(s.doc.net_total_usd,"USD"))+" + "+r(s.formatCurrency(s.doc.net_total_inr,"INR")),1)])])])])):p("",!0),n.$resources.invoice.loading?(a(),l("div",F,[y(c,{loading:!0},{default:b(()=>t[7]||(t[7]=[C("Loading")])),_:1})])):p("",!0)])}const U=g(B,[["render",R]]),q={name:"BillingMarketplacePayouts",props:["tab"],data(){return{payoutDialog:!1,showPayout:null}},components:{ObjectList:D,PayoutTable:U},computed:{options(){return{doctype:"Payout Order",fields:["period_end","mode_of_payment","status","net_total_inr","net_total_usd"],filterControls:()=>[{type:"select",label:"Status",class:this.$isMobile?"":"w-36",fieldname:"status",options:["","Draft","Paid","Commissioned"]}],orderBy:"creation desc",columns:[{label:"Date",fieldname:"period_end",format(n){return Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(n))}},{label:"Payment Mode",fieldname:"mode_of_payment"},{label:"Status",fieldname:"status",type:"Badge"},{label:"Total",fieldname:"net_total_inr",align:"right",format:(n,t)=>{let u=0;return this.$team.doc.currency==="INR"?u=t.net_total_inr+t.net_total_usd*82:u=t.net_total_inr/82+t.net_total_usd,this.$format.userCurrency(u)}}],onRowClick:n=>{this.showPayout=n,this.payoutDialog=!0}}}}},X={class:"p-5"},$={key:0,class:"text-base text-gray-600"};function z(n,t,u,x,d,s){var f;const c=_("ObjectList"),o=_("PayoutTable"),m=I;return a(),l("div",X,[y(c,{options:s.options},null,8,["options"]),y(m,{modelValue:d.payoutDialog,"onUpdate:modelValue":t[0]||(t[0]=P=>d.payoutDialog=P),options:{size:"6xl",title:(f=d.showPayout)==null?void 0:f.name}},{"body-content":b(()=>[d.showPayout?(a(),l(h,{key:0},[d.showPayout.status==="Empty"?(a(),l("div",$," Nothing to show ")):(a(),v(o,{key:1,payoutId:d.showPayout.name},null,8,["payoutId"]))],64)):p("",!0)]),_:1},8,["modelValue","options"])])}const Y=g(q,[["render",z]]);export{Y as default};
//# sourceMappingURL=BillingMarketplacePayouts-DqlCwwX5.js.map
