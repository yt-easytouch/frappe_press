{"version":3,"file":"ReplyMarketplaceApp-DUek5CGK.js","sources":["../../../../dashboard/src2/components/marketplace/ReplyMarketplaceApp.vue"],"sourcesContent":["<template>\n\t<div class=\"mx-auto mt-12 max-w-xl px-5 text-base sm:px-8\">\n\t\t<div v-if=\"$app\" class=\"mb-4 flex items-center space-x-4\">\n\t\t\t<img\n\t\t\t\t:src=\"$app.image\"\n\t\t\t\tclass=\"h-12 w-12 rounded-lg border\"\n\t\t\t\t:alt=\"$app.name\"\n\t\t\t/>\n\t\t\t<h1 class=\"text-xl font-semibold\">\n\t\t\t\t{{ $app.title }}\n\t\t\t</h1>\n\t\t</div>\n\n\t\t<div>\n\t\t\t<FormControl v-model=\"reply.reply\" type=\"textarea\" label=\"Write Reply\" />\n\n\t\t\t<ErrorMessage class=\"mt-2\" :message=\"$resources.submitReply.error\" />\n\t\t\t<Button\n\t\t\t\tclass=\"mt-4 w-full\"\n\t\t\t\t:loading=\"$resources.submitReply.loading\"\n\t\t\t\tvariant=\"solid\"\n\t\t\t\t@click=\"$resources.submitReply.submit({ ...reply })\"\n\t\t\t>\n\t\t\t\tSubmit\n\t\t\t</Button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { getTeam } from '../../data/team';\nimport { getDocResource } from '../../utils/resource';\nimport { DashboardError } from '../../utils/error';\n\nexport default {\n\tprops: {\n\t\tmarketplaceApp: { type: String, required: true },\n\t\treviewId: { type: String, required: true }\n\t},\n\tdata() {\n\t\treturn {\n\t\t\treply: {\n\t\t\t\treview: this.reviewId,\n\t\t\t\treply: ''\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\t$app() {\n\t\t\tlet appDoc = getDocResource({\n\t\t\t\tdoctype: 'Marketplace App',\n\t\t\t\tname: this.marketplaceApp\n\t\t\t});\n\n\t\t\treturn appDoc?.doc;\n\t\t}\n\t},\n\tresources: {\n\t\tsubmitReply: {\n\t\t\turl: 'press.api.marketplace.submit_developer_reply',\n\t\t\tvalidate() {\n\t\t\t\tif (!this.reply.reply) {\n\t\t\t\t\tthrow new DashboardError('Reply cannot be empty');\n\t\t\t\t}\n\t\t\t\tconst team = getTeam();\n\t\t\t\tif (!team.doc.is_developer) {\n\t\t\t\t\tthrow new DashboardError(\n\t\t\t\t\t\t'You must be a developer to reply to reviews'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonSuccess() {\n\t\t\t\twindow.location.href = `/marketplace/apps/${this.marketplaceApp}`;\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","appDoc","DashboardError","getTeam","_hoisted_1","_hoisted_3","_hoisted_4","_openBlock","_createElementBlock","_hoisted_2","_createElementVNode","_toDisplayString","$options","_createCommentVNode","_ctx","_cache","$event","__spreadValues","$data","_withCtx","_createTextVNode"],"mappings":"qnCAkCA,MAAAA,EAAA,CACC,MAAA,CACC,eAAA,CAAA,KAAA,OAAA,SAAA,EAAA,EACA,SAAA,CAAA,KAAA,OAAA,SAAA,EAAA,GAED,MAAA,CACC,MAAA,CACC,MAAA,CACC,OAAA,KAAA,SACA,MAAA,EACD,IAGF,SAAA,CACC,MAAA,4DAIC,CAAA,EAEA,OAAAC,GAAA,YAAAA,EAAA,GACD,yFAME,GAAA,CAAA,KAAA,MAAA,MACC,MAAA,IAAAC,EAAA,uBAAA,MAEDC,EAAA,+BAGE,4DAKF,OAAA,SAAA,KAAA,qBAAA,KAAA,cAAA,EACD,CACD,CACD,CACD,EA3EMC,EAAA,CAAA,MAAA,+CAAA,WACa,MAAA,oCAFnBC,EAAA,CAAA,MAAA,KAAA,EAQOC,EAAA,CAAA,MAAA,uBAAA,4CAPN,OAAAC,EAAA,EAAAC,EAAA,MAAAJ,EAAA,SACCG,IAAAC,EAAA,MAAAC,EAAA,2BAGE,MAAA,6CALJ,EAAA,KAAA,EAAAJ,CAAA,EAQGK,EAAA,KAAAJ,EAAAK,EAAAC,EAAA,KAAA,KAAA,EAAA,CAAA,KARHC,EAAA,GAAA,EAAA,oGAcsC,KAAA,WAAgB,MAAA,2CAErC,MAAA,OAAc,QAAAC,EAAA,WAAA,YAAA,gCAE3B,MAAA,cACC,QAAAA,EAAA,WAAA,YAAA,QACD,QAAA,QACC,QAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,WAAA,YAAA,OAAAG,EAAA,GAAAC,EAAA,MAAA,KArBL,QAAAC,EAAA,IAAAJ,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAAAK,EAAA,UAAA"}