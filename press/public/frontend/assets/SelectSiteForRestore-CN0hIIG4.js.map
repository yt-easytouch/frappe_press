{"version":3,"file":"SelectSiteForRestore-CN0hIIG4.js","sources":["../../../../dashboard/src2/components/site/SelectSiteForRestore.vue"],"sourcesContent":["<template>\n\t<Dialog\n\t\tv-model=\"showDialog\"\n\t\t:options=\"{\n\t\t\ttitle: 'Restore Backup on Another Site',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Restore',\n\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\ttheme: 'red',\n\t\t\t\t\tdisabled: !selectedSite,\n\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\tthis.$emit('restore', this.selectedSite.value);\n\t\t\t\t\t\tshowDialog = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\"\n\t>\n\t\t<template #body-content>\n\t\t\t<FormControl\n\t\t\t\tlabel=\"Select the site where you want to restore the backup\"\n\t\t\t\tclass=\"mt-4\"\n\t\t\t\ttype=\"autocomplete\"\n\t\t\t\tv-model=\"selectedSite\"\n\t\t\t\t:options=\"\n\t\t\t\t\t($resources.sites.data || []).map(site => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tlabel: site.host_name || site.name,\n\t\t\t\t\t\t\tvalue: site.name\n\t\t\t\t\t\t};\n\t\t\t\t\t})\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<AlertBanner\n\t\t\t\tv-if=\"selectedSite\"\n\t\t\t\tclass=\"mt-4\"\n\t\t\t\ttype=\"warning\"\n\t\t\t\t:title=\"`Restoring will overwrite the current data of <strong>${selectedSite.value}</strong> with the backup data of <strong>${site}</strong>`\"\n\t\t\t/>\n\t\t</template>\n\t</Dialog>\n</template>\n\n<script>\nimport AlertBanner from '../AlertBanner.vue';\n\nexport default {\n\tname: 'SelectSiteForRestore',\n\tprops: ['site'],\n\temits: ['restore'],\n\tdata() {\n\t\treturn {\n\t\t\tselectedSite: null,\n\t\t\tshowDialog: true\n\t\t};\n\t},\n\tcomponents: {\n\t\tAlertBanner\n\t},\n\tresources: {\n\t\tsites() {\n\t\t\treturn {\n\t\t\t\ttype: 'list',\n\t\t\t\tdoctype: 'Site',\n\t\t\t\tfields: ['host_name', 'name'],\n\t\t\t\tfilters: { name: ['!=', this.site] },\n\t\t\t\tpageLength: 500,\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","$data","_cache","$event","_withCtx","_ctx","site","$props","_createCommentVNode"],"mappings":"wvBA+CA,MAAAA,EAAA,6BAEC,MAAA,CAAA,MAAA,EACA,MAAA,CAAA,SAAA,EACA,MAAA,CACC,MAAA,CACC,aAAA,KACA,WAAA,2CAOD,OAAA,CACC,MAAA,aAEC,QAAA,mCAEA,QAAA,CAAA,KAAA,CAAA,KAAA,KAAA,IAAA,CAAA,EACA,WAAA,IACA,KAAA,GAEF,CACD,CACD,2EAxEA,WAAAC,EAAA,WAAA,sBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,WAAAE,mNAmBa,eAAAC,EAAA,IAAA,MAET,MAAA,uDACA,MAAA,OACA,KAAA,eAvBJ,WAAAH,EAAA,aAAA,sBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,aAAAE,YAyBqBE,EAAA,WAAA,MAAA,MAAA,CAAA,GAAA,IAAAC,KAAwE,MAAAA,EAAA,WAAAA,EAAA,KAA2C,MAAAA,EAAA,yEAWpI,MAAA,OACA,KAAA,UACC,MAAA,wDAAAL,EAAA,aAAA,KAAA,6CAAAM,EAAA,IAAA,gCAtCLC,EAAA,GAAA,EAAA"}