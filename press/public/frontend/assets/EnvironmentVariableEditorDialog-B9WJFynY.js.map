{"version":3,"file":"EnvironmentVariableEditorDialog-B9WJFynY.js","sources":["../../../../dashboard/src2/components/EnvironmentVariableEditorDialog.vue"],"sourcesContent":["<template>\n\t<Dialog\n\t\t:options=\"{\n\t\t\ttitle: environment_variable\n\t\t\t\t? 'Edit Environment Variable'\n\t\t\t\t: 'Add Environment Variable',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: environment_variable\n\t\t\t\t\t\t? 'Edit Environment Variable'\n\t\t\t\t\t\t: 'Add Environment Variable',\n\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\tloading: docResource?.updateEnvironmentVariable?.loading,\n\t\t\t\t\tonClick: updateEnvironmentVariable\n\t\t\t\t}\n\t\t\t]\n\t\t}\"\n\t\tv-model=\"showDialog\"\n\t>\n\t\t<template v-slot:body-content>\n\t\t\t<div class=\"space-y-4\">\n\t\t\t\t<FormControl type=\"text\" label=\"Key\" v-model=\"key\" autocomplete=\"off\" />\n\t\t\t\t<FormControl label=\"Value\" v-model=\"value\" autocomplete=\"off\" />\n\t\t\t\t<ErrorMessage class=\"mt-2\" :message=\"error\" />\n\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t<i-lucide-info class=\"mr-2 text-gray-500\" />\n\t\t\t\t\t<div class=\"text-sm text-gray-600\">\n\t\t\t\t\t\tEnvironment variable changes will only be reflected in the newer\n\t\t\t\t\t\tdeploys.\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</Dialog>\n</template>\n<script>\nimport {\n\tAutocomplete,\n\tErrorMessage,\n\tFormControl,\n\tgetCachedDocumentResource\n} from 'frappe-ui';\n\nexport default {\n\tname: 'EnvironmentVariableEditorDialog',\n\tprops: ['group', 'environment_variable'],\n\tcomponents: {\n\t\tAutocomplete,\n\t\tFormControl,\n\t\tErrorMessage\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdocResource: null,\n\t\t\tshowDialog: true,\n\t\t\tkey: null,\n\t\t\tvalue: null,\n\t\t\terror: null\n\t\t};\n\t},\n\tasync mounted() {\n\t\tif (this.environment_variable) {\n\t\t\tthis.key = this.environment_variable.key;\n\t\t\tthis.value = this.environment_variable.value;\n\t\t}\n\t},\n\tmethods: {\n\t\tupdateEnvironmentVariable() {\n\t\t\tif (this.group) {\n\t\t\t\tthis.docResource = getCachedDocumentResource(\n\t\t\t\t\t'Release Group',\n\t\t\t\t\tthis.group\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (!this.docResource) return;\n\t\t\tlet key = this.key;\n\t\t\tlet value = this.value;\n\t\t\tlet environment_variables = { [key]: value };\n\t\t\tthis.docResource.updateEnvironmentVariable.submit(\n\t\t\t\t{ environment_variables },\n\t\t\t\t{\n\t\t\t\t\tonSuccess: () => {\n\t\t\t\t\t\tthis.$emit('success');\n\t\t\t\t\t\tthis.showDialog = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tthis.error = this.docResource.updateEnvironmentVariable.error;\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","__async","getCachedDocumentResource","key","value","environment_variables","_hoisted_1","_hoisted_2","$data","_cache","$event","_withCtx","_createElementVNode"],"mappings":"g/BA2CA,MAAAA,EAAA,CACC,KAAA,kCACA,MAAA,CAAA,QAAA,sBAAA,2DAMA,MAAA,CACC,MAAA,CACC,YAAA,KACA,WAAA,GACA,IAAA,gBAEA,MAAA,OAGF,SAAA,QAAAC,EAAA,kDAEE,KAAA,IAAA,KAAA,qBAAA,IACA,KAAA,MAAA,KAAA,qBAAA,UAGF,QAAA,gCAEE,KAAA,QACC,KAAA,YAAAC,EACC,gBACA,KAAA,iCAIF,IAAAC,EAAA,KAAA,IACAC,EAAA,KAAA,MACAC,EAAA,CAAA,CAAAF,CAAA,EAAAC,CAAA,8EAGC,CACC,UAAA,IAAA,CACC,KAAA,MAAA,SAAA,EACA,KAAA,WAAA,EACD,CACD,8DAGF,CACD,CACD,EAtEQE,EAAA,CAAA,MAAA,WAAA,EAICC,EAAA,CAAA,MAAA,mBAAA,wZAxBT,WAAAC,EAAA,WAAA,sBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,WAAAE,KAmBmB,eAAAC,EAAA,IAAA,CAChBC,EAAA,MAAAN,EAAA,MACc,KAAA,OAAY,MAAA,MArB7B,WAAAE,EAAA,IAAA,sBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,IAAAE,GAqBuD,aAAA,mCACtC,MAAA,QAtBjB,WAAAF,EAAA,MAAA,sBAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,MAAAE,GAsB+C,aAAA,mCAC7B,MAAA,OAAc,QAAAF,EAAA,2BAC5BI,EAAA,MAAAL,EAAA,mCAECE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAG,EAAA,MAAA,CAAA,MAAA,uBAAA,EAAA,8EAAA,EAAA"}