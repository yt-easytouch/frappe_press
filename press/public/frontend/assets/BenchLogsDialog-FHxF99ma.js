import{l as f,ac as $,h as b,o as g,w as i,q as C,ao as D,j as a,A as t,X as I,t as h,Z as m,bZ as E,Y as O,aA as j,ax as w,a2 as z,aI as A}from"./main-Dpl-JOF2.js";import{_ as y}from"./sparkle-Bm7NguED.js";import{_ as P}from"./arrow-left-DH4AOn6w.js";(function(){try{var s=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},o=new Error().stack;o&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[o]="f8be8767-4fdf-4d6d-991a-ef5aa72711e4",s._sentryDebugIdIdentifier="sentry-dbid-f8be8767-4fdf-4d6d-991a-ef5aa72711e4")}catch(l){}})();{var u=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};u._sentryModuleMetadata=u._sentryModuleMetadata||{},u._sentryModuleMetadata[new Error().stack]=Object.assign({},u._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const S={key:1},M={class:"flex items-center"},R={class:"ml-4 text-lg font-medium text-gray-900"},T={class:"!ml-auto flex gap-2"},Z={class:"mt-4"},q={class:"h-[34rem] overflow-scroll rounded border border-gray-100 bg-gray-900 px-2.5 py-2 text-sm text-gray-200"},Y={__name:"BenchLogsDialog",props:{bench:String},setup(s){const o=s,l=f(!0),r=f(""),_=f(!1),c=$({url:"press.api.bench.log",makeParams(){var e;return{name:`bench-${(e=o.bench)==null?void 0:e.split("-")[1]}`,bench:o.bench,log:r.value}}}),v=()=>{l.value=!1,w.push({name:"Log Browser",params:{mode:"bench",docName:o.bench,logId:r.value}})},k=f({resource(){return{url:"press.api.bench.logs",makeParams(){var e;return{name:`bench-${(e=o.bench)==null?void 0:e.split("-")[1]}`,bench:o.bench}},cache:["BenchLogs",o.bench],auto:!0}},onRowClick(e){r.value=e.name,_.value=!0,c.fetch()},columns:[{label:"Name",fieldname:"name"},{label:"Size",fieldname:"size",class:"text-gray-600",format(e){return`${e} kB`}},{label:"Created On",fieldname:"created",format(e){return e?A(e,"lll"):""}}],actions:()=>[{slots:{prefix:()=>z(y)},label:"View in Log Browser",onClick:()=>{l.value=!1,w.push({name:"Log Browser",params:{mode:"bench",docName:o.bench}})}}]});return(e,n)=>{const x=P,p=I,B=E,L=y,N=j;return g(),b(N,{options:{title:`Bench Logs - ${s.bench}`,size:"6xl"},modelValue:l.value,"onUpdate:modelValue":n[2]||(n[2]=d=>l.value=d)},{"body-content":i(()=>{var d;return[_.value?(g(),C("div",S,[a("div",M,[t(p,{onClick:n[0]||(n[0]=V=>_.value=!1)},{icon:i(()=>[t(x,{class:"inline-block h-4 w-4"})]),_:1}),a("h2",R,h(r.value),1),a("div",T,[t(p,{onClick:n[1]||(n[1]=V=>m(c).reload()),loading:m(c).loading},{icon:i(()=>[t(B,{class:"h-4 w-4"})]),_:1},8,["loading"]),t(p,{onClick:v},{prefix:i(()=>[t(L,{class:"h-4 w-4"})]),default:i(()=>[n[3]||(n[3]=O(" View in Log Browser "))]),_:1})])]),a("div",Z,[a("div",q,[a("pre",null,h(m(c).loading?"Loading...":((d=m(c))==null?void 0:d.data[r.value])||"No output"),1)])])])):(g(),b(D,{key:0,options:k.value},null,8,["options"]))]}),_:1},8,["options","modelValue"])}}};export{Y as default};
//# sourceMappingURL=BenchLogsDialog-FHxF99ma.js.map
