import{x as o,r as d,h as m,o as l,bg as n}from"./main-Dpl-JOF2.js";import{P as f}from"./PerformanceReport-uZO_IyE8.js";(function(){try{var t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="d7add469-7039-49a4-9f91-8682e5ed5f6c",t._sentryDebugIdIdentifier="sentry-dbid-d7add469-7039-49a4-9f91-8682e5ed5f6c")}catch(s){}})();{var a=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};a._sentryModuleMetadata=a._sentryModuleMetadata||{},a._sentryModuleMetadata[new Error().stack]=Object.assign({},a._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const p={name:"SiteDeadlockReport",props:["name"],components:{PerformanceReport:f},data(){return{start_datetime:n().format("YYYY-MM-DD HH:mm:ss"),stop_datetime:n().subtract(1,"day").format("YYYY-MM-DD HH:mm:ss"),max_log_size:500}},computed:{deadlockReportOptions(){return{resource:()=>({url:"press.api.analytics.deadlock_report",makeParams:t=>{var e;return t||{name:this.name,start_datetime:this.start_datetime,stop_datetime:this.stop_datetime,max_log_size:parseInt((e=this.max_log_size)!=null?e:"")}},auto:!0,initialData:[],transform:t=>t.map(e=>(e.timestamp=e.timestamp?this.$format.date(e.timestamp,"YYYY-MM-DD HH:mm:ss"):"",e.transaction_id=e.transaction_id||"",e.table=e.table||"",e.query=e.query||"",e))}),emptyStateMessage:"No query deadlock records found",columns:[{label:"Timestamp",fieldname:"timestamp",width:"12rem",format:t=>this.$format.date(t,"YYYY-MM-DD HH:mm:ss")},{label:"Txn ID",fieldname:"transaction_id",align:"left",width:"100px"},{label:"Table",fieldname:"table",class:"text-gray-600",align:"left",width:"200px"},{label:"Query",fieldname:"query",class:"font-mono"}],filterControls:()=>[{type:"datetime-local",label:"Start Time",fieldname:"start_datetime",default:this.start_datetime},{type:"datetime-local",label:"End Time",fieldname:"stop_datetime",default:this.stop_datetime},{label:"Max Log Lines",fieldname:"max_log_size",default:this.max_log_size}]}}}};function u(t,e,s,_,c,r){const i=d("PerformanceReport");return l(),m(i,{title:"Query Deadlocks",site:s.name,reportOptions:r.deadlockReportOptions},null,8,["site","reportOptions"])}const g=o(p,[["render",u]]);export{g as default};
//# sourceMappingURL=SiteDeadlockReport-H1gSDomq.js.map
