{"version":3,"file":"BillingMarketplacePayouts-DqlCwwX5.js","sources":["../../../../dashboard/src2/components/PayoutTable.vue","../../../../dashboard/src2/pages/BillingMarketplacePayouts.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<div v-if=\"doc\" class=\"overflow-x-auto\">\n\t\t\t<table\n\t\t\t\tclass=\"text w-full border-separate border-spacing-y-2 text-base font-normal text-gray-900\"\n\t\t\t>\n\t\t\t\t<thead class=\"bg-gray-100\">\n\t\t\t\t\t<tr class=\"text-gray-600\">\n\t\t\t\t\t\t<th class=\"rounded-l p-2 text-left font-normal\">App</th>\n\t\t\t\t\t\t<th class=\"rounded-l p-2 text-left font-normal\">Site</th>\n\t\t\t\t\t\t<th class=\"whitespace-nowrap p-2 text-right font-normal\">Rate</th>\n\t\t\t\t\t\t<th class=\"whitespace-nowrap p-2 text-right font-normal\">Total</th>\n\t\t\t\t\t\t<th class=\"rounded-r p-2 text-right font-normal\">Fee</th>\n\t\t\t\t\t\t<th class=\"rounded-r p-2 text-right font-normal\">Commission</th>\n\t\t\t\t\t\t<th class=\"rounded-r p-2 text-right font-normal\">Net Amount</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<template v-for=\"(row, i) in doc.items\" :key=\"row.idx\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"py-1 pl-2 pr-2\">\n\t\t\t\t\t\t\t\t{{ row.document_name }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class=\"py-1 pl-2 pr-2\">\n\t\t\t\t\t\t\t\t{{ row.site }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class=\"py-1 pl-2 pr-2 text-right\">\n\t\t\t\t\t\t\t\t{{ formatCurrency(row.rate, row.currency) }} X\n\t\t\t\t\t\t\t\t{{ row.quantity }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class=\"py-1 pl-2 pr-2 text-right\">\n\t\t\t\t\t\t\t\t{{ formatCurrency(row.total_amount, row.currency) }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class=\"py-1 pl-2 pr-2 text-right\">\n\t\t\t\t\t\t\t\t{{ formatCurrency(row.gateway_fee, row.currency) }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class=\"py-1 pl-2 pr-2 text-right\">\n\t\t\t\t\t\t\t\t{{ formatCurrency(row.commission, row.currency) }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class=\"py-1 pl-2 pr-2 text-right\">\n\t\t\t\t\t\t\t\t{{ formatCurrency(row.net_amount, row.currency) }}\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</template>\n\t\t\t\t</tbody>\n\t\t\t\t<tfoot>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td class=\"pb-2 pr-2 pt-4 text-right font-medium\">Total Payout</td>\n\t\t\t\t\t\t<td class=\"whitespace-nowrap pb-2 pr-2 pt-4 text-right font-medium\">\n\t\t\t\t\t\t\t{{ formatCurrency(doc.net_total_usd, 'USD') }} +\n\t\t\t\t\t\t\t{{ formatCurrency(doc.net_total_inr, 'INR') }}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tfoot>\n\t\t\t</table>\n\t\t</div>\n\t\t<div class=\"py-20 text-center\" v-if=\"$resources.invoice.loading\">\n\t\t\t<Button :loading=\"true\">Loading</Button>\n\t\t</div>\n\t</div>\n</template>\n<script>\nexport default {\n\tname: 'PayoutTable',\n\tprops: ['payoutId'],\n\tresources: {\n\t\tinvoice() {\n\t\t\treturn {\n\t\t\t\ttype: 'document',\n\t\t\t\tdoctype: 'Payout Order',\n\t\t\t\tname: this.payoutId\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tdoc() {\n\t\t\treturn this.$resources.invoice.doc;\n\t\t}\n\t},\n\tmethods: {\n\t\tformatCurrency(value, currency) {\n\t\t\treturn this.$format.currency(value, currency);\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<div class=\"p-5\">\n\t\t<ObjectList :options=\"options\" />\n\t\t<Dialog\n\t\t\tv-model=\"payoutDialog\"\n\t\t\t:options=\"{ size: '6xl', title: showPayout?.name }\"\n\t\t>\n\t\t\t<template #body-content>\n\t\t\t\t<template v-if=\"showPayout\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"showPayout.status === 'Empty'\"\n\t\t\t\t\t\tclass=\"text-base text-gray-600\"\n\t\t\t\t\t>\n\t\t\t\t\t\tNothing to show\n\t\t\t\t\t</div>\n\t\t\t\t\t<PayoutTable v-else :payoutId=\"showPayout.name\" />\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</Dialog>\n\t</div>\n</template>\n<script>\nimport ObjectList from '../components/ObjectList.vue';\nimport PayoutTable from '../components/PayoutTable.vue';\n\nexport default {\n\tname: 'BillingMarketplacePayouts',\n\tprops: ['tab'],\n\tdata() {\n\t\treturn {\n\t\t\tpayoutDialog: false,\n\t\t\tshowPayout: null\n\t\t};\n\t},\n\tcomponents: {\n\t\tObjectList,\n\t\tPayoutTable\n\t},\n\tcomputed: {\n\t\toptions() {\n\t\t\treturn {\n\t\t\t\tdoctype: 'Payout Order',\n\t\t\t\tfields: [\n\t\t\t\t\t'period_end',\n\t\t\t\t\t'mode_of_payment',\n\t\t\t\t\t'status',\n\t\t\t\t\t'net_total_inr',\n\t\t\t\t\t'net_total_usd'\n\t\t\t\t],\n\t\t\t\tfilterControls: () => {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'select',\n\t\t\t\t\t\t\tlabel: 'Status',\n\t\t\t\t\t\t\tclass: !this.$isMobile ? 'w-36' : '',\n\t\t\t\t\t\t\tfieldname: 'status',\n\t\t\t\t\t\t\toptions: ['', 'Draft', 'Paid', 'Commissioned']\n\t\t\t\t\t\t}\n\t\t\t\t\t];\n\t\t\t\t},\n\t\t\t\torderBy: 'creation desc',\n\t\t\t\tcolumns: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Date',\n\t\t\t\t\t\tfieldname: 'period_end',\n\t\t\t\t\t\tformat(value) {\n\t\t\t\t\t\t\treturn Intl.DateTimeFormat('en-US', {\n\t\t\t\t\t\t\t\tyear: 'numeric',\n\t\t\t\t\t\t\t\tmonth: 'short',\n\t\t\t\t\t\t\t\tday: 'numeric'\n\t\t\t\t\t\t\t}).format(new Date(value));\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{ label: 'Payment Mode', fieldname: 'mode_of_payment' },\n\t\t\t\t\t{ label: 'Status', fieldname: 'status', type: 'Badge' },\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Total',\n\t\t\t\t\t\tfieldname: 'net_total_inr',\n\t\t\t\t\t\talign: 'right',\n\t\t\t\t\t\tformat: (_, row) => {\n\t\t\t\t\t\t\tlet total = 0;\n\t\t\t\t\t\t\tif (this.$team.doc.currency === 'INR') {\n\t\t\t\t\t\t\t\ttotal = row.net_total_inr + row.net_total_usd * 82;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttotal = row.net_total_inr / 82 + row.net_total_usd;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn this.$format.userCurrency(total);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tonRowClick: row => {\n\t\t\t\t\tthis.showPayout = row;\n\t\t\t\t\tthis.payoutDialog = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","value","currency","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","row","$options","_cache","_createCommentVNode","_hoisted_11","_withCtx","_createTextVNode","_","total","$data","$event","_Fragment"],"mappings":"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"}