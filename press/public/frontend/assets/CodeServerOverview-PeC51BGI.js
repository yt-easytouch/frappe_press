import{_ as h}from"./Card-BCzTSeNK.js";import{x as _,r as S,h as a,o as n,w as o,j as f,A as t,u as c,Y as v,t as k,X as $,aA as D,a9 as I,q as O}from"./main-Dpl-JOF2.js";import{_ as x}from"./ListItem-CkkFcC1t.js";import{n as B}from"./toast-Dk0nDfLL.js";(function(){try{var r=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},e=new Error().stack;e&&(r._sentryDebugIds=r._sentryDebugIds||{},r._sentryDebugIds[e]="670e71f0-d1e4-4da4-9ca3-eb3137f7c956",r._sentryDebugIdIdentifier="sentry-dbid-670e71f0-d1e4-4da4-9ca3-eb3137f7c956")}catch(s){}})();{var p=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};p._sentryModuleMetadata=p._sentryModuleMetadata||{},p._sentryModuleMetadata[new Error().stack]=Object.assign({},p._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const V={name:"CodeServerOverviewInfo",props:{codeServer:{type:Object,default:()=>{}}},data(){return{showDialog:!1}},resources:{stopCodeServer(){return{url:"press.api.spaces.stop_code_server",params:{name:this.codeServer.name},onSuccess(r){this.$router.push(`/codeservers/${this.codeServer.name}/jobs`)}}},startCodeServer(){return{url:"press.api.spaces.start_code_server",params:{name:this.codeServer.name},onSuccess(r){this.$router.push(`/codeservers/${this.codeServer.name}/jobs`)}}},showPassword(){return{url:"press.api.spaces.code_server_password",params:{name:this.codeServer.name},onSuccess(r){window.navigator.clipboard.writeText(r).then(()=>{B({title:"Password copied to clipboard!",icon:"check",color:"green"})})}}},dropCodeServer(){return{url:"press.api.spaces.drop_code_server",params:{name:this.codeServer.name},onSuccess(){this.$router.push("/spaces")}}}}},j={class:"divide-y"};function P(r,e,s,y,u,g){const m=S("router-link"),d=x,l=$,w=I,b=D,C=h;return n(),a(C,{title:"Code Server Info",subtitle:"General information about your code server"},{default:o(()=>[f("div",j,[t(d,{title:"Bench Version",description:"Bench version for which this code server is created"},{actions:o(()=>[t(m,{to:`/groups/${s.codeServer.group}/versions/${s.codeServer.bench}`,class:"text-base text-gray-600 hover:text-gray-700"},{default:o(()=>[v(k(s.codeServer.bench)+" â†’ ",1)]),_:1},8,["to"])]),_:1}),s.codeServer.status==="Running"?(n(),a(d,{key:0,title:"Copy Password",description:"Copy the password for your code server"},{actions:o(()=>[t(l,{onClick:e[0]||(e[0]=i=>r.$resources.showPassword.submit()),class:"shrink-0"},{default:o(()=>e[5]||(e[5]=[v(" Copy ")])),_:1})]),_:1})):c("",!0),s.codeServer.status==="Running"?(n(),a(d,{key:1,title:"Stop Code Server",description:"The code server will go inactive and won't be publicly accessible"},{actions:o(()=>[t(l,{onClick:e[1]||(e[1]=i=>r.$resources.stopCodeServer.submit()),class:"shrink-0"},{default:o(()=>e[6]||(e[6]=[v(" Stop ")])),_:1})]),_:1})):c("",!0),s.codeServer.status==="Stopped"?(n(),a(d,{key:2,title:"Start Code Server",description:"The code server will go active and will be publicly accessible"},{actions:o(()=>[t(l,{onClick:e[2]||(e[2]=i=>r.$resources.startCodeServer.submit()),class:"shrink-0"},{default:o(()=>e[7]||(e[7]=[v(" Start ")])),_:1})]),_:1})):c("",!0),s.codeServer.status!=="Pending"?(n(),a(d,{key:3,title:"Drop Code Server",description:"Once you drop your code server, there is no going back"},{actions:o(()=>[t(l,{onClick:e[3]||(e[3]=i=>u.showDialog=!0)},{default:o(()=>e[8]||(e[8]=[f("span",{class:"text-red-600"},"Drop",-1)])),_:1})]),_:1})):c("",!0),t(b,{modelValue:u.showDialog,"onUpdate:modelValue":e[4]||(e[4]=i=>u.showDialog=i),options:{title:"Drop Code Server",actions:[{label:"Drop Code Server",variant:"solid",theme:"red",onClick:()=>r.$resources.dropCodeServer.submit()}]}},{"body-content":o(()=>[e[9]||(e[9]=f("p",{class:"text-base"}," Are you sure you want to drop your code-server? Once you drop your code-server, there is no going back. ",-1)),t(w,{class:"mt-2",message:r.$resources.dropCodeServer.error},null,8,["message"])]),_:1},8,["modelValue","options"])])]),_:1})}const E=_(V,[["render",P]]),A={name:"CodeServerOverview",components:{CodeServerOverviewInfo:E},props:{codeServer:{type:Object,default:()=>{}}}},N={key:0,class:"grid grid-cols-1 gap-5 sm:grid-cols-2"};function T(r,e,s,y,u,g){const m=S("CodeServerOverviewInfo");return s.codeServer?(n(),O("div",N,[t(m,{codeServer:s.codeServer},null,8,["codeServer"])])):c("",!0)}const L=_(A,[["render",T]]);export{L as default};
//# sourceMappingURL=CodeServerOverview-PeC51BGI.js.map
