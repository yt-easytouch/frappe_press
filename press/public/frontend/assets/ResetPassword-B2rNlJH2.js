import{x as g,r as p,h as _,q as b,u as k,o as f,w as a,j as l,a7 as v,A as r,a8 as x,a9 as B,X as K,Y as t,t as V}from"./main-Dpl-JOF2.js";import{L as P}from"./LoginBox-DSVNkn_s.js";import"./YooltechLogo-DH5Linvn.js";import"./ETLogo-Ziye5dPH.js";import"./toast-Dk0nDfLL.js";(function(){try{var s=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},e=new Error().stack;e&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[e]="691f22b6-2f2f-4fc4-9b8b-9dff0285004f",s._sentryDebugIdIdentifier="sentry-dbid-691f22b6-2f2f-4fc4-9b8b-9dff0285004f")}catch(d){}})();{var n=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};n._sentryModuleMetadata=n._sentryModuleMetadata||{},n._sentryModuleMetadata[new Error().stack]=Object.assign({},n._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const q={name:"ResetPassword",components:{LoginBox:P},props:["requestKey"],data(){return{email:null,password:null}},resources:{validateResetKey(){return{url:"press.api.account.get_user_for_reset_password_key",params:{key:this.requestKey},onSuccess(s){this.email=s||null},auto:!0}},resetPassword(){return{url:"press.api.account.reset_password",params:{key:this.requestKey,password:this.password},onSuccess(){window.location.reload()}}}}},E={class:"space-y-4"},S={key:1,class:"mt-20 px-6 text-center"};function $(s,e,d,D,o,I){const i=x,m=B,c=K,w=p("LoginBox"),y=p("router-link");return!s.$resources.validateResetKey.loading&&o.email?(f(),_(w,{key:0,title:"Set a new password for your account"},{default:a(()=>[l("form",{class:"flex flex-col",onSubmit:e[1]||(e[1]=v(u=>s.$resources.resetPassword.submit(),["prevent"]))},[l("div",E,[r(i,{label:"Email",class:"pointer-events-none",modelValue:o.email,name:"email",autocomplete:"off",disabled:""},null,8,["modelValue"]),r(i,{label:"Password",type:"password",modelValue:o.password,"onUpdate:modelValue":e[0]||(e[0]=u=>o.password=u),name:"password",autocomplete:"new-password",required:""},null,8,["modelValue"])]),r(m,{class:"mt-6",message:s.$resources.resetPassword.error},null,8,["message"]),r(c,{class:"mt-6",variant:"solid",disabled:!o.password,loading:s.$resources.resetPassword.loading},{default:a(()=>e[2]||(e[2]=[t(" Submit ")])),_:1},8,["disabled","loading"])],32)]),_:1})):!s.$resources.validateResetKey.loading&&!o.email?(f(),b("div",S,[e[4]||(e[4]=t(" Account Key ")),l("strong",null,V(d.requestKey),1),e[5]||(e[5]=t(" is invalid or expired. Go back to ")),r(y,{class:"underline",to:"/login"},{default:a(()=>e[3]||(e[3]=[t("login")])),_:1}),e[6]||(e[6]=t(". "))])):k("",!0)}const A=g(q,[["render",$]]);export{A as default};
//# sourceMappingURL=ResetPassword-B2rNlJH2.js.map
