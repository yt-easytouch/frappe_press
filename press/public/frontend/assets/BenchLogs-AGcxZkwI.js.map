{"version":3,"file":"BenchLogs-AGcxZkwI.js","sources":["../../../../dashboard/src/views/bench/BenchLogsDetail.vue","../../../../dashboard/src/views/bench/BenchLogs.vue"],"sourcesContent":["<template>\n\t<CardDetails :showDetails=\"log\">\n\t\t<div class=\"px-6 py-5\">\n\t\t\t<template v-if=\"log != null\">\n\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclass=\"mr-3 md:hidden\"\n\t\t\t\t\t\t@click=\"$router.back()\"\n\t\t\t\t\t\ticon=\"chevron-left\"\n\t\t\t\t\t/>\n\t\t\t\t\t<h4 class=\"text-lg font-medium\">\n\t\t\t\t\t\t{{ logName }}\n\t\t\t\t\t\t<span class=\"\">({{ logLines.length }} lines)</span>\n\t\t\t\t\t</h4>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<div v-else>\n\t\t\t\t<Button\n\t\t\t\t\t:loading=\"true\"\n\t\t\t\t\tloading-text=\"Loading...\"\n\t\t\t\t\tv-if=\"$resources.log.loading\"\n\t\t\t\t/>\n\t\t\t\t<span v-else class=\"text-base text-gray-600\">\n\t\t\t\t\t{{ logName ? 'Invalid Log' : 'No log selected' }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"flex-auto overflow-auto px-6 font-mono text-xs\" v-if=\"log\">\n\t\t\t<div\n\t\t\t\tclass=\"mb-6 rounded-md bg-gray-100 px-2 py-2.5\"\n\t\t\t\t:style=\"{ width: viewportWidth < 768 ? 'calc(100vw - 6rem)' : '' }\"\n\t\t\t>\n\t\t\t\t<div class=\"overflow-x-auto\">\n\t\t\t\t\t<pre v-for=\"(line, id) in logLines\" :key=\"id\">{{ line }}</pre>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</CardDetails>\n</template>\n<script>\nimport CardDetails from '@/components/CardDetails.vue';\nexport default {\n\tname: 'BenchLogsDetail',\n\tprops: ['bench', 'instanceName', 'logName'],\n\tcomponents: { CardDetails },\n\tinject: ['viewportWidth'],\n\tresources: {\n\t\tlog() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.bench.log',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.bench?.name,\n\t\t\t\t\tbench: this.instanceName,\n\t\t\t\t\tlog: this.logName\n\t\t\t\t},\n\t\t\t\tauto: Boolean(this.logName)\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tlog() {\n\t\t\treturn this.$resources.log.data && this.$resources.log.data[this.logName];\n\t\t},\n\t\tlogLines() {\n\t\t\tif (this.log && this.logName) return this.log.split('\\n').slice(-4096);\n\t\t\treturn [];\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<CardWithDetails\n\t\ttitle=\"Logs\"\n\t\t:subtitle=\"`Available logs for ${instanceName}`\"\n\t\t:showDetails=\"logName\"\n\t>\n\t\t<div v-if=\"$resources.logs.data && $resources.logs.data.length\">\n\t\t\t<router-link\n\t\t\t\tclass=\"block cursor-pointer rounded-md px-2.5\"\n\t\t\t\t:class=\"logName === log.name ? 'bg-gray-100' : 'hover:bg-gray-50'\"\n\t\t\t\tv-for=\"log in $resources.logs.data\"\n\t\t\t\t:key=\"log.name\"\n\t\t\t\t:to=\"`/groups/${bench.name}/logs/${instanceName}/${log.name}`\"\n\t\t\t>\n\t\t\t\t<ListItem\n\t\t\t\t\t:title=\"log.name\"\n\t\t\t\t\t:description=\"`${formatDate(log.modified) + '\\n' + log.size} kB`\"\n\t\t\t\t/>\n\t\t\t\t<div class=\"border-b\"></div>\n\t\t\t</router-link>\n\t\t</div>\n\t\t<div v-else>\n\t\t\t<Button\n\t\t\t\tv-if=\"$resources.logs.loading\"\n\t\t\t\t:loading=\"true\"\n\t\t\t\tloading-text=\"Loading...\"\n\t\t\t/>\n\t\t\t<span v-else class=\"text-base text-gray-600\">No logs</span>\n\t\t</div>\n\t\t<template #details>\n\t\t\t<BenchLogsDetail\n\t\t\t\t:bench=\"bench\"\n\t\t\t\t:instanceName=\"instanceName\"\n\t\t\t\t:logName=\"logName\"\n\t\t\t/>\n\t\t</template>\n\t</CardWithDetails>\n</template>\n\n<script>\nimport CardWithDetails from '@/components/CardWithDetails.vue';\nimport BenchLogsDetail from './BenchLogsDetail.vue';\nexport default {\n\tname: 'BenchLogs',\n\tprops: ['bench', 'instanceName', 'logName'],\n\tcomponents: { CardWithDetails, BenchLogsDetail },\n\tresources: {\n\t\tlogs() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.bench.logs',\n\t\t\t\tparams: { name: this.bench?.name, bench: this.instanceName },\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","_a","_hoisted_1","_hoisted_3","_hoisted_4","_hoisted_8","_withCtx","_createElementVNode","_openBlock","_createElementBlock","_hoisted_2","_hoisted_5","_hoisted_7","_Fragment","_renderList","$options","line","id","_toDisplayString","_createCommentVNode","CardWithDetails","BenchLogsDetail","$props"],"mappings":"47BAyCA,MAAAA,EAAA,wBAEC,MAAA,CAAA,QAAA,eAAA,SAAA,6EAKE,MAAA,2BAEC,OAAA,CACC,MAAAC,EAAA,KAAA,QAAA,YAAAA,EAAA,6BAEA,IAAA,KAAA,6BAIH,GAED,SAAA,OAEE,OAAA,KAAA,WAAA,IAAA,MAAA,KAAA,WAAA,IAAA,KAAA,KAAA,OAAA,cAGA,OAAA,KAAA,KAAA,KAAA,QAAA,KAAA,IAAA,MAAA;AAAA,CAAA,EAAA,MAAA,KAAA,EACA,CAAA,CACD,CACD,CACD,EAlEOC,EAAA,CAAA,MAAA,WAAA,WAEE,MAAA,qBAMAC,EAAA,CAAA,MAAA,qBAAA,EAEGC,EAAA,CAAA,MAAA,EAAA,qBAUK,MAAA,oCAKV,MAAA,kDAKEC,EAAA,CAAA,MAAA,iBAAA,4EAhCT,QAAAC,EAAA,IAAA,CAEEC,EAAA,MAAAL,EAAA,cAEEM,IAAAC,EAAA,MAAAC,EAAA,MAEE,MAAA,0DAEA,KAAA,iBAEDH,EAAA,KAAAJ,EAAA,8EAMFK,IAAAC,EAAA,MAAAE,EAAA,0CAEG,QAAA,GACD,eAAA,6FAQHH,IAAAC,EAAA,MAAAG,EAAA,UAEE,MAAA,yGAGAL,EAAA,MAAAF,EAAA,EACCG,EAAA,EAAA,EAAAC,EAAAI,EAAA,KAAAC,EAAAC,EAAA,SAAA,CAAAC,EAAAC,KAAAT,EAAA,EAAAC,EAAA,MAAA,CAAA,IAAAQ,CAAA,EAAAC,EAAAF,CAAA,EAAA,CAAA,mBAjCLG,EAAA,GAAA,EAAA,wDC0CAnB,EAAA,CACC,KAAA,YACA,MAAA,CAAA,QAAA,eAAA,SAAA,EACA,WAAA,CAAA,gBAAAoB,EAAA,gBAAAC,CAAA,aAEC,MAAA,OACC,MAAA,qGAGC,KAAA,GAEF,CACD,CACD,+BA5BgB,MAAA,+HAzBd,MAAA,OACC,SAAA,sBAAAC,EAAA,YAAA,GACA,YAAAA,EAAA,UAyBU,QAAAhB,EAAA,IAAA,MAER,MAAAgB,EAAA,MACA,aAAAA,EAAA,aACA,QAAAA,EAAA,sDAjCL,QAAAhB,EAAA,IAAA,wDAMEE,IAAAC,EAAA,MAAAP,EAAA,0OANF,QAAAI,EAAA,IAAA;wIAqBEE,IAAAC,EAAA,MAAAC,EAAA,2CAGG,QAAA,GACD,eAAA"}