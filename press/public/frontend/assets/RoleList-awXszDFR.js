import{q as u,u as f,o as i,F as p,v as g,h as d,Z as _,aK as b,l as y,ao as h,ap as R,aB as c,ax as w,V as k,aa as x,A as a,B as D,X as C,aO as v,aF as A,a2 as I}from"./main-Dpl-JOF2.js";import{R as P}from"./RoleConfigureDialog-BifCIMlF.js";import"./Switch.vue_vue_type_script_setup_true_lang-5F9QrvuO.js";import"./UserWithAvatarCell-B71k87PQ.js";(function(){try{var t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},n=new Error().stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="a27cf35a-b9ac-485f-9736-d80d317b9126",t._sentryDebugIdIdentifier="sentry-dbid-a27cf35a-b9ac-485f-9736-d80d317b9126")}catch(r){}})();{var o=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};o._sentryModuleMetadata=o._sentryModuleMetadata||{},o._sentryModuleMetadata[new Error().stack]=Object.assign({},o._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const B={key:0,class:"flex"},E={__name:"AvatarGroup",props:{users:{type:Array,required:!0}},setup(t){return(n,r)=>{var e;return(e=t.users)!=null&&e.length?(i(),u("div",B,[(i(!0),u(p,null,g(t.users,s=>(i(),d(_(b),{image:s.user_image,label:s.full_name,class:"-ml-1 ring-2 ring-white first:ml-0",size:"lg"},null,8,["image","label"]))),256))])):f("",!0)}}},V={__name:"RoleList",setup(t){const n=y({doctype:"Press Role",fields:[{users:["user","user.full_name","user.user_image"]},"admin_access"],documentation:"https://easytouch.cloud/docs/role-permissions",columns:[{label:"Role",fieldname:"title",width:1,suffix:e=>e.admin_access?a(D,{name:"shield",class:"ml-1 h-4 w-4 text-gray-700"},null):null},{label:"Members",type:"Component",component:({row:e})=>a("div",{onClick:s=>{s.preventDefault(),r(e)},class:"flex h-6 items-center space-x-2"},[a(E,{users:e.users},null),a(C,{label:"Add Member"},{icon:()=>a(v,{class:"h-4 w-4 text-gray-600"},null)})]),width:1}],rowActions({row:e,listResource:s}){return[{label:"Edit Permissions",onClick(){w.push({name:"SettingsPermissionRolePermissions",params:{roleId:e.name}})}},{label:"Configure Role",onClick:()=>r(e)},{label:"Delete Role",onClick(){s.delete.loading||c({title:"Delete Role",message:`Are you sure you want to delete the role <b>${e.title}</b>?`,onSuccess({hide:l}){s.delete.loading||k.promise(s.delete.submit(e.name),{loading:"Deleting Role...",success:()=>(s.reload(),l(),`Role ${e.title} deleted`),error:m=>x(m)})}})}}]},route(e){return{name:"SettingsPermissionRolePermissions",params:{roleId:e.name}}},primaryAction({listResource:e}){return{label:"New Role",variant:"solid",slots:{prefix:R("plus")},onClick(){c({title:"Create Role",fields:[{fieldname:"title",label:"Role",autocomplete:"off"}],onSuccess({hide:s,values:l}){return l.title?e.insert.submit({title:l.title},{onSuccess:s}):null}})}}}});function r(e){A(I(P,{roleId:e.name}))}return(e,s)=>(i(),d(h,{options:n.value},null,8,["options"]))}};export{V as default};
//# sourceMappingURL=RoleList-awXszDFR.js.map
