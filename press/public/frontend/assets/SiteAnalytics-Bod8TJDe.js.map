{"version":3,"file":"SiteAnalytics-Bod8TJDe.js","sources":["../../../../dashboard/src2/components/site/SiteUptime.vue","../../../../dashboard/src2/components/site/SiteAnalytics.vue"],"sourcesContent":["<template>\n\t<div\n\t\tv-if=\"!data || data[0].date === undefined\"\n\t\tclass=\"flex h-5/6 items-center justify-center\"\n\t>\n\t\t<div class=\"text-base text-gray-700\">No data</div>\n\t</div>\n\t<div v-else class=\"mx-4 mt-8\" v-for=\"type in uptimeTypes\" :key=\"type.key\">\n\t\t<div class=\"flex h-10 justify-between\">\n\t\t\t<div\n\t\t\t\tv-for=\"d in data\"\n\t\t\t\t:key=\"d.date\"\n\t\t\t\tclass=\"w-1.5 rounded\"\n\t\t\t\t:class=\"[\n\t\t\t\t\td[type.key] === undefined\n\t\t\t\t\t\t? 'bg-white'\n\t\t\t\t\t\t: d[type.key] === 1\n\t\t\t\t\t\t? 'bg-green-500'\n\t\t\t\t\t\t: d[type.key] === 0\n\t\t\t\t\t\t? 'bg-red-500'\n\t\t\t\t\t\t: 'bg-yellow-500'\n\t\t\t\t]\"\n\t\t\t\t:title=\"\n\t\t\t\t\td[type.key]\n\t\t\t\t\t\t? `${formatDate(d.date)} | Uptime: ${(d.value * 100).toFixed(2)}%`\n\t\t\t\t\t\t: ''\n\t\t\t\t\"\n\t\t\t></div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { DateTime } from 'luxon';\nexport default {\n\tname: 'SiteUptime',\n\tprops: ['data', 'loading'],\n\tcomputed: {\n\t\tuptimeTypes() {\n\t\t\treturn [{ key: 'value', label: 'Web' }];\n\t\t},\n\t\tsubtitle() {\n\t\t\tif (!this.data) return '';\n\n\t\t\tlet total = 0;\n\t\t\tlet i = 0;\n\t\t\tfor (; i < this.data.length; i++) {\n\t\t\t\t// there could be empty objects at the end of the array\n\t\t\t\t// so we don't have to count them\n\t\t\t\tif (typeof this.data[i].value !== 'number') break;\n\n\t\t\t\ttotal += this.data[i].value;\n\t\t\t}\n\t\t\tconst average = ((total / i) * 100).toFixed(2);\n\n\t\t\treturn !isNaN(average) ? `Average: ${average}%` : '';\n\t\t}\n\t},\n\tmethods: {\n\t\tformatDate(date) {\n\t\t\treturn DateTime.fromSQL(date).toLocaleString(DateTime.DATETIME_FULL);\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<div class=\"space-y-4 p-5\">\n\t\t<div class=\"flex space-x-4\">\n\t\t\t<FormControl\n\t\t\t\tclass=\"ml-auto w-32\"\n\t\t\t\ttype=\"select\"\n\t\t\t\t:options=\"durationOptions\"\n\t\t\t\tv-model=\"duration\"\n\t\t\t/>\n\t\t</div>\n\t\t<ErrorMessage\n\t\t\t:message=\"\n\t\t\t\t$resources.analytics.error || $resources.advancedAnalytics.error\n\t\t\t\"\n\t\t/>\n\n\t\t<div class=\"grid grid-cols-1 gap-5 sm:grid-cols-2\">\n\t\t\t<AnalyticsCard title=\"Daily Usage\">\n\t\t\t\t<LineChart\n\t\t\t\t\ttype=\"time\"\n\t\t\t\t\ttitle=\"Usage Counter\"\n\t\t\t\t\t:key=\"usageCounterData\"\n\t\t\t\t\t:data=\"usageCounterData\"\n\t\t\t\t\tunit=\"seconds\"\n\t\t\t\t\t:chartTheme=\"[$theme.colors.purple[500]]\"\n\t\t\t\t\t:loading=\"$resources.analytics.loading\"\n\t\t\t\t\t:showCard=\"false\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t</AnalyticsCard>\n\n\t\t\t<AnalyticsCard title=\"Uptime\">\n\t\t\t\t<SiteUptime\n\t\t\t\t\t:data=\"$resources.analytics?.data?.uptime\"\n\t\t\t\t\t:loading=\"$resources.analytics.loading\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t</AnalyticsCard>\n\n\t\t\t<AnalyticsCard title=\"Requests\">\n\t\t\t\t<LineChart\n\t\t\t\t\ttype=\"time\"\n\t\t\t\t\ttitle=\"Requests\"\n\t\t\t\t\t:key=\"requestCountData\"\n\t\t\t\t\t:data=\"requestCountData\"\n\t\t\t\t\tunit=\"requests\"\n\t\t\t\t\t:chartTheme=\"[$theme.colors.green[500]]\"\n\t\t\t\t\t:loading=\"$resources.analytics.loading\"\n\t\t\t\t\t:showCard=\"false\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t\t<template #action>\n\t\t\t\t\t<router-link\n\t\t\t\t\t\tclass=\"text-base text-gray-600 hover:text-gray-700\"\n\t\t\t\t\t\t:to=\"{ name: 'Site Performance Request Logs' }\"\n\t\t\t\t\t>\n\t\t\t\t\t\tRequest Log Report →\n\t\t\t\t\t</router-link>\n\t\t\t\t</template>\n\t\t\t</AnalyticsCard>\n\n\t\t\t<AnalyticsCard title=\"Requests CPU Usage\">\n\t\t\t\t<LineChart\n\t\t\t\t\ttype=\"time\"\n\t\t\t\t\ttitle=\"Requests CPU Usage\"\n\t\t\t\t\t:key=\"requestTimeData\"\n\t\t\t\t\t:data=\"requestTimeData\"\n\t\t\t\t\tunit=\"seconds\"\n\t\t\t\t\t:chartTheme=\"[$theme.colors.yellow[500]]\"\n\t\t\t\t\t:loading=\"$resources.analytics.loading\"\n\t\t\t\t\t:showCard=\"false\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t</AnalyticsCard>\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"!mt-6 flex w-fit cursor-pointer space-x-2\"\n\t\t\t@click=\"toggleAdvancedAnalytics\"\n\t\t>\n\t\t\t<h2 class=\"text-lg font-semibold\">Advanced Analytics</h2>\n\t\t\t<FeatherIcon\n\t\t\t\tclass=\"h-5 w-5 text-gray-500 hover:text-gray-700\"\n\t\t\t\t:name=\"showAdvancedAnalytics ? 'chevron-down' : 'chevron-right'\"\n\t\t\t/>\n\t\t</div>\n\n\t\t<!-- Advanced Analytics -->\n\t\t<div\n\t\t\tv-if=\"showAdvancedAnalytics\"\n\t\t\tclass=\"grid grid-cols-1 gap-5 sm:grid-cols-2\"\n\t\t>\n\t\t\t<AnalyticsCard title=\"Background Jobs\">\n\t\t\t\t<LineChart\n\t\t\t\t\ttype=\"time\"\n\t\t\t\t\ttitle=\"Background Jobs\"\n\t\t\t\t\t:key=\"jobCountData\"\n\t\t\t\t\t:data=\"jobCountData\"\n\t\t\t\t\tunit=\"jobs\"\n\t\t\t\t\t:chartTheme=\"[$theme.colors.red[500]]\"\n\t\t\t\t\t:loading=\"$resources.advancedAnalytics.loading\"\n\t\t\t\t\t:showCard=\"false\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t</AnalyticsCard>\n\n\t\t\t<AnalyticsCard title=\"Background Jobs CPU Usage\">\n\t\t\t\t<LineChart\n\t\t\t\t\ttype=\"time\"\n\t\t\t\t\ttitle=\"Background Jobs CPU Usage\"\n\t\t\t\t\t:key=\"jobTimeData\"\n\t\t\t\t\t:data=\"jobTimeData\"\n\t\t\t\t\tunit=\"seconds\"\n\t\t\t\t\t:chartTheme=\"[$theme.colors.blue[500]]\"\n\t\t\t\t\t:loading=\"$resources.advancedAnalytics.loading\"\n\t\t\t\t\t:showCard=\"false\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t</AnalyticsCard>\n\n\t\t\t<AnalyticsCard class=\"sm:col-span-2\" title=\"Frequent Requests\">\n\t\t\t\t<BarChart\n\t\t\t\t\ttitle=\"Request Count by Path\"\n\t\t\t\t\t:key=\"requestCountByPathData\"\n\t\t\t\t\t:data=\"requestCountByPathData\"\n\t\t\t\t\tunit=\"requests\"\n\t\t\t\t\t:chartTheme=\"requestChartColors\"\n\t\t\t\t\t:loading=\"$resources.advancedAnalytics.loading\"\n\t\t\t\t\t:showCard=\"false\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t</AnalyticsCard>\n\n\t\t\t<AnalyticsCard class=\"sm:col-span-2\" title=\"Slowest Requests\">\n\t\t\t\t<BarChart\n\t\t\t\t\t:key=\"requestDurationByPathData\"\n\t\t\t\t\t:data=\"requestDurationByPathData\"\n\t\t\t\t\tunit=\"seconds\"\n\t\t\t\t\t:chartTheme=\"requestChartColors\"\n\t\t\t\t\t:loading=\"$resources.advancedAnalytics.loading\"\n\t\t\t\t\t:showCard=\"false\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t</AnalyticsCard>\n\n\t\t\t<AnalyticsCard\n\t\t\t\tclass=\"sm:col-span-2\"\n\t\t\t\ttitle=\"Individual Request Time (Average)\"\n\t\t\t>\n\t\t\t\t<BarChart\n\t\t\t\t\t:key=\"averageRequestDurationByPathData\"\n\t\t\t\t\t:data=\"averageRequestDurationByPathData\"\n\t\t\t\t\tunit=\"seconds\"\n\t\t\t\t\t:chartTheme=\"requestChartColors\"\n\t\t\t\t\t:loading=\"$resources.advancedAnalytics.loading\"\n\t\t\t\t\t:showCard=\"false\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t</AnalyticsCard>\n\n\t\t\t<AnalyticsCard class=\"sm:col-span-2\" title=\"Frequent Background Jobs\">\n\t\t\t\t<BarChart\n\t\t\t\t\t:key=\"backgroundJobCountByMethodData\"\n\t\t\t\t\t:data=\"backgroundJobCountByMethodData\"\n\t\t\t\t\tunit=\"jobs\"\n\t\t\t\t\t:chartTheme=\"requestChartColors\"\n\t\t\t\t\t:loading=\"$resources.advancedAnalytics.loading\"\n\t\t\t\t\t:showCard=\"false\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t</AnalyticsCard>\n\n\t\t\t<AnalyticsCard class=\"sm:col-span-2\" title=\"Slowest Background Jobs\">\n\t\t\t\t<BarChart\n\t\t\t\t\t:key=\"backgroundJobDurationByMethodData\"\n\t\t\t\t\t:data=\"backgroundJobDurationByMethodData\"\n\t\t\t\t\tunit=\"seconds\"\n\t\t\t\t\t:chartTheme=\"requestChartColors\"\n\t\t\t\t\t:loading=\"$resources.advancedAnalytics.loading\"\n\t\t\t\t\t:showCard=\"false\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t</AnalyticsCard>\n\n\t\t\t<AnalyticsCard\n\t\t\t\tclass=\"sm:col-span-2\"\n\t\t\t\ttitle=\"Individual Background Job Time (Average)\"\n\t\t\t>\n\t\t\t\t<BarChart\n\t\t\t\t\t:key=\"averageBackgroundJobDurationByMethodData\"\n\t\t\t\t\t:data=\"averageBackgroundJobDurationByMethodData\"\n\t\t\t\t\tunit=\"seconds\"\n\t\t\t\t\t:chartTheme=\"requestChartColors\"\n\t\t\t\t\t:loading=\"$resources.advancedAnalytics.loading\"\n\t\t\t\t\t:showCard=\"false\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t</AnalyticsCard>\n\n\t\t\t<AnalyticsCard class=\"sm:col-span-2\" title=\"Frequent Slow Queries\">\n\t\t\t\t<template #action>\n\t\t\t\t\t<Tooltip text=\"Show Detailed Reports\">\n\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\tclass=\"ml-2 mr-auto text-base text-gray-600 hover:text-gray-700\"\n\t\t\t\t\t\t\t:to=\"{ name: 'Site Performance Slow Queries' }\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t→\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<TabButtons\n\t\t\t\t\t\t:buttons=\"[{ label: 'Denormalized' }, { label: 'Normalized' }]\"\n\t\t\t\t\t\tv-model=\"slowLogsFrequencyType\"\n\t\t\t\t\t/>\n\t\t\t\t</template>\n\t\t\t\t<BarChart\n\t\t\t\t\t:key=\"slowLogsCountData\"\n\t\t\t\t\t:data=\"slowLogsCountData\"\n\t\t\t\t\tunit=\"queries\"\n\t\t\t\t\t:chartTheme=\"requestChartColors\"\n\t\t\t\t\t:loading=\"$resources.advancedAnalytics.loading\"\n\t\t\t\t\t:showCard=\"false\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t</AnalyticsCard>\n\n\t\t\t<AnalyticsCard class=\"sm:col-span-2\" title=\"Top Slow Queries\">\n\t\t\t\t<template #action>\n\t\t\t\t\t<Tooltip text=\"Show Detailed Reports\">\n\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\tclass=\"ml-2 mr-auto text-base text-gray-600 hover:text-gray-700\"\n\t\t\t\t\t\t\t:to=\"{ name: 'Site Performance Slow Queries' }\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t→\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<TabButtons\n\t\t\t\t\t\t:buttons=\"[{ label: 'Denormalized' }, { label: 'Normalized' }]\"\n\t\t\t\t\t\tv-model=\"slowLogsDurationType\"\n\t\t\t\t\t/>\n\t\t\t\t</template>\n\t\t\t\t<BarChart\n\t\t\t\t\t:key=\"slowLogsDurationData\"\n\t\t\t\t\t:data=\"slowLogsDurationData\"\n\t\t\t\t\tunit=\"seconds\"\n\t\t\t\t\t:chartTheme=\"requestChartColors\"\n\t\t\t\t\t:loading=\"$resources.advancedAnalytics.loading\"\n\t\t\t\t\t:showCard=\"false\"\n\t\t\t\t\tclass=\"h-[15.55rem] p-2 pb-3\"\n\t\t\t\t/>\n\t\t\t</AnalyticsCard>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport dayjs from '../../utils/dayjs';\nimport LineChart from '@/components/charts/LineChart.vue';\nimport BarChart from '@/components/charts/BarChart.vue';\nimport SiteUptime from './SiteUptime.vue';\nimport AlertBanner from '../AlertBanner.vue';\nimport AnalyticsCard from './AnalyticsCard.vue';\n\nexport default {\n\tname: 'SiteAnalytics',\n\tprops: ['name'],\n\tcomponents: {\n\t\tBarChart,\n\t\tLineChart,\n\t\tSiteUptime,\n\t\tAlertBanner,\n\t\tAnalyticsCard,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tduration: '24h',\n\t\t\tshowAdvancedAnalytics: false,\n\t\t\tlocalTimezone: dayjs.tz.guess(),\n\t\t\tslowLogsDurationType: 'Denormalized',\n\t\t\tslowLogsFrequencyType: 'Denormalized',\n\t\t\tdurationOptions: [\n\t\t\t\t{ label: 'Duration', value: null, disabled: true },\n\t\t\t\t{ label: '1 hour', value: '1h' },\n\t\t\t\t{ label: '6 hours', value: '6h' },\n\t\t\t\t{ label: '24 hours', value: '24h' },\n\t\t\t\t{ label: '7 days', value: '7d' },\n\t\t\t\t{ label: '15 days', value: '15d' },\n\t\t\t],\n\t\t};\n\t},\n\tresources: {\n\t\tanalytics() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.analytics.get',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.name,\n\t\t\t\t\ttimezone: this.localTimezone,\n\t\t\t\t\tduration: this.duration,\n\t\t\t\t},\n\t\t\t\tauto: true,\n\t\t\t};\n\t\t},\n\t\tadvancedAnalytics() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.analytics.get_advanced_analytics',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.name,\n\t\t\t\t\ttimezone: this.localTimezone,\n\t\t\t\t\tduration: this.duration,\n\t\t\t\t},\n\t\t\t\tauto: this.showAdvancedAnalytics,\n\t\t\t};\n\t\t},\n\t\tslowLogsCount() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.analytics.get_slow_logs_by_query',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.name,\n\t\t\t\t\tagg_type: 'count',\n\t\t\t\t\ttimezone: this.localTimezone,\n\t\t\t\t\tduration: this.duration,\n\t\t\t\t\tnormalize: this.slowLogsFrequencyType === 'Normalized',\n\t\t\t\t},\n\t\t\t\tauto: this.showAdvancedAnalytics,\n\t\t\t};\n\t\t},\n\t\tslowLogsDuration() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.analytics.get_slow_logs_by_query',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.name,\n\t\t\t\t\tagg_type: 'duration',\n\t\t\t\t\ttimezone: this.localTimezone,\n\t\t\t\t\tduration: this.duration,\n\t\t\t\t\tnormalize: this.slowLogsDurationType === 'Normalized',\n\t\t\t\t},\n\t\t\t\tauto: this.showAdvancedAnalytics,\n\t\t\t};\n\t\t},\n\t},\n\tcomputed: {\n\t\trequestChartColors() {\n\t\t\treturn [\n\t\t\t\tthis.$theme.colors.green[500],\n\t\t\t\tthis.$theme.colors.red[500],\n\t\t\t\tthis.$theme.colors.yellow[500],\n\t\t\t\tthis.$theme.colors.pink[500],\n\t\t\t\tthis.$theme.colors.purple[500],\n\t\t\t\tthis.$theme.colors.blue[500],\n\t\t\t\tthis.$theme.colors.teal[500],\n\t\t\t\tthis.$theme.colors.cyan[500],\n\t\t\t\tthis.$theme.colors.gray[500],\n\t\t\t\tthis.$theme.colors.orange[500],\n\t\t\t];\n\t\t},\n\t\tusageCounterData() {\n\t\t\tlet data = this.$resources.analytics.data?.usage_counter;\n\t\t\tif (!data) return;\n\n\t\t\tlet plan_limit = this.$resources.analytics.data?.plan_limit;\n\n\t\t\treturn {\n\t\t\t\tdatasets: [data.map((d) => [+new Date(d.date), d.value / 1000000])],\n\t\t\t\t// daily limit marker\n\t\t\t\tmarkLine: {\n\t\t\t\t\tdata: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'Daily Compute Limit',\n\t\t\t\t\t\t\tyAxis: plan_limit,\n\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\tformatter: '{b}: {c} seconds',\n\t\t\t\t\t\t\t\tposition: 'middle',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\tcolor: '#f5222d',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\tsymbol: ['none', 'none'],\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\trequestCountData() {\n\t\t\tlet requestCount = this.$resources.analytics.data?.request_count;\n\t\t\tif (!requestCount) return;\n\n\t\t\treturn {\n\t\t\t\tdatasets: [requestCount.map((d) => [+new Date(d.date), d.value])],\n\t\t\t};\n\t\t},\n\t\trequestCountByPathData() {\n\t\t\tlet requestCountByPath =\n\t\t\t\tthis.$resources.advancedAnalytics.data?.request_count_by_path;\n\t\t\tif (!requestCountByPath) return;\n\n\t\t\treturn requestCountByPath;\n\t\t},\n\t\trequestDurationByPathData() {\n\t\t\tlet requestDurationByPath =\n\t\t\t\tthis.$resources.advancedAnalytics.data?.request_duration_by_path;\n\t\t\tif (!requestDurationByPath) return;\n\n\t\t\treturn requestDurationByPath;\n\t\t},\n\t\taverageRequestDurationByPathData() {\n\t\t\tlet averageRequestDurationByPath =\n\t\t\t\tthis.$resources.advancedAnalytics.data\n\t\t\t\t\t?.average_request_duration_by_path;\n\t\t\tif (!averageRequestDurationByPath) return;\n\n\t\t\treturn averageRequestDurationByPath;\n\t\t},\n\t\tbackgroundJobCountByMethodData() {\n\t\t\tlet backgroundJobCountByMethod =\n\t\t\t\tthis.$resources.advancedAnalytics.data?.background_job_count_by_method;\n\t\t\tif (!backgroundJobCountByMethod) return;\n\n\t\t\treturn backgroundJobCountByMethod;\n\t\t},\n\t\tbackgroundJobDurationByMethodData() {\n\t\t\tlet backgroundJobDurationByMethod =\n\t\t\t\tthis.$resources.advancedAnalytics.data\n\t\t\t\t\t?.background_job_duration_by_method;\n\t\t\tif (!backgroundJobDurationByMethod) return;\n\n\t\t\treturn backgroundJobDurationByMethod;\n\t\t},\n\t\taverageBackgroundJobDurationByMethodData() {\n\t\t\tlet averageBackgroundJobDurationByMethod =\n\t\t\t\tthis.$resources.advancedAnalytics.data\n\t\t\t\t\t?.average_background_job_duration_by_method;\n\t\t\tif (!averageBackgroundJobDurationByMethod) return;\n\n\t\t\treturn averageBackgroundJobDurationByMethod;\n\t\t},\n\t\tslowLogsDurationData() {\n\t\t\tconst slowLogs = this.$resources.slowLogsDuration.data;\n\t\t\tif (!slowLogs) return;\n\n\t\t\treturn slowLogs;\n\t\t},\n\t\tslowLogsCountData() {\n\t\t\tconst slowLogs = this.$resources.slowLogsCount.data;\n\t\t\tif (!slowLogs) return;\n\n\t\t\treturn slowLogs;\n\t\t},\n\t\trequestTimeData() {\n\t\t\tlet requestCpuTime = this.$resources.analytics.data?.request_cpu_time;\n\t\t\tif (!requestCpuTime) return;\n\n\t\t\treturn {\n\t\t\t\tdatasets: [\n\t\t\t\t\trequestCpuTime.map((d) => [+new Date(d.date), d.value / 1000000]),\n\t\t\t\t],\n\t\t\t};\n\t\t},\n\t\tjobCountData() {\n\t\t\tlet jobCount = this.$resources.advancedAnalytics.data?.job_count;\n\t\t\tif (!jobCount) return;\n\n\t\t\treturn {\n\t\t\t\tdatasets: [jobCount.map((d) => [+new Date(d.date), d.value])],\n\t\t\t};\n\t\t},\n\t\tjobTimeData() {\n\t\t\tlet jobCpuTime = this.$resources.advancedAnalytics.data?.job_cpu_time;\n\t\t\tif (!jobCpuTime) return;\n\n\t\t\treturn {\n\t\t\t\tdatasets: [\n\t\t\t\t\tjobCpuTime.map((d) => [+new Date(d.date), d.value / 1000000]),\n\t\t\t\t],\n\t\t\t};\n\t\t},\n\t},\n\tmethods: {\n\t\ttoggleAdvancedAnalytics() {\n\t\t\tthis.showAdvancedAnalytics = !this.showAdvancedAnalytics;\n\t\t},\n\t},\n};\n</script>\n"],"names":["_sfc_main","i","average","total","date","DateTime","_hoisted_2","_hoisted_3","$props","_openBlock","_createElementBlock","_hoisted_1","_cache","_createElementVNode","_Fragment","_renderList","$options","type","d","BarChart","LineChart","dayjs","data","plan_limit","requestCountByPath","_a","requestDurationByPath","averageRequestDurationByPath","backgroundJobCountByMethod","backgroundJobDurationByMethod","averageBackgroundJobDurationByMethod","slowLogs","requestCpuTime","jobCount","jobCpuTime","$data","$event","_withCtx","_ctx","_b","_createTextVNode","args","_hoisted_4","_createCommentVNode"],"mappings":"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"}