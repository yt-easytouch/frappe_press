import{x as c,r as p,h as i,o as d,V as u,aa as g}from"./main-Dpl-JOF2.js";import{S as f}from"./SiteAppPlanSelectorDialog-CH4JlF1b.js";import"./PlansCards-CiqqQthx.js";import"./badge-check-DXteVc7W.js";(function(){try{var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},n=new Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="95c8827a-0971-4aca-8dc6-87c7a55ea7e3",e._sentryDebugIdIdentifier="sentry-dbid-95c8827a-0971-4aca-8dc6-87c7a55ea7e3")}catch(t){}})();{var a=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};a._sentryModuleMetadata=a._sentryModuleMetadata||{},a._sentryModuleMetadata[new Error().stack]=Object.assign({},a._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const m={components:{SiteAppPlanSelectorDialog:f},props:["app","currentPlan"],emits:["plan-changed","plan-selected"],data(){return{showDialog:!0}},resources:{changeAppPlan:{url:"press.api.marketplace.change_app_plan"}},methods:{onPlanSelect(e){this.currentPlan?u.promise(this.$resources.changeAppPlan.submit({subscription:this.app.subscription.name,new_plan:e.name}),{loading:"Changing plan...",success:()=>(this.$emit("plan-changed",e),"Plan changed successfully"),error:n=>g(n)}):this.$emit("plan-selected",e)}}};function h(e,n,t,P,r,s){const o=p("SiteAppPlanSelectorDialog");return d(),i(o,{modelValue:r.showDialog,"onUpdate:modelValue":n[0]||(n[0]=l=>r.showDialog=l),app:t.app,currentPlan:t.currentPlan,onPlanSelect:s.onPlanSelect},null,8,["modelValue","app","currentPlan","onPlanSelect"])}const b=c(m,[["render",h]]);export{b as default};
//# sourceMappingURL=SiteAppPlanSelectDialog-CHPvZDxx.js.map
