{"version":3,"file":"ChangeAppPlanSelector-B7RAZX-J.js","sources":["../../../../dashboard/src/components/ChangeAppPlanSelector.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<ErrorMessage :message=\"$resources.getAppPlans.error\" />\n\n\t\t<Button\n\t\t\tv-if=\"\n\t\t\t\t$resources.getAppPlans.loading ||\n\t\t\t\t$resources.getMarketplaceAppInfo.loading\n\t\t\t\"\n\t\t\t:loading=\"true\"\n\t\t\tloadingText=\"Loading Plans...\"\n\t\t></Button>\n\n\t\t<div v-if=\"plans && appInfo\" class=\"mb-6 flex flex-row items-center\">\n\t\t\t<Avatar\n\t\t\t\tclass=\"mr-2\"\n\t\t\t\tsize=\"lg\"\n\t\t\t\tshape=\"square\"\n\t\t\t\t:image=\"appInfo.image\"\n\t\t\t\t:label=\"appInfo.title\"\n\t\t\t/>\n\n\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t<h4 class=\"text-xl font-semibold text-gray-900\">{{ appInfo.title }}</h4>\n\t\t\t\t<p class=\"text-base text-gray-600\">Choose your plans</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div v-if=\"plans\" class=\"mx-auto grid grid-cols-1 gap-2 md:grid-cols-3\">\n\t\t\t<AppPlanCard\n\t\t\t\tv-for=\"plan in plans\"\n\t\t\t\t:editable=\"editable\"\n\t\t\t\t:plan=\"plan\"\n\t\t\t\t:key=\"plan.name\"\n\t\t\t\t:selected=\"selectedPlan == plan\"\n\t\t\t\t@click.native=\"handleCardClick(plan)\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport AppPlanCard from '@/components/AppPlanCard.vue';\n\nexport default {\n\tname: 'ChangeAppPlanSelector',\n\tcomponents: {\n\t\tAppPlanCard\n\t},\n\tprops: ['app', 'group', 'frappeVersion', 'currentPlan', 'editable'],\n\temits: ['change'],\n\tdata() {\n\t\treturn {\n\t\t\tselectedPlan: null\n\t\t};\n\t},\n\tresources: {\n\t\tgetAppPlans() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.marketplace.get_app_plans',\n\t\t\t\tparams: {\n\t\t\t\t\tapp: this.app,\n\t\t\t\t\tinclude_disabled: false,\n\t\t\t\t\trelease_group: this.group,\n\t\t\t\t\tfrappe_version: this.frappeVersion\n\t\t\t\t},\n\t\t\t\tonSuccess(plans) {\n\t\t\t\t\tif (this.currentPlan) {\n\t\t\t\t\t\tfor (let plan of plans) {\n\t\t\t\t\t\t\tif (plan.name === this.currentPlan) {\n\t\t\t\t\t\t\t\tthis.selectedPlan = plan;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tauto: true\n\t\t\t};\n\t\t},\n\t\tgetMarketplaceAppInfo() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.marketplace.get_app_info',\n\t\t\t\tparams: {\n\t\t\t\t\tapp: this.app\n\t\t\t\t},\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\thandleCardClick(plan) {\n\t\t\tthis.selectedPlan = plan;\n\t\t\tthis.$emit('change', plan);\n\t\t}\n\t},\n\tcomputed: {\n\t\tplans() {\n\t\t\tif (\n\t\t\t\tthis.$resources.getAppPlans.data &&\n\t\t\t\t!this.$resources.getAppPlans.loading\n\t\t\t) {\n\t\t\t\treturn this.$resources.getAppPlans.data;\n\t\t\t}\n\t\t},\n\t\tappInfo() {\n\t\t\tif (\n\t\t\t\t!this.$resources.getMarketplaceAppInfo.loading &&\n\t\t\t\tthis.$resources.getMarketplaceAppInfo.data\n\t\t\t) {\n\t\t\t\treturn this.$resources.getMarketplaceAppInfo.data;\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","plans","plan","_hoisted_2","_hoisted_3","_ctx","_createCommentVNode","$options","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","_cache","_hoisted_4","_Fragment","_renderList","$props"],"mappings":"0zBA4CA,MAAAA,EAAA,yDAKC,MAAA,CAAA,MAAA,QAAA,gBAAA,cAAA,UAAA,EACA,MAAA,CAAA,QAAA,EACA,MAAA,CACC,MAAA,CACC,aAAA,gCAKA,MAAA,CACC,IAAA,sCACA,OAAA,2DAIC,eAAA,KAAA,eAED,UAAAC,EAAA,CACC,GAAA,KAAA,aACC,QAAAC,KAAAD,EACC,GAAAC,EAAA,OAAA,KAAA,YAAA,0BAGA,IAIH,KAAA,6BAID,MAAA,CACC,IAAA,qCACA,OAAA,eAGA,KAAA,GAEF,GAED,QAAA,CACC,gBAAAA,EAAA,2CAGA,GAED,SAAA,CACC,OAAA,CACC,GACC,KAAA,WAAA,YAAA,MACA,CAAA,KAAA,WAAA,YAAA,QAEA,OAAA,KAAA,WAAA,YAAA,MAGF,SAAA,CACC,mDAEC,KAAA,WAAA,sBAAA,sDAIF,CACD,CACD,WApG+B,MAAA,mCASvBC,EAAA,CAAA,MAAA,eAAA,EACAC,EAAA,CAAA,MAAA,qCAAA,WAKY,MAAA,6HA1BH,QAAAC,EAAA,WAAA,YAAA,wHAOb,QAAA,GACD,YAAA,sBAVHC,EAAA,GAAA,EAAA,EAaaC,EAAA,OAAAA,EAAA,SAAXC,IAAAC,EAAA,MAAAC,EAAA,MAEE,MAAA,OACA,KAAA,KACA,MAAA,gFAKDC,EAAA,MAAAR,EAAA,CACCQ,EAAA,KAAAP,EAAAQ,EAAAL,EAAA,QAAA,KAAA,EAAA,CAAA,EACAM,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAF,EAAA,IAAA,CAAA,MAAA,2BAAA,oBAAA,EAAA,QAxBJL,EAAA,GAAA,EAAA,WA4BEE,IAAAC,EAAA,MAAAK,EAAA,EACCN,EAAA,EAAA,EAAAC,EAAAM,EAAA,KAAAC,EAAAT,EAAA,MAAAL,aAEE,SAAAe,EAAA,SACA,KAAAf,qIAhCLI,EAAA,GAAA,EAAA"}