import{_ as f}from"./Tabs-d4e9i9wh.js";import{q as i,o as t,j as u,a4 as V,t as _,x as S,r as O,A as s,w as p,X as B,h as l,u as m,Y as d,ae as C,a9 as E,af as N,aA as I}from"./main-Dpl-JOF2.js";import{_ as b}from"./AppSourceSelector-BL6tcj2j.js";import{_ as P}from"./Breadcrumbs-yx7M4N4X.js";(function(){try{var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},a=new Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="b636848b-8913-4cff-a89d-f390faa6c497",e._sentryDebugIdIdentifier="sentry-dbid-b636848b-8913-4cff-a89d-f390faa6c497")}catch(n){}})();{var r=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};r._sentryModuleMetadata=r._sentryModuleMetadata||{},r._sentryModuleMetadata[new Error().stack]=Object.assign({},r._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const j={class:"flex flex-row items-center justify-between"},T={class:"text-xl font-semibold text-gray-800"},H={__name:"SectionHeader",props:["heading"],setup(e){return(a,n)=>(t(),i("div",j,[u("h2",T,_(e.heading),1),V(a.$slots,"actions")]))}},U={name:"Marketplace",pageMeta(){return{title:"Developer - Easytouch Cloud"}},components:{Tabs:f,AppSourceSelector:b},data:()=>({tabs:[{label:"My Apps",route:"/marketplace/apps"},{label:"Publisher Profile",route:"/marketplace/publisher-profile"},{label:"Payouts",route:"/marketplace/payouts"}],showAddAppDialog:!1,selectedApp:null}),resources:{appOptions(){return{url:"press.api.marketplace.options_for_marketplace_app"}},addMarketplaceApp(){return{url:"press.api.marketplace.add_app",onSuccess(){this.showAddAppDialog=!1,window.location.reload()}}}},computed:{availableApps(){return this.$resources.appOptions.data}},activated(){if(this.$route.matched.length===1){let e=this.$route.fullPath;this.$router.replace(`${e}/apps`)}},beforeRouteUpdate(e,a,n){e.path=="/marketplace"?n("/marketplace/apps"):n()}},z={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-5 py-2.5"},L={key:2,class:"text-base"};function q(e,a,n,K,R,g){const c=B,A=P,k=H,y=C,w=b,$=E,h=N,v=I,D=O("router-view"),M=f;return t(),i("div",null,[u("header",z,[s(A,{items:[{label:"Apps",route:"/marketplace"}]},{actions:p(()=>[s(c,{variant:"solid","icon-left":"plus",label:"New",class:"ml-2",onClick:a[0]||(a[0]=o=>{e.$resources.appOptions.data||e.$resources.appOptions.fetch(),e.showAddAppDialog=!0})})]),_:1})]),s(k,{class:"mx-5 mt-6",heading:"Apps"}),s(v,{options:{title:"Add App to Marketplace",size:"xl"},modelValue:e.showAddAppDialog,"onUpdate:modelValue":a[4]||(a[4]=o=>e.showAddAppDialog=o)},{"body-content":p(()=>[e.$resources.appOptions.loading?(t(),l(y,{key:0,class:"py-2"})):e.$resources.appOptions.data&&e.$resources.appOptions.data.length>0?(t(),l(w,{key:1,class:"mt-1",apps:g.availableApps,modelValue:e.selectedApp,"onUpdate:modelValue":a[1]||(a[1]=o=>e.selectedApp=o),multiple:!1},null,8,["apps","modelValue"])):(t(),i("p",L,"No app sources available.")),s($,{class:"mt-2",message:e.$resources.addMarketplaceApp.error},null,8,["message"]),u("p",{class:"mt-4 text-base",onClick:a[2]||(a[2]=o=>e.showAddAppDialog=!1)},[a[6]||(a[6]=d(" Don't find your app here? ")),s(h,{to:"/marketplace/apps/new"},{default:p(()=>a[5]||(a[5]=[d(" Add from GitHub ")])),_:1})])]),actions:p(()=>[e.selectedApp?(t(),l(c,{key:0,variant:"solid",class:"ml-2 w-full",loading:e.$resources.addMarketplaceApp.loading,onClick:a[3]||(a[3]=o=>e.$resources.addMarketplaceApp.submit({source:e.selectedApp.source.name,app:e.selectedApp.app}))},{default:p(()=>[d(" Add "+_(e.selectedApp.app),1)]),_:1},8,["loading"])):m("",!0)]),_:1},8,["modelValue"]),s(M,{class:"mx-5 mt-3 pb-32",tabs:e.tabs},{default:p(()=>[e.$account.team?(t(),l(D,{key:0})):m("",!0)]),_:1},8,["tabs"])])}const Q=S(U,[["render",q]]);export{Q as default};
//# sourceMappingURL=Marketplace-DS-RBB8Y.js.map
