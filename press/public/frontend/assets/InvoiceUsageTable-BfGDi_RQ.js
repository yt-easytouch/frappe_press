import{x as m,q as d,o as n,u as l,j as t,F as u,v as b,t as r,A as _,w as g,Y as y,X as h}from"./main-Dpl-JOF2.js";(function(){try{var s=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},e=new Error().stack;e&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[e]="389f8566-c843-4f3a-aa53-e2de81e18d22",s._sentryDebugIdIdentifier="sentry-dbid-389f8566-c843-4f3a-aa53-e2de81e18d22")}catch(c){}})();{var i=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};i._sentryModuleMetadata=i._sentryModuleMetadata||{},i._sentryModuleMetadata[new Error().stack]=Object.assign({},i._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const x={name:"InvoiceUsageTable",props:["invoice","invoiceDoc"],resources:{doc(){return{url:"press.api.billing.get_invoice_usage",params:{invoice:this.invoice},auto:this.invoice,onSuccess(s){this.$emit("doc",s)}}}},watch:{invoice(s){s&&this.$resources.doc.fetch()}},computed:{doc(){return this.invoiceDoc||this.$resources.doc.data}}},w={key:0,class:"overflow-x-auto"},v={class:"text w-full text-sm"},k={class:"border-b py-3 pr-2"},D={class:"border-b py-3 pr-2"},T={class:"border-b py-3 pr-2 text-right"},I={class:"border-b py-3 pr-2 text-right font-semibold"},A={key:0},B={class:"whitespace-nowrap pb-2 pr-2 pt-4 text-right font-semibold"},N={key:1},E={class:"whitespace-nowrap pb-2 pr-2 pt-4 text-right font-semibold"},S={key:2},V={class:"whitespace-nowrap pb-2 pr-2 pt-4 text-right font-semibold"},j={key:3},q={class:"pb-2 pr-2 pt-4 text-right font-semibold"},C={class:"whitespace-nowrap pb-2 pr-2 pt-4 text-right font-semibold"},F={class:"whitespace-nowrap pb-2 pr-2 pt-4 text-right font-semibold"},L={class:"whitespace-nowrap py-3 pr-2 text-right font-semibold"},M={class:"whitespace-nowrap py-3 pr-2 text-right font-semibold"},W={key:1,class:"py-20 text-center"};function K(s,e,c,O,P,o){const p=h;return n(),d("div",null,[o.doc?(n(),d("div",w,[t("table",v,[e[13]||(e[13]=t("thead",null,[t("tr",{class:"text-gray-600"},[t("th",{class:"border-b py-3 pr-2 text-left font-normal"}," Description "),t("th",{class:"border-b py-3 pr-2 text-left font-normal"},"Site"),t("th",{class:"whitespace-nowrap border-b py-3 pr-2 text-right font-normal"}," Rate "),t("th",{class:"border-b py-3 pr-2 text-right font-normal"},"Amount")])],-1)),t("tbody",null,[(n(!0),d(u,null,b(o.doc.items,(a,f)=>(n(),d("tr",{key:a.idx},[t("td",k,r(a.description||a.document_name),1),t("td",D,r(a.site||"-"),1),t("td",T,r(a.rate)+" x "+r(a.quantity),1),t("td",I,r(o.doc.formatted.items[f].amount),1)]))),128))]),t("tfoot",null,[o.doc.total_discount_amount>0?(n(),d("tr",A,[e[0]||(e[0]=t("td",null,null,-1)),e[1]||(e[1]=t("td",{class:"pb-2 pr-2 pt-4 text-right font-semibold"}," Total Without Discount ",-1)),t("td",B,r(o.doc.formatted.total_before_discount),1)])):l("",!0),o.doc.total_discount_amount>0?(n(),d("tr",N,[e[2]||(e[2]=t("td",null,null,-1)),e[3]||(e[3]=t("td",{class:"pb-2 pr-2 pt-4 text-right font-semibold"}," Total Discount Amount ",-1)),t("td",E,r(o.doc.partner_email&&o.doc.partner_email!=s.$account.team.user?0:o.doc.formatted.total_discount_amount),1)])):l("",!0),o.doc.gst>0?(n(),d("tr",S,[e[4]||(e[4]=t("td",null,null,-1)),e[5]||(e[5]=t("td",{class:"pb-2 pr-2 pt-4 text-right font-semibold"}," Total (Without Tax) ",-1)),t("td",V,r(o.doc.formatted.total_before_tax),1)])):l("",!0),o.doc.gst>0?(n(),d("tr",j,[e[6]||(e[6]=t("td",null,null,-1)),t("td",q," IGST @ "+r(Number(s.$account.billing_info.gst_percentage*100))+"% ",1),t("td",C,r(o.doc.formatted.gst),1)])):l("",!0),t("tr",null,[e[7]||(e[7]=t("td",null,null,-1)),e[8]||(e[8]=t("td",{class:"pb-2 pr-2 pt-4 text-right font-semibold"},"Grand Total",-1)),t("td",F,r(o.doc.partner_email&&o.doc.partner_email!=s.$account.team.user?o.doc.formatted.total_before_discount:o.doc.formatted.total),1)]),o.doc.total!==o.doc.amount_due&&o.doc.docstatus==1?(n(),d(u,{key:4},[t("tr",null,[e[9]||(e[9]=t("td",null,null,-1)),e[10]||(e[10]=t("td",{class:"pr-2 text-right"},"Applied Balance:",-1)),t("td",L," - "+r(o.doc.formatted.applied_credits),1)]),t("tr",null,[e[11]||(e[11]=t("td",null,null,-1)),e[12]||(e[12]=t("td",{class:"pr-2 text-right"},"Amount Due:",-1)),t("td",M,r(o.doc.formatted.amount_due),1)])],64)):l("",!0)])])])):l("",!0),s.$resources.doc.loading?(n(),d("div",W,[_(p,{loading:!0},{default:g(()=>e[14]||(e[14]=[y("Loading")])),_:1})])):l("",!0)])}const U=m(x,[["render",K]]);export{U as _};
//# sourceMappingURL=InvoiceUsageTable-BfGDi_RQ.js.map
