{"version":3,"file":"Security-BqQVSxF-.js","sources":["../../../../dashboard/src/views/security/Security.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<div v-if=\"server\">\n\t\t\t<div>\n\t\t\t\t<header\n\t\t\t\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-5 py-2.5\"\n\t\t\t\t>\n\t\t\t\t\t<Breadcrumbs\n\t\t\t\t\t\t:items=\"[\n\t\t\t\t\t\t\t{ label: 'Security', route: { name: 'Security' } },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: server?.title,\n\t\t\t\t\t\t\t\troute: {\n\t\t\t\t\t\t\t\t\tname: 'SecurityOverview',\n\t\t\t\t\t\t\t\t\tparams: { serverName: server?.name }\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\"\n\t\t\t\t\t>\n\t\t\t\t\t</Breadcrumbs>\n\t\t\t\t</header>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"flex flex-col space-y-3 px-5 py-3 md:flex-row md:items-baseline md:justify-between md:space-y-0\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"mt-2 flex items-center\">\n\t\t\t\t\t\t<h1 class=\"text-2xl font-bold\">{{ server.title }}</h1>\n\t\t\t\t\t\t<Badge class=\"ml-4\" :label=\"server.status\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"p-5 pt-1\">\n\t\t\t<Tabs :tabs=\"tabs\">\n\t\t\t\t<router-view v-slot=\"{ Component, route }\">\n\t\t\t\t\t<component v-if=\"server\" :is=\"Component\" :server=\"server\"></component>\n\t\t\t\t</router-view>\n\t\t\t</Tabs>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Tabs from '@/components/Tabs.vue';\n\nexport default {\n\tname: 'Security',\n\tpageMeta() {\n\t\treturn {\n\t\t\ttitle: `Security - ${this.serverName} - Easytouch Cloud`\n\t\t};\n\t},\n\tprops: ['serverName'],\n\tcomponents: {\n\t\tTabs\n\t},\n\tresources: {\n\t\tserver() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.server.get',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.serverName\n\t\t\t\t},\n\t\t\t\tauto: true,\n\t\t\t\tonSuccess() {\n\t\t\t\t\tthis.routeToGeneral();\n\t\t\t\t},\n\t\t\t\tonError: this.$routeTo404PageIfNotFound\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\trouteToGeneral() {\n\t\t\tif (this.$route.matched.length === 1) {\n\t\t\t\tlet path = this.$route.fullPath;\n\t\t\t\tthis.$router.replace(`${path}/overview`);\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tserver() {\n\t\t\treturn this.$resources.server.data;\n\t\t},\n\n\t\ttabs() {\n\t\t\tlet tabRoute = subRoute => `/security/${this.serverName}/${subRoute}`;\n\t\t\tlet tabs = [\n\t\t\t\t{ label: 'Overview', route: 'overview' },\n\t\t\t\t{ label: 'Security Updates', route: 'security_update' },\n\t\t\t\t{ label: 'Firewall Configuration', route: 'firewall' },\n\t\t\t\t{ label: 'SSH Session Log', route: 'ssh_session_logs' },\n\t\t\t\t{ label: 'Nginx Overview', route: 'nginx_overview' }\n\t\t\t];\n\n\t\t\tlet tabsByStatus = {\n\t\t\t\tActive: [\n\t\t\t\t\t'Overview',\n\t\t\t\t\t'Security Updates',\n\t\t\t\t\t'Firewall Configuration',\n\t\t\t\t\t'SSH Session Log',\n\t\t\t\t\t'Nginx Overview'\n\t\t\t\t]\n\t\t\t};\n\t\t\tif (this.server) {\n\t\t\t\tlet tabsToShow = tabsByStatus[this.server.status];\n\t\t\t\tif (tabsToShow?.length) {\n\t\t\t\t\ttabs = tabs.filter(tab => tabsToShow.includes(tab.label));\n\t\t\t\t}\n\t\t\t\treturn tabs.map(tab => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...tab,\n\t\t\t\t\t\troute: tabRoute(tab.route)\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn [];\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","Tabs","path","tabRoute","subRoute","tabs","tabsByStatus","tab","__spreadProps","__spreadValues","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_a","$options","_b","_toDisplayString","_createCommentVNode","_withCtx","Component","route"],"mappings":"swCA4CA,MAAAA,EAAA,CACC,KAAA,sBAEC,MAAA,2DAID,MAAA,CAAA,YAAA,cAECC,KAAAA,cAGA,QAAA,CACC,MAAA,4BAEC,OAAA,CACC,KAAA,KAAA,YAED,KAAA,eAEC,KAAA,eAAA,GAED,QAAA,KAAA,0BAEF,GAED,QAAA,CACC,gBAAA,CACC,GAAA,KAAA,OAAA,QAAA,SAAA,EAAA,4BAEC,KAAA,QAAA,QAAA,GAAAC,CAAA,WAAA,CACD,CACD,GAED,SAAA,CACC,QAAA,CACC,OAAA,KAAA,WAAA,OAAA,MAGD,MAAA,CACC,IAAAC,EAAAC,GAAA,aAAA,KAAA,UAAA,IAAAA,CAAA,GACAC,EAAA,CACC,CAAA,MAAA,WAAA,MAAA,UAAA,0JAIA,CAAA,MAAA,iBAAA,MAAA,gBAAA,GAGDC,EAAA,CACC,OAAA,YAEC,4CAEA,kBACA,gBACD,GAED,GAAA,KAAA,OAAA,4FAKCD,EAAA,IAAAE,GACCC,EAAAC,EAAA,GACCF,GADD,mBAID,CACD,CACA,MAAA,CAAA,CACD,CACD,CACD,YAhHKG,EAAA,CAAA,MAAA,mFAAA,EAiBAC,EAAA,CAAA,MAAA,iGAAA,EAEKC,EAAA,CAAA,MAAA,wBAAA,EACAC,EAAA,CAAA,MAAA,oBAAA,EAMHC,EAAA,CAAA,MAAA,UAAA,0GA7BLC,IAAAC,EAAA,MAAAC,EAAA,eAEEC,EAAA,SAAAR,EAAA,yDAI+F,OAAAS,EAAAC,EAAA,SAAA,YAAAD,EAAA,qCAAkG,OAAA,CAAA,YAAAE,EAAAD,EAAA,SAAA,YAAAC,EAAA,IAAA,0BAajMH,EAAA,MAAAP,EAAA,CAGCO,EAAA,MAAAN,EAAA,CACCM,EAAA,KAAAL,EAAAS,EAAAF,EAAA,OAAA,KAAA,EAAA,CAAA,OACO,MAAA,yDA1BbG,EAAA,GAAA,EAAA,EA+BEL,EAAA,MAAAJ,EAAA,oBA/BF,QAAAU,EAAA,IAAA,WAAA,QAAAA,EAAA,CAAA,CAAA,UAAAC,EAAA,MAAAC,CAAA,IAAA,6BAkC+C,OAAAN,EAAA,4BAlC/CG,EAAA,GAAA,EAAA"}