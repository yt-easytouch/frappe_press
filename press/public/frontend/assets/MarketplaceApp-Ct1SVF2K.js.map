{"version":3,"file":"MarketplaceApp-Ct1SVF2K.js","sources":["../../../../dashboard/src/views/marketplace/MarketplaceApp.vue"],"sourcesContent":["<template>\n\t<div v-if=\"app\">\n\t\t<div>\n\t\t\t<header\n\t\t\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-5 py-2.5\"\n\t\t\t>\n\t\t\t\t<Breadcrumbs\n\t\t\t\t\t:items=\"[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: 'Apps',\n\t\t\t\t\t\t\troute: {\n\t\t\t\t\t\t\t\tname: 'Marketplace',\n\t\t\t\t\t\t\t\tparams: { appName: app.name }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: app.title,\n\t\t\t\t\t\t\troute: {\n\t\t\t\t\t\t\t\tname: 'MarketplaceAppOverview',\n\t\t\t\t\t\t\t\tparams: { appName: app.name }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\"\n\t\t\t\t>\n\t\t\t\t\t<template v-slot:actions>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tv-if=\"app.status === 'Published'\"\n\t\t\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\t\t\ticon-left=\"external-link\"\n\t\t\t\t\t\t\tlabel=\"View in Marketplace\"\n\t\t\t\t\t\t\tclass=\"ml-2\"\n\t\t\t\t\t\t\t:link=\"`/marketplace/apps/${app.name}`\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</template>\n\t\t\t\t</Breadcrumbs>\n\t\t\t</header>\n\t\t</div>\n\t\t<div>\n\t\t\t<div class=\"px-5 pt-5\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"flex flex-col space-y-3 md:flex-row md:items-baseline md:justify-between md:space-y-0\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"mb-3 flex items-center\">\n\t\t\t\t\t\t<h1 class=\"text-2xl font-bold\">{{ app.title }}</h1>\n\t\t\t\t\t\t<Badge class=\"ml-4\" :label=\"app.status\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"p-5 pt-1\">\n\t\t\t\t<Tabs :tabs=\"tabs\">\n\t\t\t\t\t<router-view v-bind=\"{ app }\"></router-view>\n\t\t\t\t</Tabs>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Tabs from '@/components/Tabs.vue';\n\nexport default {\n\tname: 'MarketplaceApp',\n\tprops: ['appName'],\n\tcomponents: {\n\t\tTabs\n\t},\n\tresources: {\n\t\tapp() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.marketplace.get_app',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.appName\n\t\t\t\t},\n\t\t\t\tauto: true,\n\t\t\t\tonError: this.$routeTo404PageIfNotFound,\n\t\t\t\tonSuccess() {\n\t\t\t\t\tthis.routeToGeneral();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\trouteToGeneral() {\n\t\t\tif (this.$route.matched.length === 1) {\n\t\t\t\tlet path = this.$route.fullPath;\n\t\t\t\tthis.$router.replace(`${path}/overview`);\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tapp() {\n\t\t\tif (this.$resources.app.data && !this.$resources.app.loading) {\n\t\t\t\treturn this.$resources.app.data;\n\t\t\t}\n\t\t\treturn this.$resources.app.data;\n\t\t},\n\t\ttabs() {\n\t\t\tlet tabsByStatus = {\n\t\t\t\tDraft: ['Overview', 'Releases', 'Review'],\n\t\t\t\t'In Review': ['Overview', 'Releases', 'Review'],\n\t\t\t\tRejected: ['Overview', 'Releases', 'Review'],\n\t\t\t\tPublished: [\n\t\t\t\t\t'Overview',\n\t\t\t\t\t'Releases',\n\t\t\t\t\t'Analytics',\n\t\t\t\t\t'Subscriptions',\n\t\t\t\t\t'Pricing'\n\t\t\t\t],\n\t\t\t\t'Attention Required': [\n\t\t\t\t\t'Overview',\n\t\t\t\t\t'Releases',\n\t\t\t\t\t'Review',\n\t\t\t\t\t'Analytics',\n\t\t\t\t\t'Subscriptions',\n\t\t\t\t\t'Pricing'\n\t\t\t\t]\n\t\t\t};\n\t\t\tlet tabRoute = subRoute =>\n\t\t\t\t`/marketplace/apps/${this.appName}/${subRoute}`;\n\t\t\tlet tabs = [\n\t\t\t\t{ label: 'Overview', route: 'overview' },\n\t\t\t\t{ label: 'Releases', route: 'releases' },\n\t\t\t\t{ label: 'Review', route: 'review' },\n\t\t\t\t{ label: 'Analytics', route: 'analytics' },\n\t\t\t\t{ label: 'Subscriptions', route: 'subscriptions' },\n\t\t\t\t{ label: 'Pricing', route: 'pricing' }\n\t\t\t];\n\n\t\t\tif (this.app) {\n\t\t\t\tlet tabsToShow = tabsByStatus[this.app.status];\n\n\t\t\t\tif (tabsToShow?.length) {\n\t\t\t\t\ttabs = tabs.filter(tab => tabsToShow.includes(tab.label));\n\t\t\t\t}\n\t\t\t\treturn tabs.map(tab => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...tab,\n\t\t\t\t\t\troute: tabRoute(tab.route)\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn [];\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","Tabs","path","tabsByStatus","tabRoute","subRoute","tabs","tabsToShow","tab","__spreadProps","__spreadValues","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","$options","_withCtx","_createCommentVNode","_toDisplayString"],"mappings":"sxCA4DA,MAAAA,EAAA,CACC,KAAA,iBACA,MAAA,CAAA,SAAA,cAECC,KAAAA,oBAIC,MAAA,CACC,IAAA,gCACA,OAAA,CACC,KAAA,KAAA,SAED,KAAA,GACA,QAAA,KAAA,sCAEC,KAAA,eAAA,CACD,EAEF,GAED,QAAA,CACC,gBAAA,CACC,GAAA,KAAA,OAAA,QAAA,SAAA,EAAA,4BAEC,KAAA,QAAA,QAAA,GAAAC,CAAA,WAAA,CACD,CACD,GAED,SAAA,qEAGG,KAAA,WAAA,IAAA,KAED,KAAA,WAAA,IAAA,MAED,MAAA,CACC,IAAAC,EAAA,CACC,MAAA,CAAA,WAAA,WAAA,QAAA,EACA,YAAA,CAAA,WAAA,WAAA,QAAA,EACA,SAAA,CAAA,WAAA,WAAA,QAAA,+CAKC,gBACA,WAED,qBAAA,uBAGC,qBAEA,gBACA,SACD,GAEDC,EAAAC,4CAEAC,EAAA,CACC,CAAA,MAAA,WAAA,MAAA,UAAA,EACA,CAAA,MAAA,WAAA,MAAA,UAAA,EACA,CAAA,MAAA,SAAA,MAAA,QAAA,EACA,CAAA,MAAA,YAAA,MAAA,WAAA,EACA,CAAA,MAAA,gBAAA,MAAA,eAAA,EACA,CAAA,MAAA,UAAA,MAAA,SAAA,gBAIA,IAAAC,EAAAJ,EAAA,KAAA,IAAA,MAAA,iEAKAG,EAAA,IAAAE,GACCC,EAAAC,EAAA,GACCF,GADD,mBAID,CACD,CACA,MAAA,CAAA,CACD,CACD,CACD,YA5IIG,EAAA,CAAA,MAAA,mFAAA,EAkCIC,EAAA,CAAA,MAAA,WAAA,EAEHC,EAAA,CAAA,MAAA,uFAAA,EAEKC,EAAA,CAAA,MAAA,wBAAA,EACAC,EAAA,CAAA,MAAA,oBAAA,EAKFC,EAAA,CAAA,MAAA,UAAA,iFA/CPC,IAAAC,EAAA,MAAAC,EAAA,eAEEC,EAAA,SAAAT,EAAA,qDAIkH,OAAA,CAAA,QAAAU,EAAA,IAAA,IAAA,KAAmD,MAAAA,EAAA,IAAA,2CAA8F,OAAA,CAAA,QAAAA,EAAA,IAAA,IAAA,OAiBhP,QAAAC,EAAA,IAAA,CAETD,EAAA,IAAA,SAAA,4BACN,QAAA,QACA,YAAA,gBACA,MAAA,sBACA,MAAA,iEA9BPE,EAAA,GAAA,EAAA,wCAsCGH,EAAA,MAAAR,EAAA,CACCQ,EAAA,MAAAP,EAAA,CAGCO,EAAA,MAAAN,EAAA,CACCM,EAAA,KAAAL,EAAAS,EAAAH,EAAA,IAAA,KAAA,EAAA,CAAA,OACO,MAAA,mDAIVD,EAAA,MAAAJ,EAAA,oBAhDH,QAAAM,EAAA,IAAA,0DAAAC,EAAA,GAAA,EAAA"}