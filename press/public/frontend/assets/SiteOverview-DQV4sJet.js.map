{"version":3,"mappings":"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","names":["_sfc_main","SitePlansTable","defineAsyncComponent","__vitePreload","PlanIcon","value","_a","plan","india","price_field","price","currency","f","processedPlans","_hoisted_4","_hoisted_5","_hoisted_10","_hoisted_11","_hoisted_13","_hoisted_14","$props","_withCtx","$options","_ctx","_createCommentVNode","_openBlock","_createElementBlock","_hoisted_2","_hoisted_3","_createElementVNode","_createTextVNode","_toDisplayString","_hoisted_7","_hoisted_8","_cache","_hoisted_9","_Fragment","_renderList","d","_hoisted_12","$data","$event","_hoisted_1","_vShow","SiteDrop","autoUpdateCheckbox","event","notify","_hoisted_6","args","showDialog","domain","closeDialog","workingRedirects","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_19","_hoisted_20","_hoisted_22","_hoisted_23","_hoisted_25","_hoisted_26","_hoisted_18","_hoisted_21","_hoisted_24","_hoisted_27","_hoisted_28","localTimezone","DateTime","plan_limit","description","activity","a"],"sources":["../../../../dashboard/src/views/site/SiteOverviewPlan.vue","../../../../dashboard/src/views/site/SiteDrop.vue","../../../../dashboard/src/views/site/SiteOverviewInfo.vue","../../../../dashboard/src/views/site/SiteOverviewDomains.vue","../../../../dashboard/src/views/site/SiteOverviewCPUUsage.vue","../../../../dashboard/src/views/site/SiteActivity.vue"],"sourcesContent":["<template>\n\t<Card\n\t\ttitle=\"Plan\"\n\t\t:subtitle=\"\n\t\t\tsite.status == 'Suspended'\n\t\t\t\t? 'Set a plan to activate your suspended site'\n\t\t\t\t: 'Upgrade or downgrade your plan based on your usage'\n\t\t\"\n\t\tv-if=\"site.status != 'Inactive'\"\n\t>\n\t\t<template #actions>\n\t\t\t<Tooltip\n\t\t\t\t:text=\"\n\t\t\t\t\t!permissions.changePlan\n\t\t\t\t\t\t? `You don't have enough permissions to perform this action`\n\t\t\t\t\t\t: 'Change Plan'\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\t:disabled=\"!permissions.changePlan\"\n\t\t\t\t\tv-if=\"['Active', 'Suspended'].includes(site.status) && canChangePlan\"\n\t\t\t\t\t@click=\"\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tshowChangePlanDialog = true;\n\t\t\t\t\t\t\t!plans.length && $resources.plans.fetch();\n\t\t\t\t\t\t}\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\t{{ site.status == 'Suspended' ? 'Set Plan' : 'Change Plan' }}\n\t\t\t\t</Button>\n\t\t\t</Tooltip>\n\t\t</template>\n\n\t\t<div v-if=\"!plan\" class=\"flex items-center justify-center py-20\">\n\t\t\t<Button :loading=\"true\" loading-text=\"Loading\" />\n\t\t</div>\n\t\t<div v-else>\n\t\t\t<div\n\t\t\t\tv-if=\"plan.current_plan\"\n\t\t\t\tclass=\"flex items-center rounded-lg bg-gray-50 p-5\"\n\t\t\t>\n\t\t\t\t<PlanIcon />\n\t\t\t\t<div class=\"ml-4\">\n\t\t\t\t\t<h4 class=\"text-4xl font-semibold text-gray-900\">\n\t\t\t\t\t\t{{ $planTitle(plan.current_plan) }}\n\t\t\t\t\t\t<span v-if=\"plan.current_plan.price_usd > 0\" class=\"text-lg\">\n\t\t\t\t\t\t\t/mo\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</h4>\n\t\t\t\t\t<p\n\t\t\t\t\t\tclass=\"text-base text-gray-700\"\n\t\t\t\t\t\tv-if=\"plan.current_plan.dedicated_server_plan\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ plan.current_plan.cpu_time_per_day }}\n\t\t\t\t\t\t{{ $plural(plan.current_plan.cpu_time_per_day, 'hour', 'hours') }}\n\t\t\t\t\t\tof CPU / day\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-else class=\"flex rounded-lg bg-gray-50 p-5\">\n\t\t\t\t<div>\n\t\t\t\t\t<h4 class=\"font-semibold text-gray-600\">No Plan Set</h4>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div v-if=\"plan.current_plan\" class=\"mt-4 grid grid-cols-3 gap-12\">\n\t\t\t\t<div v-for=\"d in usage\" :key=\"d.label\">\n\t\t\t\t\t<ProgressArc\n\t\t\t\t\t\t:percentage=\"\n\t\t\t\t\t\t\tplan.current_plan.dedicated_server_plan ? 33 : d.percentage\n\t\t\t\t\t\t\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div class=\"mt-2 text-base font-medium text-gray-900\">\n\t\t\t\t\t\t{{ d.label }}\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\tisNaN(d.percentage) || plan.current_plan.dedicated_server_plan\n\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t: `(${Number(d.percentage).toFixed(1)}%)`\n\t\t\t\t\t\t}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"mt-1 text-xs text-gray-600\">{{ d.value }}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-else class=\"ml-2 mt-4 grid grid-cols-3 gap-12\">\n\t\t\t\t<div v-for=\"d in usage\" :key=\"d.label\">\n\t\t\t\t\t<div class=\"text-base font-medium text-gray-900\">\n\t\t\t\t\t\t{{ d.label }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"mt-1 text-xs text-gray-600\">{{ d.value }}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<SitePlansDialog\n\t\t\t\t:site=\"site\"\n\t\t\t\t:plan=\"plan\"\n\t\t\t\tv-model=\"showChangePlanDialog\"\n\t\t\t\t@plan-change=\"() => $emit('plan-change')\"\n\t\t\t/>\n\t\t</div>\n\t</Card>\n</template>\n<script>\nimport { defineAsyncComponent } from 'vue';\nimport SitePlansTable from '@/components/SitePlansTable.vue';\nimport ProgressArc from '@/components/ProgressArc.vue';\nimport PlanIcon from '@/components/PlanIcon.vue';\n\nexport default {\n\tname: 'SiteOverviewPlan',\n\tprops: ['site', 'plan'],\n\tcomponents: {\n\t\tSitePlansTable,\n\t\tProgressArc,\n\t\tSitePlansDialog: defineAsyncComponent(() =>\n\t\t\timport('./SitePlansDialog.vue')\n\t\t),\n\t\tPlanIcon\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshowChangePlanDialog: false,\n\t\t\tselectedPlan: null,\n\t\t\tvalidationMessage: null\n\t\t};\n\t},\n\twatch: {\n\t\tasync selectedPlan(value) {\n\t\t\tif (!value) return;\n\n\t\t\ttry {\n\t\t\t\t// custom plan validation for frappe support\n\t\t\t\tlet result = await this.$call('validate_plan_change', {\n\t\t\t\t\tcurrent_plan: this.plan.current_plan,\n\t\t\t\t\tnew_plan: value,\n\t\t\t\t\tcurrency: this.$account.team.currency\n\t\t\t\t});\n\t\t\t\tthis.validationMessage = result;\n\t\t\t} catch (e) {\n\t\t\t\tthis.validationMessage = null;\n\t\t\t}\n\t\t}\n\t},\n\tresources: {\n\t\tplans() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.site.get_plans',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.site?.name\n\t\t\t\t},\n\t\t\t\tinitialData: []\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\tplan_title(plan) {\n\t\t\tlet india = this.$account.team.country == 'India';\n\t\t\tlet currency = india ? '₹' : '$';\n\t\t\tlet price_field = india ? 'price_inr' : 'price_usd';\n\t\t\tlet price = plan.current_plan[price_field];\n\t\t\treturn price > 0 ? `${currency}${price}` : plan.current_plan.plan_title;\n\t\t},\n\n\t\tbelowCurrentUsage(plan) {\n\t\t\treturn (\n\t\t\t\tthis.plan.total_storage_usage > plan.max_storage_usage ||\n\t\t\t\tthis.plan.total_database_usage > plan.max_database_usage\n\t\t\t);\n\t\t},\n\n\t\tgetCurrentFormattedUsage() {\n\t\t\tlet f = value => {\n\t\t\t\treturn this.formatBytes(value, 0, 2);\n\t\t\t};\n\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'CPU',\n\t\t\t\t\tvalue: `${this.plan.total_cpu_usage_hours} hours`\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Database',\n\t\t\t\t\tvalue: f(this.plan.total_database_usage)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Storage',\n\t\t\t\t\tvalue: f(this.plan.total_storage_usage)\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\t},\n\tcomputed: {\n\t\tpermissions() {\n\t\t\treturn {\n\t\t\t\tchangePlan: this.$account.hasPermission(\n\t\t\t\t\tthis.site.name,\n\t\t\t\t\t'press.api.site.change_plan'\n\t\t\t\t)\n\t\t\t};\n\t\t},\n\t\tcanChangePlan() {\n\t\t\treturn this.site.can_change_plan;\n\t\t},\n\t\tplans() {\n\t\t\tlet processedPlans = this.$resources.plans.data.map(plan => {\n\t\t\t\tif (this.belowCurrentUsage(plan)) {\n\t\t\t\t\tplan.disabled = true;\n\t\t\t\t}\n\n\t\t\t\tif (this.site.status === 'Suspended') {\n\t\t\t\t\treturn plan;\n\t\t\t\t}\n\n\t\t\t\t// If this `plan` is currently in use\n\t\t\t\tif (this.plan.current_plan.name === plan.name) {\n\t\t\t\t\tplan.disabled = true;\n\t\t\t\t}\n\n\t\t\t\treturn plan;\n\t\t\t});\n\n\t\t\tif (this.site.status === 'Suspended') {\n\t\t\t\tprocessedPlans = processedPlans.filter(p => !p.disabled);\n\t\t\t}\n\n\t\t\treturn processedPlans;\n\t\t},\n\t\tusage() {\n\t\t\tlet f = value => {\n\t\t\t\treturn this.formatBytes(value, 2, 2);\n\t\t\t};\n\n\t\t\tif (!this.plan.current_plan || this.site.status === 'Suspended') {\n\t\t\t\treturn this.getCurrentFormattedUsage();\n\t\t\t}\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'CPU',\n\t\t\t\t\tvalue: this.plan.current_plan.dedicated_server_plan\n\t\t\t\t\t\t? `${this.plan.total_cpu_usage_hours} ${this.$plural(\n\t\t\t\t\t\t\t\tthis.plan.current_plan.cpu_time_per_day,\n\t\t\t\t\t\t\t\t'hour',\n\t\t\t\t\t\t\t\t'hours'\n\t\t\t\t\t\t  )}`\n\t\t\t\t\t\t: `${this.plan.total_cpu_usage_hours} / ${\n\t\t\t\t\t\t\t\tthis.plan.current_plan.cpu_time_per_day\n\t\t\t\t\t\t  } ${this.$plural(\n\t\t\t\t\t\t\t\tthis.plan.current_plan.cpu_time_per_day,\n\t\t\t\t\t\t\t\t'hour',\n\t\t\t\t\t\t\t\t'hours'\n\t\t\t\t\t\t  )}`,\n\t\t\t\t\tpercentage:\n\t\t\t\t\t\t(this.plan.total_cpu_usage_hours /\n\t\t\t\t\t\t\tthis.plan.current_plan.cpu_time_per_day) *\n\t\t\t\t\t\t100\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Database',\n\t\t\t\t\tvalue: this.plan.current_plan.dedicated_server_plan\n\t\t\t\t\t\t? f(this.plan.total_database_usage)\n\t\t\t\t\t\t: `${f(this.plan.total_database_usage)} / ${f(\n\t\t\t\t\t\t\t\tthis.plan.current_plan.max_database_usage\n\t\t\t\t\t\t  )}`,\n\t\t\t\t\tpercentage:\n\t\t\t\t\t\t(this.plan.total_database_usage /\n\t\t\t\t\t\t\tthis.plan.current_plan.max_database_usage) *\n\t\t\t\t\t\t100\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Storage',\n\t\t\t\t\tvalue: this.plan.current_plan.dedicated_server_plan\n\t\t\t\t\t\t? f(this.plan.total_storage_usage)\n\t\t\t\t\t\t: `${f(this.plan.total_storage_usage)} / ${f(\n\t\t\t\t\t\t\t\tthis.plan.current_plan.max_storage_usage\n\t\t\t\t\t\t  )}`,\n\t\t\t\t\tpercentage:\n\t\t\t\t\t\t(this.plan.total_storage_usage /\n\t\t\t\t\t\t\tthis.plan.current_plan.max_storage_usage) *\n\t\t\t\t\t\t100\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<div class=\"shrink-0\">\n\t\t<slot v-bind=\"{ showDialog }\"></slot>\n\t\t<Dialog\n\t\t\t:options=\"{\n\t\t\t\ttitle: 'Drop Site',\n\t\t\t\tactions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: site.archive_failed ? 'Force Drop Site' : 'Drop Site',\n\t\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\t\ttheme: 'red',\n\t\t\t\t\t\tloading: $resources.dropSite.loading,\n\t\t\t\t\t\tonClick: () => $resources.dropSite.submit()\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\"\n\t\t\tv-model=\"dialogOpen\"\n\t\t>\n\t\t\t<template v-slot:body-content>\n\t\t\t\t<p class=\"text-base\">\n\t\t\t\t\tAre you sure you want to drop your site? The site will be archived and\n\t\t\t\t\tall of its files and Offsite Backups will be deleted. This action\n\t\t\t\t\tcannot be undone.\n\t\t\t\t</p>\n\t\t\t\t<p class=\"mt-4 text-base\">\n\t\t\t\t\tPlease type\n\t\t\t\t\t<span class=\"font-semibold\">{{ site.name }}</span> to confirm.\n\t\t\t\t</p>\n\t\t\t\t<FormControl class=\"mt-4 w-full\" v-model=\"confirmSiteName\" />\n\t\t\t\t<div class=\"mt-4\">\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tv-show=\"!site.archive_failed\"\n\t\t\t\t\t\tid=\"auto-update-checkbox\"\n\t\t\t\t\t\tv-model=\"forceDrop\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tlabel=\"Force\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<ErrorMessage class=\"mt-2\" :message=\"$resources.dropSite.error\" />\n\t\t\t</template>\n\t\t</Dialog>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'SiteDrop',\n\tprops: ['site'],\n\tdata() {\n\t\treturn {\n\t\t\tdialogOpen: false,\n\t\t\tconfirmSiteName: null,\n\t\t\tforceDrop: false\n\t\t};\n\t},\n\tresources: {\n\t\tdropSite() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.site.archive',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.site?.name,\n\t\t\t\t\tforce: this.site.archive_failed == true ? true : this.forceDrop\n\t\t\t\t},\n\t\t\t\tonSuccess() {\n\t\t\t\t\tthis.dialogOpen = false;\n\t\t\t\t\tthis.$router.push('/sites');\n\t\t\t\t},\n\t\t\t\tvalidate() {\n\t\t\t\t\tif (this.site?.name !== this.confirmSiteName) {\n\t\t\t\t\t\treturn 'Please type the site name to confirm';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\tshowDialog() {\n\t\t\tthis.dialogOpen = true;\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<Card title=\"Site Info\" subtitle=\"General information about your site\">\n\t\t<div class=\"divide-y\">\n\t\t\t<div class=\"flex items-center py-3\">\n\t\t\t\t<Avatar\n\t\t\t\t\tv-if=\"info.owner\"\n\t\t\t\t\t:image=\"info.owner.user_image\"\n\t\t\t\t\t:label=\"info.owner.first_name\"\n\t\t\t\t/>\n\t\t\t\t<div class=\"ml-3 flex flex-1 items-center justify-between\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"text-base text-gray-600\">Owned By</div>\n\t\t\t\t\t\t<div class=\"text-base font-medium text-gray-900\">\n\t\t\t\t\t\t\t{{ info.owner.first_name }}\n\t\t\t\t\t\t\t{{ info.owner.last_name }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"text-right\">\n\t\t\t\t\t\t<div class=\"text-base text-gray-600\">Created On</div>\n\t\t\t\t\t\t<div class=\"text-base font-medium text-gray-900\">\n\t\t\t\t\t\t\t{{ formatDate(info.created_on, 'DATE_FULL') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"info.last_deployed\" class=\"text-right\">\n\t\t\t\t\t\t<div class=\"text-base text-gray-600\">Last Deployed</div>\n\n\t\t\t\t\t\t<div class=\"text-base font-medium text-gray-900\">\n\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t$date(info.last_deployed).toLocaleString({\n\t\t\t\t\t\t\t\t\tmonth: 'long',\n\t\t\t\t\t\t\t\t\tday: 'numeric'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ListItem\n\t\t\t\tv-if=\"site.group && site.status !== 'Pending'\"\n\t\t\t\ttitle=\"Auto Update Site\"\n\t\t\t\tclass=\"overflow-x-hidden\"\n\t\t\t\tdescription=\"Automatically schedule site updates whenever available\"\n\t\t\t>\n\t\t\t\t<template v-slot:actions>\n\t\t\t\t\t<LoadingIndicator class=\"h-4 w-4\" v-if=\"loading\" />\n\t\t\t\t\t<input\n\t\t\t\t\t\tv-show=\"!loading\"\n\t\t\t\t\t\tid=\"auto-update-checkbox\"\n\t\t\t\t\t\t@input=\"changeAutoUpdateSettings\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tclass=\"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n\t\t\t\t\t/>\n\t\t\t\t</template>\n\t\t\t</ListItem>\n\t\t\t<ListItem\n\t\t\t\tv-if=\"site.status == 'Active'\"\n\t\t\t\ttitle=\"Deactivate Site\"\n\t\t\t\tdescription=\"The site will go inactive and won't be publicly accessible\"\n\t\t\t>\n\t\t\t\t<template v-slot:actions>\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t:text=\"\n\t\t\t\t\t\t\t!permissions.deactivate\n\t\t\t\t\t\t\t\t? `You don't have enough permissions to perform this action`\n\t\t\t\t\t\t\t\t: 'Deactivate Site'\n\t\t\t\t\t\t\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t@click=\"onDeactivateClick\"\n\t\t\t\t\t\t\tclass=\"shrink-0\"\n\t\t\t\t\t\t\t:disabled=\"!permissions.deactivate\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDeactivate Site\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</template>\n\t\t\t</ListItem>\n\n\t\t\t<ListItem\n\t\t\t\tv-if=\"['Inactive', 'Broken'].includes(site.status)\"\n\t\t\t\ttitle=\"Activate Site\"\n\t\t\t\tdescription=\"The site will become active and will be accessible\"\n\t\t\t>\n\t\t\t\t<template v-slot:actions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\t@click=\"onActivateClick\"\n\t\t\t\t\t\tclass=\"shrink-0\"\n\t\t\t\t\t\t:variant=\"site.status === 'Broken' ? 'solid' : 'subtle'\"\n\t\t\t\t\t>\n\t\t\t\t\t\tActivate Site\n\t\t\t\t\t</Button>\n\t\t\t\t</template>\n\t\t\t</ListItem>\n\n\t\t\t<ListItem\n\t\t\t\tv-if=\"site.status !== 'Pending'\"\n\t\t\t\ttitle=\"Drop Site\"\n\t\t\t\tdescription=\"Once you drop site your site, there is no going back\"\n\t\t\t>\n\t\t\t\t<template v-slot:actions>\n\t\t\t\t\t<SiteDrop :site=\"site\" v-slot=\"{ showDialog }\">\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t:text=\"\n\t\t\t\t\t\t\t\t!permissions.drop\n\t\t\t\t\t\t\t\t\t? `You don't have enough permissions to perform this action`\n\t\t\t\t\t\t\t\t\t: 'Drop Site'\n\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttheme=\"red\"\n\t\t\t\t\t\t\t\t:disabled=\"!permissions.drop\"\n\t\t\t\t\t\t\t\t@click=\"showDialog\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tDrop Site\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</SiteDrop>\n\t\t\t\t</template>\n\t\t\t</ListItem>\n\t\t</div>\n\t</Card>\n</template>\n<script>\nimport SiteDrop from './SiteDrop.vue';\nimport { notify } from '@/utils/toast';\n\nexport default {\n\tname: 'SiteOverviewInfo',\n\tprops: ['site', 'info'],\n\tcomponents: { SiteDrop },\n\tdata() {\n\t\treturn {\n\t\t\tloading: false\n\t\t};\n\t},\n\tmounted() {\n\t\tconst autoUpdateCheckbox = document.getElementById('auto-update-checkbox');\n\n\t\tif (autoUpdateCheckbox) {\n\t\t\tautoUpdateCheckbox.checked = this.info.auto_updates_enabled;\n\t\t}\n\t},\n\tmethods: {\n\t\tchangeAutoUpdateSettings(event) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.loading = true;\n\n\t\t\treturn this.$call('press.api.site.change_auto_update', {\n\t\t\t\tname: this.site.name,\n\t\t\t\tauto_update_enabled: event.target.checked\n\t\t\t}).then(() => {\n\t\t\t\tsetTimeout(() => window.location.reload(), 1000);\n\t\t\t});\n\t\t},\n\t\tonDeactivateClick() {\n\t\t\tthis.$confirm({\n\t\t\t\ttitle: 'Deactivate Site',\n\t\t\t\tmessage: `\n\t\t\t\t\tAre you sure you want to deactivate this site? The site will go in an inactive state.\n\t\t\t\t\tIt won't be accessible and background jobs won't run. You will <strong>still be charged</strong> for it.\n\t\t\t\t`,\n\t\t\t\tactionLabel: 'Deactivate',\n\t\t\t\tactionColor: 'red',\n\t\t\t\taction: () => this.deactivate()\n\t\t\t});\n\t\t},\n\t\tonActivateClick() {\n\t\t\tthis.$confirm({\n\t\t\t\ttitle: 'Activate Site',\n\t\t\t\tmessage: `Are you sure you want to activate this site?\n\t\t\t\t<br><br><strong>Note: Use this as last resort if site is broken and inaccessible</strong>`,\n\t\t\t\tactionLabel: 'Activate',\n\t\t\t\taction: () => this.activate()\n\t\t\t});\n\t\t},\n\t\tdeactivate() {\n\t\t\treturn this.$call('press.api.site.deactivate', {\n\t\t\t\tname: this.site.name\n\t\t\t}).then(() => {\n\t\t\t\tsetTimeout(() => window.location.reload(), 1000);\n\t\t\t});\n\t\t},\n\t\tactivate() {\n\t\t\tthis.$call('press.api.site.activate', {\n\t\t\t\tname: this.site.name\n\t\t\t});\n\t\t\tnotify({\n\t\t\t\ttitle: 'Site activated successfully!',\n\t\t\t\tmessage: 'You can now access your site',\n\t\t\t\ticon: 'check',\n\t\t\t\tcolor: 'green'\n\t\t\t});\n\t\t\tsetTimeout(() => window.location.reload(), 1000);\n\t\t}\n\t},\n\tcomputed: {\n\t\tpermissions() {\n\t\t\treturn {\n\t\t\t\tdrop: this.$account.hasPermission(\n\t\t\t\t\tthis.site.name,\n\t\t\t\t\t'press.api.site.archive'\n\t\t\t\t),\n\t\t\t\tdeactivate: this.$account.hasPermission(\n\t\t\t\t\tthis.site.name,\n\t\t\t\t\t'press.api.site.deactivate'\n\t\t\t\t)\n\t\t\t};\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<Card\n\t\ttitle=\"Domains\"\n\t\t:subtitle=\"\n\t\t\tdomains.data && domains.data.length\n\t\t\t\t? 'Domains pointing to your site'\n\t\t\t\t: 'No domains pointing to your site'\n\t\t\"\n\t>\n\t\t<template #actions>\n\t\t\t<Button\n\t\t\t\t@click=\"showDialog = true\"\n\t\t\t\t:disabled=\"site.status === 'Suspended'\"\n\t\t\t>\n\t\t\t\tAdd Domain\n\t\t\t</Button>\n\t\t</template>\n\t\t<div class=\"divide-y\" v-if=\"domains.data\">\n\t\t\t<div v-for=\"d in domains.data\" :key=\"d.name\">\n\t\t\t\t<div class=\"py-2\">\n\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t<div class=\"flex w-2/3 text-base font-medium\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclass=\"text-blue-500\"\n\t\t\t\t\t\t\t\t:href=\"'https://' + d.domain\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\tv-if=\"d.status === 'Active'\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ d.domain }}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<span v-else>{{ d.domain }}</span>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"flex\"\n\t\t\t\t\t\t\t\tv-if=\"d.redirect_to_primary == 1 && d.status == 'Active'\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FeatherIcon name=\"arrow-right\" class=\"mx-1 w-4\" />\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclass=\"text-blue-500\"\n\t\t\t\t\t\t\t\t\t:href=\"'https://' + d.domain\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\tv-if=\"d.status === 'Active'\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ site.host_name }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"ml-auto flex items-center space-x-2\">\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tv-if=\"d.status == 'Active' && d.primary\"\n\t\t\t\t\t\t\t\t:label=\"'Primary'\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Badge v-else-if=\"d.status != 'Active'\" :label=\"d.status\" />\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tv-if=\"d.status == 'Broken' && d.retry_count <= 5\"\n\t\t\t\t\t\t\t\t:loading=\"$resources.retryAddDomain.loading\"\n\t\t\t\t\t\t\t\t@click=\"\n\t\t\t\t\t\t\t\t\t$resources.retryAddDomain.submit({\n\t\t\t\t\t\t\t\t\t\tname: site.name,\n\t\t\t\t\t\t\t\t\t\tdomain: d.domain\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tRetry\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button v-if=\"$resources.removeDomain.loading\" :loading=\"true\">\n\t\t\t\t\t\t\t\tRemoving domain\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Dropdown v-else :options=\"actionItems(d)\">\n\t\t\t\t\t\t\t\t<template v-slot=\"{ open }\">\n\t\t\t\t\t\t\t\t\t<Button icon=\"more-horizontal\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ErrorMessage\n\t\t\t\t\t\tv-if=\"d.status == 'Broken'\"\n\t\t\t\t\t\terror=\"We encountered an error while adding the domain.\"\n\t\t\t\t\t/>\n\t\t\t\t\t<ErrorMessage :message=\"$resources.removeDomain.error\" />\n\t\t\t\t\t<ErrorMessage :message=\"$resources.setHostName.error\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<Dialog v-model=\"showDialog\" :options=\"{ title: 'Add Domain' }\">\n\t\t\t<template v-slot:body-content>\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<p class=\"text-base\">\n\t\t\t\t\t\tTo add a custom domain, you must already own it. If you don't have\n\t\t\t\t\t\tone, buy it and come back here.\n\t\t\t\t\t</p>\n\t\t\t\t\t<FormControl\n\t\t\t\t\t\tplaceholder=\"www.example.com\"\n\t\t\t\t\t\tv-model=\"newDomain\"\n\t\t\t\t\t\t:readonly=\"dnsVerified\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div v-if=\"newDomain && !dnsVerified\" class=\"space-y-2 text-base\">\n\t\t\t\t\t\t<p>Create one of the following DNS records</p>\n\t\t\t\t\t\t<p class=\"px-2\">\n\t\t\t\t\t\t\t<span class=\"font-semibold text-gray-700\">CNAME</span> record from\n\t\t\t\t\t\t\t<span class=\"font-semibold text-gray-700\">{{ newDomain }}</span>\n\t\t\t\t\t\t\tto\n\t\t\t\t\t\t\t<span class=\"font-semibold text-gray-700\">{{ site.name }}</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p class=\"px-2\">\n\t\t\t\t\t\t\t<span class=\"font-semibold text-gray-700\">A</span> record from\n\t\t\t\t\t\t\t<span class=\"font-semibold text-gray-700\">{{ newDomain }}</span>\n\t\t\t\t\t\t\tto\n\t\t\t\t\t\t\t<span class=\"font-semibold text-gray-700\">{{ site.ip }}</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"dnsResult && !dnsResult.matched\" class=\"space-y-2\">\n\t\t\t\t\t\t<p class=\"text-base\">\n\t\t\t\t\t\t\tReceived following DNS query responses for\n\t\t\t\t\t\t\t<span class=\"font-semibold text-gray-700\">{{ newDomain }}</span\n\t\t\t\t\t\t\t>.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"newDomain && dnsResult.CNAME && !dnsResult.CNAME.matched\"\n\t\t\t\t\t\t\tclass=\"space-y-2\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p class=\"text-base\">\n\t\t\t\t\t\t\t\t<span class=\"font-semibold text-gray-700\">CNAME</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"flex flex-row items-center justify-between rounded-lg border-2 p-2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\tclass=\"select-all overflow-hidden font-mono text-sm text-gray-800\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ dnsResult.CNAME.answer }}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"newDomain && dnsResult.A && !dnsResult.A.matched\"\n\t\t\t\t\t\t\tclass=\"space-y-2\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<p class=\"text-base\">\n\t\t\t\t\t\t\t\t<span class=\"font-semibold text-gray-700\">A</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"flex flex-row items-center justify-between rounded-lg border-2 p-2\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\tclass=\"select-all overflow-hidden font-mono text-sm text-gray-800\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ dnsResult.A.answer }}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class=\"flex text-base\" v-if=\"dnsVerified === false\">\n\t\t\t\t\t\t<FeatherIcon\n\t\t\t\t\t\t\tname=\"x\"\n\t\t\t\t\t\t\tclass=\"mr-2 h-5 w-5 rounded-full bg-red-100 p-1 text-red-500\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tDNS Verification Failed\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class=\"flex text-base\" v-if=\"dnsVerified === true\">\n\t\t\t\t\t\t<FeatherIcon\n\t\t\t\t\t\t\tname=\"check\"\n\t\t\t\t\t\t\tclass=\"mr-2 h-5 w-5 rounded-full bg-green-100 p-1 text-green-500\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\tDNS records successfully verified. Click on Add Domain.\n\t\t\t\t\t</p>\n\t\t\t\t\t<ErrorMessage :message=\"$resources.checkDNS.error\" />\n\t\t\t\t\t<ErrorMessage :message=\"$resources.addDomain.error\" />\n\t\t\t\t\t<ErrorMessage :message=\"$resources.retryAddDomain.error\" />\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t<template #actions>\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"!dnsVerified\"\n\t\t\t\t\tclass=\"mt-2 w-full\"\n\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\t:loading=\"$resources.checkDNS.loading\"\n\t\t\t\t\t@click=\"\n\t\t\t\t\t\t$resources.checkDNS.submit({\n\t\t\t\t\t\t\tname: site.name,\n\t\t\t\t\t\t\tdomain: newDomain\n\t\t\t\t\t\t})\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\tVerify DNS\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"dnsVerified\"\n\t\t\t\t\tclass=\"mt-2 w-full\"\n\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\t:loading=\"$resources.addDomain.loading\"\n\t\t\t\t\t@click=\"\n\t\t\t\t\t\t$resources.addDomain.submit({\n\t\t\t\t\t\t\tname: site.name,\n\t\t\t\t\t\t\tdomain: newDomain\n\t\t\t\t\t\t})\n\t\t\t\t\t\"\n\t\t\t\t>\n\t\t\t\t\tAdd Domain\n\t\t\t\t</Button>\n\t\t\t</template>\n\t\t</Dialog>\n\t</Card>\n</template>\n\n<script>\nimport { notify } from '@/utils/toast';\n\nexport default {\n\tname: 'SiteOverviewDomains',\n\tprops: ['site'],\n\tdata() {\n\t\treturn {\n\t\t\tshowDialog: false,\n\t\t\tnewDomain: null\n\t\t};\n\t},\n\tresources: {\n\t\tdomains() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.site.domains',\n\t\t\t\tparams: { name: this.site?.name },\n\t\t\t\tauto: true\n\t\t\t};\n\t\t},\n\t\tcheckDNS: {\n\t\t\turl: 'press.api.site.check_dns',\n\t\t\tvalidate() {\n\t\t\t\tif (!this.newDomain) return 'Domain cannot be empty';\n\t\t\t}\n\t\t},\n\t\taddDomain: {\n\t\t\turl: 'press.api.site.add_domain',\n\t\t\tonSuccess() {\n\t\t\t\tthis.$resources.checkDNS.reset();\n\t\t\t\tthis.$resources.domains.reload();\n\t\t\t\tthis.showDialog = false;\n\t\t\t}\n\t\t},\n\t\tremoveDomain: {\n\t\t\turl: 'press.api.site.remove_domain',\n\t\t\tonSuccess() {\n\t\t\t\tthis.$resources.domains.reload();\n\t\t\t}\n\t\t},\n\t\tretryAddDomain: {\n\t\t\turl: 'press.api.site.retry_add_domain',\n\t\t\tonSuccess() {\n\t\t\t\tthis.$resources.domains.fetch();\n\t\t\t}\n\t\t},\n\t\tsetHostName: {\n\t\t\turl: 'press.api.site.set_host_name',\n\t\t\tonSuccess() {\n\t\t\t\tthis.$resources.domains.reload();\n\t\t\t}\n\t\t},\n\t\tsetupRedirect: {\n\t\t\turl: 'press.api.site.set_redirect',\n\t\t\tonSuccess() {\n\t\t\t\tthis.$resources.domains.reload();\n\t\t\t}\n\t\t},\n\t\tremoveRedirect: {\n\t\t\turl: 'press.api.site.unset_redirect',\n\t\t\tonSuccess() {\n\t\t\t\tthis.$resources.domains.reload();\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tdomains() {\n\t\t\treturn this.$resources.domains;\n\t\t},\n\t\tdnsVerified() {\n\t\t\treturn this.dnsResult?.matched;\n\t\t},\n\t\tdnsResult() {\n\t\t\treturn this.$resources.checkDNS.data;\n\t\t},\n\t\tprimaryDomain() {\n\t\t\treturn this.$resources.domains.data.filter(d => d.primary)[0].domain;\n\t\t}\n\t},\n\twatch: {\n\t\tnewDomain() {\n\t\t\tthis.$resources.checkDNS.reset();\n\t\t}\n\t},\n\tmethods: {\n\t\tactionItems(domain) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Remove',\n\t\t\t\t\tonClick: () => this.confirmRemoveDomain(domain.domain)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Set Primary',\n\t\t\t\t\tcondition: () => domain.status == 'Active' && !domain.primary,\n\t\t\t\t\tonClick: () => this.confirmSetPrimary(domain.domain)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Redirect to Primary',\n\t\t\t\t\tcondition: () =>\n\t\t\t\t\t\tdomain.status == 'Active' &&\n\t\t\t\t\t\t!domain.primary &&\n\t\t\t\t\t\t!domain.redirect_to_primary,\n\t\t\t\t\tonClick: () => this.confirmSetupRedirect(domain.domain)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Remove Redirect',\n\t\t\t\t\tcondition: () =>\n\t\t\t\t\t\tdomain.status == 'Active' &&\n\t\t\t\t\t\t!domain.primary &&\n\t\t\t\t\t\tdomain.redirect_to_primary,\n\t\t\t\t\tonClick: () => this.confirmRemoveRedirect(domain.domain)\n\t\t\t\t}\n\t\t\t].filter(d => (d.condition ? d.condition() : true));\n\t\t},\n\t\tconfirmRemoveDomain(domain) {\n\t\t\tthis.$confirm({\n\t\t\t\ttitle: 'Remove Domain',\n\t\t\t\tmessage: `Are you sure you want to remove the domain <b>${domain}</b>?`,\n\t\t\t\tactionLabel: 'Remove',\n\t\t\t\tactionColor: 'red',\n\t\t\t\taction: closeDialog => {\n\t\t\t\t\tcloseDialog();\n\t\t\t\t\tthis.$resources.removeDomain.submit({\n\t\t\t\t\t\tname: this.site.name,\n\t\t\t\t\t\tdomain: domain\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tconfirmSetPrimary(domain) {\n\t\t\tlet workingRedirects = false;\n\t\t\tthis.$resources.domains.data.forEach(d => {\n\t\t\t\tif (d.redirect_to_primary) {\n\t\t\t\t\tworkingRedirects = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (workingRedirects) {\n\t\t\t\tnotify({\n\t\t\t\t\ttitle: 'Please Remove all Active Redirects',\n\t\t\t\t\tcolor: 'red',\n\t\t\t\t\ticon: 'x'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.$confirm({\n\t\t\t\t\ttitle: 'Set as Primary Domain',\n\t\t\t\t\tmessage: `Setting as primary will make <b>${domain}</b> the primary URL for your site. Do you want to continue?`,\n\t\t\t\t\tactionLabel: 'Set Primary',\n\t\t\t\t\taction: closeDialog => {\n\t\t\t\t\t\tcloseDialog();\n\t\t\t\t\t\tthis.$resources.setHostName.submit({\n\t\t\t\t\t\t\tname: this.site.name,\n\t\t\t\t\t\t\tdomain: domain\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tconfirmSetupRedirect(domain) {\n\t\t\tthis.$confirm({\n\t\t\t\ttitle: 'Redirect to Primary Domain',\n\t\t\t\tmessage: `Redirect to Primary will redirect <b>${domain}</b> to <b>${this.primaryDomain}</b>. Do you want to continue?`,\n\t\t\t\tactionLabel: 'Redirect to Primary',\n\t\t\t\taction: closeDialog => {\n\t\t\t\t\tcloseDialog();\n\t\t\t\t\tthis.$resources.setupRedirect.submit({\n\t\t\t\t\t\tname: this.site.name,\n\t\t\t\t\t\tdomain: domain\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tconfirmRemoveRedirect(domain) {\n\t\t\tthis.$confirm({\n\t\t\t\ttitle: 'Remove Redirect',\n\t\t\t\tmessage: `Remove Redirect will remove previously set up redirect from <b>${domain}</b> to <b>${this.primaryDomain}</b>. Do you want to continue?`,\n\t\t\t\tactionLabel: 'Remove Redirect',\n\t\t\t\taction: closeDialog => {\n\t\t\t\t\tcloseDialog();\n\t\t\t\t\tthis.$resources.removeRedirect.submit({\n\t\t\t\t\t\tname: this.site.name,\n\t\t\t\t\t\tdomain: domain\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<LineChart\n\t\ttype=\"time\"\n\t\ttitle=\"Daily Usage\"\n\t\t:key=\"dailyUsageData\"\n\t\t:data=\"dailyUsageData\"\n\t\tunit=\"seconds\"\n\t\t:chartTheme=\"[$theme.colors.purple[500]]\"\n\t\t:loading=\"$resources.requestCounter.loading\"\n\t\t:error=\"$resources.requestCounter.error\"\n\t>\n\t\t<template #actions>\n\t\t\t<router-link\n\t\t\t\tclass=\"text-base text-gray-600 hover:text-gray-700\"\n\t\t\t\t:to=\"`/sites/${site.name}/analytics`\"\n\t\t\t>\n\t\t\t\tAll analytics →\n\t\t\t</router-link>\n\t\t</template>\n\t</LineChart>\n</template>\n<script>\nimport { DateTime } from 'luxon';\nimport LineChart from '@/components/charts/LineChart.vue';\n\nexport default {\n\tname: 'CPUUsage',\n\tprops: ['site'],\n\tcomponents: { LineChart },\n\tresources: {\n\t\trequestCounter() {\n\t\t\tlet localTimezone = DateTime.local().zoneName;\n\t\t\treturn {\n\t\t\t\turl: 'press.api.analytics.daily_usage',\n\t\t\t\tparams: { name: this.site?.name, timezone: localTimezone },\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tdailyUsageData() {\n\t\t\tlet dailyUsageData = this.$resources.requestCounter.data?.data;\n\t\t\tif (!dailyUsageData) return;\n\t\t\tlet plan_limit = this.$resources.requestCounter.data.plan_limit;\n\n\t\t\treturn {\n\t\t\t\tdatasets: [\n\t\t\t\t\tdailyUsageData.map(d => [+new Date(d.date), d.value / 1000000])\n\t\t\t\t],\n\t\t\t\t// daily limit marker\n\t\t\t\tmarkLine: {\n\t\t\t\t\tdata: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'Daily Compute Limit',\n\t\t\t\t\t\t\tyAxis: plan_limit,\n\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\tformatter: '{b}: {c} seconds',\n\t\t\t\t\t\t\t\tposition: 'middle'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlineStyle: {\n\t\t\t\t\t\t\t\tcolor: '#f5222d'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tsymbol: ['none', 'none']\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<Card\n\t\tclass=\"h-full max-h-96 min-h-full\"\n\t\ttitle=\"Site Activity\"\n\t\tsubtitle=\"Log of activities performed on your site\"\n\t>\n\t\t<div class=\"divide-y\">\n\t\t\t<ListItem\n\t\t\t\tv-for=\"a in activities.data\"\n\t\t\t\t:key=\"a.creation\"\n\t\t\t\t:title=\"`${a.action} by ${a.owner}`\"\n\t\t\t\t:description=\"getDescription(a)\"\n\t\t\t/>\n\t\t</div>\n\t\t<div class=\"my-2\" v-if=\"$resources.activities.hasNextPage\">\n\t\t\t<Button\n\t\t\t\t:loading=\"$resources.activities.list.loading\"\n\t\t\t\tloadingText=\"Fetching...\"\n\t\t\t\t@click=\"$resources.activities.next()\"\n\t\t\t>\n\t\t\t\tLoad more\n\t\t\t</Button>\n\t\t</div>\n\n\t\t<template v-slot:actions>\n\t\t\t<Button @click=\"showChangeNotifyEmailDialog = true\">\n\t\t\t\tChange Notify Email\n\t\t\t</Button>\n\t\t</template>\n\t\t<Dialog\n\t\t\t:options=\"{\n\t\t\t\ttitle: 'Change Notify Email',\n\t\t\t\tactions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: 'Save Changes',\n\t\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\t\tloading: $resources.changeNotifyEmail.loading,\n\t\t\t\t\t\tonClick: () => $resources.changeNotifyEmail.submit()\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\"\n\t\t\tv-model=\"showChangeNotifyEmailDialog\"\n\t\t>\n\t\t\t<template v-slot:body-content>\n\t\t\t\t<FormControl v-model=\"site.notify_email\" />\n\t\t\t</template>\n\t\t</Dialog>\n\t</Card>\n</template>\n\n<script>\nimport { notify } from '@/utils/toast';\n\nexport default {\n\tname: 'SiteActivity',\n\tprops: ['site'],\n\tresources: {\n\t\tactivities() {\n\t\t\treturn {\n\t\t\t\ttype: 'list',\n\t\t\t\tdoctype: 'Site Activity',\n\t\t\t\turl: 'press.api.site.activities',\n\t\t\t\tfilters: {\n\t\t\t\t\tsite: this.site?.name\n\t\t\t\t},\n\t\t\t\tstart: 0,\n\t\t\t\tauto: true,\n\t\t\t\tpageLength: 20\n\t\t\t};\n\t\t},\n\t\tchangeNotifyEmail() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.site.change_notify_email',\n\t\t\t\tparams: {\n\t\t\t\t\tname: this.site?.name,\n\t\t\t\t\temail: this.site?.notify_email\n\t\t\t\t},\n\t\t\t\tonSuccess() {\n\t\t\t\t\tthis.showChangeNotifyEmailDialog = false;\n\t\t\t\t\tnotify({\n\t\t\t\t\t\ttitle: 'Notify Email Changed!',\n\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\tcolor: 'green'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tactivities() {\n\t\t\treturn this.$resources.activities;\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tshowChangeNotifyEmailDialog: false\n\t\t};\n\t},\n\tmethods: {\n\t\tgetDescription(activity) {\n\t\t\tlet description = '';\n\t\t\tif (activity.reason) {\n\t\t\t\tdescription += `Reason: ${activity.reason}\\n`;\n\t\t\t}\n\t\t\tdescription += this.formatDate(activity.creation);\n\t\t\treturn description;\n\t\t}\n\t}\n};\n</script>\n"],"file":"assets/SiteOverview-DQV4sJet.js"}