{"version":3,"file":"SecurityUpdates-BYPXWzMe.js","sources":["../../../../dashboard/src/views/security/SecurityUpdateInfo.vue","../../../../dashboard/src/views/security/SecurityUpdates.vue"],"sourcesContent":["<template>\n\t<CardDetails :showDetails=\"showDetails\">\n\t\t<div class=\"px-6 py-5\">\n\t\t\t<template v-if=\"showDetails\">\n\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h4 class=\"text-lg font-medium\">\n\t\t\t\t\t\t\tPackage: {{ secUpdateInfo.package }}\n\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t<p class=\"mt-1 text-sm text-gray-600\">\n\t\t\t\t\t\t\tVersion: {{ secUpdateInfo.version }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"justify-end\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"mr-4\"\n\t\t\t\t\t\t\t@click=\"redirectToUbuntuPage(secUpdateInfo.package)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span class=\"text-base text-blue-600\">More Info</span>\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\tclass=\"pointer-events-none\"\n\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\t\t:label=\"secUpdateInfo.priority\"\n\t\t\t\t\t\t\t:theme=\"getColor(secUpdateInfo.priority)\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<div v-else>\n\t\t\t\t<LoadingText v-if=\"loading\" />\n\t\t\t\t<span v-else class=\"text-center text-base text-gray-600\">\n\t\t\t\t\tNo item selected\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"flex-auto overflow-auto px-6\" v-if=\"showDetails\">\n\t\t\t<InfoSection\n\t\t\t\tsectionName=\"Package Meta\"\n\t\t\t\t:sectionData=\"secUpdateInfo.package_meta\"\n\t\t\t\t:defaultOpen=\"true\"\n\t\t\t/>\n\t\t\t<InfoSection\n\t\t\t\tsectionName=\"Change Log\"\n\t\t\t\t:sectionData=\"secUpdateInfo.change_log\"\n\t\t\t/>\n\t\t</div>\n\t</CardDetails>\n</template>\n<script>\nimport CardDetails from '@/components/CardDetails.vue';\nimport InfoSection from './InfoSection.vue';\n\nexport default {\n\tname: 'SecurityUpdateInfo',\n\tprops: ['updateId', 'showDetails'],\n\tinject: ['viewportWidth'],\n\tcomponents: {\n\t\tCardDetails,\n\t\tInfoSection\n\t},\n\tresources: {\n\t\tsecUpdateInfo() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.security.get_security_update_details',\n\t\t\t\tparams: { update_id: this.updateId },\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t},\n\tcomputed: {\n\t\tsecUpdateInfo() {\n\t\t\treturn this.$resources.secUpdateInfo.data;\n\t\t}\n\t},\n\tmethods: {\n\t\tgetColor(priority) {\n\t\t\tswitch (priority) {\n\t\t\t\tcase 'High':\n\t\t\t\t\treturn 'red';\n\t\t\t\tcase 'Medium':\n\t\t\t\t\treturn 'orange';\n\t\t\t\tcase 'Low':\n\t\t\t\t\treturn 'green';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'gray';\n\t\t\t}\n\t\t},\n\t\tredirectToUbuntuPage(packageName) {\n\t\t\twindow.open(`https://launchpad.net/ubuntu/+source/${packageName}`);\n\t\t}\n\t}\n};\n</script>\n","<template>\n\t<CardWithDetails title=\"Security Updates\" subtitle=\"Pending security updates\">\n\t\t<div>\n\t\t\t<router-link\n\t\t\t\tv-for=\"sec_update in $resources.updates.data\"\n\t\t\t\tclass=\"block cursor-pointer rounded-md px-2.5\"\n\t\t\t\t:class=\"\n\t\t\t\t\tupdateId === sec_update.name ? 'bg-gray-100' : 'hover:bg-gray-50'\n\t\t\t\t\"\n\t\t\t\t:key=\"sec_update.name\"\n\t\t\t\t:to=\"updateRoute(sec_update.name)\"\n\t\t\t>\n\t\t\t\t<ListItem\n\t\t\t\t\t:title=\"sec_update.package\"\n\t\t\t\t\t:description=\"formatDate(sec_update.datetime)\"\n\t\t\t\t>\n\t\t\t\t\t<template v-slot:actions>\n\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t:label=\"sec_update.priority\"\n\t\t\t\t\t\t\t:theme=\"getColor(sec_update.priority)\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</template>\n\t\t\t\t</ListItem>\n\t\t\t\t<div class=\"border-b\"></div>\n\t\t\t</router-link>\n\t\t\t<div class=\"py-3\" v-if=\"$resources.updates.hasNextPage\">\n\t\t\t\t<Button\n\t\t\t\t\t:loading=\"$resources.updates.list.loading\"\n\t\t\t\t\tloadingText=\"Loading...\"\n\t\t\t\t\t@click=\"$resources.updates.next()\"\n\t\t\t\t>\n\t\t\t\t\tLoad more\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\t\t<template #details>\n\t\t\t<SecurityUpdateInfo :showDetails=\"updateId\" :updateId=\"updateId\" />\n\t\t</template>\n\t</CardWithDetails>\n</template>\n<script>\nimport CardWithDetails from '@/components/CardWithDetails.vue';\nimport SecurityUpdateInfo from './SecurityUpdateInfo.vue';\nimport { formatDate } from '@vueuse/core';\n\nexport default {\n\tname: 'SecurityUpdates',\n\tprops: ['server', 'updateId'],\n\tinject: ['viewportWidth'],\n\tcomponents: {\n\t\tCardWithDetails,\n\t\tSecurityUpdateInfo\n\t},\n\tresources: {\n\t\tupdates() {\n\t\t\treturn {\n\t\t\t\ttype: 'list',\n\t\t\t\tdoctype: 'Security Update',\n\t\t\t\turl: 'press.api.security.fetch_security_updates',\n\t\t\t\tfilters: { server: this.server?.name },\n\t\t\t\torderBy: 'priority_level asc',\n\t\t\t\tpageLength: 10,\n\t\t\t\tstart: 0,\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\tupdateRoute(sec_update) {\n\t\t\treturn `/security/${this.server.name}/security_update/${sec_update}`;\n\t\t},\n\t\tgetColor(priority) {\n\t\t\tswitch (priority) {\n\t\t\t\tcase 'High':\n\t\t\t\t\treturn 'red';\n\t\t\t\tcase 'Medium':\n\t\t\t\t\treturn 'orange';\n\t\t\t\tcase 'Low':\n\t\t\t\t\treturn 'green';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'gray';\n\t\t\t}\n\t\t},\n\t\tgetDescription(priority) {\n\t\t\tswitch (priority) {\n\t\t\t\tcase 'High':\n\t\t\t\t\treturn 'Critical';\n\t\t\t\tcase 'Medium':\n\t\t\t\t\treturn 'Important';\n\t\t\t\tcase 'Low':\n\t\t\t\t\treturn 'Minor';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'Unknown';\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tupdates() {\n\t\t\treturn this.$resources.updates.data;\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","priority","packageName","_hoisted_1","_hoisted_3","_hoisted_4","_hoisted_5","_withCtx","_createElementVNode","_openBlock","_createElementBlock","_hoisted_2","_toDisplayString","$options","_cache","$event","_hoisted_6","_createBlock","_component_LoadingText","_hoisted_8","_createCommentVNode","CardWithDetails","SecurityUpdateInfo","_a","sec_update","$props","_ctx","_createTextVNode"],"mappings":"u/BAuDA,MAAAA,EAAA,2BAEC,MAAA,CAAA,WAAA,aAAA,+EAOC,eAAA,CACC,MAAA,sDAEC,OAAA,CAAA,UAAA,KAAA,QAAA,EACA,KAAA,GAEF,GAED,SAAA,CACC,eAAA,CACC,OAAA,KAAA,WAAA,cAAA,IACD,GAED,QAAA,CACC,SAAAC,EAAA,CACC,OAAAA,EAAA,qCAIE,MAAA,SACD,IAAA,oBAEA,oBAED,GAED,qBAAAC,EAAA,CACC,OAAA,KAAA,wCAAAA,CAAA,EAAA,CACD,CACD,CACD,EA5FOC,EAAA,CAAA,MAAA,WAAA,WAEE,MAAA,qCAECC,EAAA,CAAA,MAAA,qBAAA,EAGDC,EAAA,CAAA,MAAA,4BAAA,EAICC,EAAA,CAAA,MAAA,aAAA,qBAoBO,MAAA,gDAKV,MAAA,yIAtCP,QAAAC,EAAA,IAAA,CAEEC,EAAA,MAAAL,EAAA,gBAEEM,IAAAC,EAAA,MAAAC,EAAA,eAEEH,EAAA,KAAAJ,EAAA,aAAAQ,EAAAC,EAAA,cAAA,OAAA,EAAA,CAAA,EAGAL,EAAA,IAAAH,EAAA,aAAAO,EAAAC,EAAA,cAAA,OAAA,EAAA,CAAA,IAIDL,EAAA,MAAAF,EAAA,aAEE,MAAA,OACC,QAAAQ,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAF,EAAA,qBAAAA,EAAA,cAAA,OAAA,iBAEDL,EAAA,OAAA,CAAA,MAAA,yBAAA,EAAA,YAAA,EAAA,UAIA,MAAA,sBACA,QAAA,SACA,KAAA,oCAEC,MAAAK,EAAA,SAAAA,EAAA,cAAA,QAAA,mCAKLJ,IAAAC,EAAA,MAAAM,EAAA,YACCP,EAAA,EAAAQ,EAAAC,EAAA,CAAA,IAAA,CAAA,CAAA,8DAMFT,IAAAC,EAAA,MAAAS,EAAA,MAEE,YAAA,wDAEC,YAAA,iCAGD,YAAA,gFA7CJC,EAAA,GAAA,EAAA,wDC6CApB,EAAA,yFAKE,gBAAAqB,EACA,mBAAAC,cAGA,SAAA,OACC,MAAA,uFAIC,QAAA,CAAA,QAAAC,EAAA,KAAA,SAAA,YAAAA,EAAA,IAAA,6CAGA,MAAA,EACA,KAAA,GAEF,GAED,QAAA,gBAEE,MAAA,aAAA,KAAA,OAAA,IAAA,oBAAAC,CAAA,IAED,SAAAvB,EAAA,CACC,OAAAA,EAAA,qCAIE,MAAA,SACD,IAAA,oBAEA,oBAED,qBAGA,OAAAA,EAAA,YAEE,MAAA,wBAEA,MAAA,YACD,IAAA,oBAEA,QACC,MAAA,SACF,CACD,GAED,SAAA,CACC,SAAA,CACC,OAAA,KAAA,WAAA,QAAA,IACD,CACD,CACD,WA5EQ,MAAA,mHAxBU,MAAA,mBAAyB,SAAA,6BAkC9B,QAAAM,EAAA,IAAA,MACW,YAAAkB,EAAA,SAAwB,SAAAA,EAAA,+CApChD,QAAAlB,EAAA,IAAA,4LAUK,GAAAM,EAAA,YAAAW,EAAA,IAAA,IAVL,QAAAjB,EAAA,IAAA,sBAcM,YAAAmB,EAAA,WAAAF,EAAA,QAAA,IAEgB,QAAAjB,EAAA,IAAA,uBAGd,MAAAM,EAAA,SAAAW,EAAA,QAAA,yLAMLf,IAAAC,EAAA,MAAAP,EAAA,MAEG,QAAAuB,EAAA,WAAA,QAAA,KAAA,QACD,YAAA,aACC,QAAAZ,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,GAAAW,EAAA,WAAA,QAAA,KAAA,KA7BN,QAAAnB,EAAA,IAAAO,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAAAa,EAAA,aAAA,4BAAAP,EAAA,GAAA,EAAA"}