var y=(e,r,o)=>new Promise((c,p)=>{var i=n=>{try{u(o.next(n))}catch(g){p(g)}},s=n=>{try{u(o.throw(n))}catch(g){p(g)}},u=n=>n.done?c(n.value):Promise.resolve(n.value).then(i,s);u((o=o.apply(e,r)).next())});import{x as B,q as $,o as V,j as w,u as q,F as J,v as Z,t as Y,a_ as X,D as t,a$ as K,b0 as x,b1 as b,b2 as Q,a4 as W,b3 as G,b4 as ee}from"./main-Dpl-JOF2.js";import{D as N,a as te}from"./datetime-PXpIdgFA.js";import{d as I}from"./dayjs.min-BK4AnHlu.js";(function(){try{var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},r=new Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="79267355-33b9-4539-9fb5-00dd941c7cca",e._sentryDebugIdIdentifier="sentry-dbid-79267355-33b9-4539-9fb5-00dd941c7cca")}catch(o){}})();{var M=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};M._sentryModuleMetadata=M._sentryModuleMetadata||{},M._sentryModuleMetadata[new Error().stack]=Object.assign({},M._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}class re{constructor(){this.listeners={}}on(r,o){this.listeners[r]=this.listeners[r]||[],this.listeners[r].push(o)}trigger(r,o){(this.listeners[r]||[]).forEach(p=>{p.call(this,o)})}upload(r,o){return new Promise((c,p)=>{let i=new XMLHttpRequest;i.upload.addEventListener("loadstart",()=>{this.trigger("start")}),i.upload.addEventListener("progress",u=>{u.lengthComputable&&this.trigger("progress",{uploaded:u.loaded,total:u.total})}),i.upload.addEventListener("load",()=>{this.trigger("finish")}),i.addEventListener("error",()=>{this.trigger("error"),p()}),i.onreadystatechange=()=>{if(i.readyState==XMLHttpRequest.DONE){let u;if(i.status===200){let n=null;try{n=JSON.parse(i.responseText)}catch(h){n=i.responseText}let g=n.message||n;c(g)}else if(i.status===403)u=JSON.parse(i.responseText);else{this.failed=!0;try{u=JSON.parse(i.responseText)}catch(n){}}u&&u.exc&&console.error(JSON.parse(u.exc)[0]),p(u)}},i.open("POST","/api/method/upload_file",!0),i.setRequestHeader("Accept","application/json"),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&i.setRequestHeader("X-Frappe-CSRF-Token",window.csrf_token);let s=new FormData;r&&s.append("file",r,r.name),s.append("is_private",+(o.private||0)),s.append("folder",o.folder||"Home"),o.file_url&&s.append("file_url",o.file_url),o.doctype&&o.docname&&(s.append("doctype",o.doctype),s.append("docname",o.docname)),o.method&&s.append("method",o.method),o.type&&s.append("type",o.type),i.send(s)})}}const oe={name:"Home",data(){return{sites:null,plans:null}},mounted(){this.redirectToSites(),this.fetchAll()},methods:{redirectToSites(){return y(this,null,function*(){this.$router.push("/sites")})},fetchAll(){return y(this,null,function*(){let e=yield this.$call("press.api.dashboard.all");this.sites=e.sites,this.plans=e.plans,this.sites.length===0&&this.redirectToSites()})}}},se={class:"home"},ne={class:"px-4 sm:px-8"},ae={class:"flex"},ie={key:0,class:"w-1/2 p-8"};function pe(e,r,o,c,p,i){return V(),$("div",se,[w("div",ne,[w("div",ae,[p.sites?(V(),$("div",ie,[r[0]||(r[0]=w("div",{class:"font-medium"},"Sites",-1)),(V(!0),$(J,null,Z(p.sites,s=>(V(),$("div",{key:s.status,class:"mt-5 flex items-center justify-between text-sm"},[w("div",null,Y(s.status),1),w("div",null,Y(s.count),1)]))),128))])):q("",!0)])])])}const ue=B(oe,[["render",pe]]),ce=[{path:"/",name:"Home",component:ue},{path:"/checkout/:secretKey",name:"Checkout",component:()=>t(()=>import("./Checkout-DRDdFRqW.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),props:!0,meta:{isLoginPage:!0}},{path:"/login",name:"Login",component:()=>t(()=>import("./Auth-DdcD3Y_F.js"),__vite__mapDeps([8,9,1,2,10,11,12,13])),meta:{isLoginPage:!0}},{path:"/signup",name:"Signup",component:()=>t(()=>import("./Auth-DdcD3Y_F.js"),__vite__mapDeps([8,9,1,2,10,11,12,13])),meta:{isLoginPage:!0}},{path:"/setup-account/:requestKey/:joinRequest?",name:"Setup Account",component:()=>t(()=>import("./SetupAccount-D_0fetc1.js"),__vite__mapDeps([14,1,2,5,10,11,12,13])),props:!0,meta:{isLoginPage:!0}},{path:"/reset-password/:requestKey",name:"Reset Password",component:()=>t(()=>import("./ResetPassword-B2rNlJH2.js"),__vite__mapDeps([15,1,2,10,11,12,13])),props:!0,meta:{isLoginPage:!0}},{path:"/impersonate/:team",name:"Impersonate Team",component:()=>t(()=>import("./ImpersonateTeam-BR6PLbvt.js"),__vite__mapDeps([16,1,2])),props:!0},{path:"/notifications",name:"Notifications",component:()=>t(()=>import("./Notifications-DnkFnhnX.js"),__vite__mapDeps([17,18,1,2,19]))},{path:"/groups",name:"BenchesScreen",component:()=>t(()=>import("./Benches-DYT0tXAc.js"),__vite__mapDeps([20,1,2,21,6,4,5,7,22,19]))},{path:"/groups/new/:saas_app?",name:"NewBench",meta:{isSaasPage:!0},component:()=>t(()=>import("./NewBench-9gQ6k6UR.js"),__vite__mapDeps([23,24,1,2,25,26,27])),props:!0},{path:"/servers/:server/bench/new",name:"NewServerBench",component:()=>t(()=>import("./NewBench-9gQ6k6UR.js"),__vite__mapDeps([23,24,1,2,25,26,27])),props:!0},{path:"/groups/:benchName",name:"Bench",component:()=>t(()=>import("./Bench-BhHiJ5b7.js"),__vite__mapDeps([28,29,1,2,30,31,32,18,13,19])),props:!0,meta:{isSaasPage:!0},redirect:{name:"BenchSiteList"},children:[{name:"BenchSiteList",path:"sites",component:()=>t(()=>import("./BenchSites-CB4Y5F09.js"),__vite__mapDeps([33,34,1,2,18,32,22,35,13])),props:!0},{path:"apps",component:()=>t(()=>import("./BenchApps-CK1lpQKO.js"),__vite__mapDeps([36,37,1,2,25,18,38,13])),props:!0},{path:"bench-config",component:()=>t(()=>import("./BenchConfig-BqIorufq.js"),__vite__mapDeps([39,40,37,1,2])),props:!0},{name:"BenchDeploys",path:"deploys/:candidateName?",component:()=>t(()=>import("./BenchDeploys-CAey-tFi.js"),__vite__mapDeps([41,42,37,1,2,18,43,44,45])),props:!0},{path:"logs/:instanceName/:logName?",component:()=>t(()=>import("./BenchLogs-AGcxZkwI.js"),__vite__mapDeps([46,42,37,1,2,18,44])),props:!0},{name:"BenchJobs",path:"jobs/:jobName?",component:()=>t(()=>import("./BenchJobs-Dc3OR_Ey.js"),__vite__mapDeps([47,48,42,37,1,2,18,43,44,45])),props:!0},{path:"settings",component:()=>t(()=>import("./BenchSettings-5oeM-Da7.js"),__vite__mapDeps([49,50,1,2,37,18,26,27,13])),props:!0}]},{path:"/groups/:benchName/apps/new",name:"NewBenchApp",component:()=>t(()=>import("./NewBenchApp-DOXwFLtl.js"),__vite__mapDeps([51,24,1,2,52])),props:!0},{path:"/sites",name:"Sites",component:()=>t(()=>import("./Sites-B9fK3Pc3.js"),__vite__mapDeps([53,1,2,22,54,30,6,7,55,21,4,5,19,35,13]))},{path:"/:bench/sites",name:"BenchSites",component:()=>t(()=>import("./Sites-B9fK3Pc3.js"),__vite__mapDeps([53,1,2,22,54,30,6,7,55,21,4,5,19,35,13])),props:!0},{path:"/sites/new",name:"NewSite",component:()=>t(()=>import("./NewSite-CHjCmEcW.js"),__vite__mapDeps([56,24,1,2,57,58,59,3,19,26,27,5,60,18,30,61,62,63])),props:!0},{path:"/:bench/new",name:"NewBenchSite",component:()=>t(()=>import("./NewSite-CHjCmEcW.js"),__vite__mapDeps([56,24,1,2,57,58,59,3,19,26,27,5,60,18,30,61,62,63])),props:!0},{path:"/sites/:siteName",name:"Site",component:()=>t(()=>import("./Site-BXOawvGz.js"),__vite__mapDeps([64,1,2,29,19,35,13,30,32,65,61,63])),props:!0,children:[{name:"SiteOverview",path:"overview",component:()=>t(()=>import("./SiteOverview-DQV4sJet.js"),__vite__mapDeps([66,1,2,37,67,68,62,18,13,69,61,70]))},{name:"SiteAppsAndSubscriptions",path:"apps",component:()=>t(()=>import("./SiteAppsAndSubscriptions-Drm13qdN.js"),__vite__mapDeps([71,37,1,2,58,59,3,32,38,13])),props:!0},{path:"installing",component:()=>t(()=>import("./SiteInstalling-DjrX42BS.js"),__vite__mapDeps([72,73,1,2,74]))},{path:"analytics",component:()=>t(()=>import("./SiteCharts-DVJqYVEC.js"),__vite__mapDeps([75,76,1,2,61,69,37,70])),props:!0},{path:"database",component:()=>t(()=>import("./SiteDatabase-Dx4q4cw1.js"),__vite__mapDeps([77,37,1,2,61,13,60,18,34,62,63]))},{path:"site-config",component:()=>t(()=>import("./SiteConfig-DxXh9b7D.js"),__vite__mapDeps([78,40,37,1,2]))},{path:"settings",component:()=>t(()=>import("./SiteSettings-Dt00Bs8f.js"),__vite__mapDeps([79,50,1,2,37,18]))},{path:"console",component:()=>t(()=>import("./SiteConsole-u-jqPzRq.js"),__vite__mapDeps([80,1,2]))},{name:"SiteJobs",path:"jobs/:jobName?",component:()=>t(()=>import("./SiteJobs-DoIrqWDm.js"),__vite__mapDeps([81,48,42,37,1,2,18,43,44,45])),props:!0},{path:"logs/:logName?",component:()=>t(()=>import("./SiteLogs-Boe1Q626.js"),__vite__mapDeps([82,42,37,1,2,18,44])),props:!0},{path:"auto-update",component:()=>t(()=>import("./SiteAutoUpdate-DJm-m7XT.js"),__vite__mapDeps([83,37,1,2,18,30])),props:!0},{path:"monitor",component:()=>t(()=>import("./SiteMonitorsList-BY5fRPYq.js"),__vite__mapDeps([84,85,1,2])),props:!0,children:[{name:"SiteRequestLogs",path:"request-logs",component:()=>t(()=>import("./SiteRequestLogs-BHeGtHzu.js"),__vite__mapDeps([86,37,1,2,85,61])),props:!0},{name:"SiteBinaryLogs",path:"binary-logs",component:()=>t(()=>import("./SiteBinaryLogs-BJ_J5rUd.js"),__vite__mapDeps([87,37,1,2,85])),props:!0},{name:"MariaDBProcessList",path:"mariadb-process-list",component:()=>t(()=>import("./SiteMariaDBProcessList-f23vKvNR.js"),__vite__mapDeps([88,37,1,2,85])),props:!0},{name:"SiteMariaDBSlowQueries",path:"mariadb-slow-queries",component:()=>t(()=>import("./SiteMariaDBSlowQueries-PNCXPHY9.js"),__vite__mapDeps([89,37,1,2,85])),props:!0},{name:"SiteDeadlockReport",path:"deadlock-report",component:()=>t(()=>import("./SiteDeadlockReport-B8RplR6d.js"),__vite__mapDeps([90,37,1,2,85,61])),props:!0}]}]},{path:"/servers",name:"Servers",component:()=>t(()=>import("./Servers-khvSxMY-.js"),__vite__mapDeps([91,1,2,21,6,4,5,7,22,19]))},{path:"/servers/new",name:"NewServer",component:()=>t(()=>import("./NewServer-DLuVFRSU.js"),__vite__mapDeps([92,24,1,2,57,26,27,93,94,54,30,6,7,55,21,4,5])),props:!0},{path:"/servers/:serverName",name:"Server",component:()=>t(()=>import("./Server-2gDzeoDd.js"),__vite__mapDeps([95,29,1,2,19,13])),props:!0,children:[{name:"ServerOverview",path:"overview",component:()=>t(()=>import("./ServerOverview-Bw0l8xn-.js"),__vite__mapDeps([96,1,2,37,93,94,67,68,13,18])),props:!0},{name:"ServerAnalytics",path:"analytics",component:()=>t(()=>import("./ServerAnalytics-Bx5M123k.js"),__vite__mapDeps([97,69,1,2,37,61,70])),props:!0},{name:"ServerBenches",path:"groups",component:()=>t(()=>import("./ServerBenches-BaEI9bJV.js"),__vite__mapDeps([98,22,1,2])),props:!0},{name:"ServerJobs",path:"jobs/:jobName?",component:()=>t(()=>import("./ServerJobs-Bp0W7tWx.js"),__vite__mapDeps([99,48,42,37,1,2,18,43,44,45])),props:!0},{name:"ServerPlays",path:"plays/:playName?",component:()=>t(()=>import("./ServerPlays-CfxO0Lbf.js"),__vite__mapDeps([100,42,37,1,2,18,43,44,45])),props:!0},{name:"ServerInstall",path:"install",component:()=>t(()=>import("./ServerInstall-BFjF9OJE.js"),__vite__mapDeps([101,73,1,2,74])),props:!0},{name:"ServerSettings",path:"settings",component:()=>t(()=>import("./ServerSettings-MMXijpOs.js"),__vite__mapDeps([102,50,1,2,37,18])),props:!0}]},{name:"New SelfHosted Server",path:"/selfhosted/new",component:()=>t(()=>import("./NewSelfHostedServer-Bh1cALgY.js"),__vite__mapDeps([103,24,1,2,57,34,93,94,54,30,6,7,55,21,4,5])),props:!0},{path:"/install-app/:marketplaceApp",name:"InstallMarketplaceApp",component:()=>t(()=>import("./InstallMarketplaceApp-CXyDm_Bq.js"),__vite__mapDeps([104,1,2,58,59,3,37,13])),props:!0},{path:"/marketplace",name:"Marketplace",component:()=>t(()=>import("./Marketplace-DS-RBB8Y.js"),__vite__mapDeps([105,29,1,2,25,19])),children:[{path:"publisher-profile",component:()=>t(()=>import("./MarketplacePublisherProfile-CT9oDJIS.js"),__vite__mapDeps([106,1,2,37,18,30]))},{path:"apps",component:()=>t(()=>import("./MarketplaceApps-MlEmKpjJ.js"),__vite__mapDeps([107,1,2]))},{path:"payouts/:payoutOrderName?",component:()=>t(()=>import("./MarketplacePayouts-BoCilKXX.js"),__vite__mapDeps([108,37,1,2])),props:!0}]},{path:"/marketplace/apps/new",name:"NewMarketplaceApp",component:()=>t(()=>import("./NewMarketplaceApp-BN2XTMX0.js"),__vite__mapDeps([109,24,1,2,52])),props:!0},{path:"/marketplace/apps/:appName",name:"MarketplaceApp",component:()=>t(()=>import("./MarketplaceApp-Ct1SVF2K.js"),__vite__mapDeps([110,29,1,2,19])),props:!0,children:[{name:"MarketplaceAppOverview",path:"overview",component:()=>t(()=>import("./MarketplaceAppOverview-5RPRJeiy.js"),__vite__mapDeps([111,37,1,2,18,13,61,63]))},{name:"MarketplaceAppReview",path:"review",component:()=>t(()=>import("./MarketplaceAppReview-CId88Wfj.js"),__vite__mapDeps([112,1,2,42,37,44,18,13])),props:!0},{name:"MarketplaceAppAnalytics",path:"analytics",component:()=>t(()=>import("./MarketplaceAppAnalytics-Cp-9GaRx.js"),__vite__mapDeps([113,69,1,2,37,61,70,18]))},{name:"MarketplaceAppDeployment",path:"releases",component:()=>t(()=>import("./MarketplaceAppDeployment-BZQr0V1S.js"),__vite__mapDeps([114,37,1,2,32,13]))},{name:"MarketplaceAppSubscriptions",path:"subscriptions",component:()=>t(()=>import("./MarketplaceAppSubscriptions-2futfIAI.js"),__vite__mapDeps([115,37,1,2])),props:!0},{name:"MarketplaceAppPricing",path:"pricing",component:()=>t(()=>import("./MarketplaceAppPricing-_V3gpldP.js"),__vite__mapDeps([116,1,2,37,59,3]))}]},{path:"/spaces",name:"Spaces",component:()=>t(()=>import("./Spaces-D4WsVv1z.js"),__vite__mapDeps([117,22,1,2,30,19,38]))},{path:"/codeservers/new",name:"NewCodeServer",component:()=>t(()=>import("./NewCodeServer-p2feJy4-.js"),__vite__mapDeps([118,24,1,2,57,38,18]))},{path:"/codeservers/:serverName",name:"CodeServer",component:()=>t(()=>import("./CodeServer-Du8T5HCY.js"),__vite__mapDeps([119,29,1,2,19])),props:!0,children:[{name:"CodeServerOverview",path:"overview",component:()=>t(()=>import("./CodeServerOverview-PeC51BGI.js"),__vite__mapDeps([120,37,1,2,18,13]))},{path:"jobs/:jobName?",component:()=>t(()=>import("./CodeServerJobs-CYEKsnZ7.js"),__vite__mapDeps([121,48,42,37,1,2,18,43,44,45])),props:!0}]},{path:"/setup-site/:product",name:"App Site Setup",component:()=>t(()=>import("./AppSiteSetup-CH0uDJfE.js"),__vite__mapDeps([122,1,2,123,10,11,12,13,61,63,124])),props:!0,meta:{hideSidebar:!0}},{path:"/subscription/:site?",name:"Subscription",component:()=>t(()=>import("./Subscription-D7qtycri.js"),__vite__mapDeps([125,1,2,21,6,4,5,7,10,11,12,13])),props:!0,meta:{hideSidebar:!0}},{path:"/billing/:invoiceName?",name:"BillingScreen",props:!0,redirect:{name:"BillingOverview"},component:()=>t(()=>import("./AccountBilling-Cz9CuIh3.js"),__vite__mapDeps([126,29,1,2,19])),children:[{name:"BillingOverview",path:"overview",component:()=>t(()=>import("./BillingOverview-54OxyJC-.js"),__vite__mapDeps([127,54,1,2,30,6,7,55,21,4,5,37,68,128]))},{name:"Payment Methods",path:"payment",component:()=>t(()=>import("./PaymentMethods-DscSrwJj.js"),__vite__mapDeps([129,1,2,37,18,21,6,4,5,7,130]))},{name:"Invoices",path:"invoices",props:!0,component:()=>t(()=>import("./AccountBillingPayments-JhifCCBq.js"),__vite__mapDeps([131,37,1,2,128]))},{name:"Credit Balance",path:"credit-balance",component:()=>t(()=>import("./AccountBillingCreditBalance-BPlVV6GY.js"),__vite__mapDeps([132,37,1,2]))}]},{path:"/settings",name:"SettingsScreen",redirect:{name:"ProfileSettings"},component:()=>t(()=>import("./AccountSettings-CD-F1vxG.js"),__vite__mapDeps([133,29,1,2,19])),children:[{name:"ProfileSettings",path:"profile",component:()=>t(()=>import("./ProfileSettings-DSXXCA5F.js"),__vite__mapDeps([134,37,1,2,18,130,13,34,61,63]))},{name:"TeamSettings",path:"team",component:()=>t(()=>import("./TeamSettings-CR36DDCZ.js"),__vite__mapDeps([135,1,2,37,18,38,13]))},{name:"DeveloperSettings",path:"developer",component:()=>t(()=>import("./DeveloperSettings--qzR65sh.js"),__vite__mapDeps([136,37,1,2,34,13]))},{name:"PartnerSettings",path:"partner",component:()=>t(()=>import("./PartnerSettings-C0tzpvaQ.js"),__vite__mapDeps([137,37,1,2,18,13,34,61]))}]},{path:"/security",name:"Security",component:()=>t(()=>import("./Servers-C3SrZfZy.js"),__vite__mapDeps([138,22,1,2,19]))},{path:"/security/:serverName",name:"ServerSecurity",component:()=>t(()=>import("./Security-BqQVSxF-.js"),__vite__mapDeps([139,29,1,2,19])),props:!0,children:[{name:"SecurityOverview",path:"overview",component:()=>t(()=>import("./SecurityOverview-BjX1jSWr.js"),__vite__mapDeps([140,37,1,2,18,141])),props:!0},{name:"SecurityUpdates",path:"security_update/:updateId?",component:()=>t(()=>import("./SecurityUpdates-BYPXWzMe.js"),__vite__mapDeps([142,42,37,1,2,18,44,143,144])),props:!0},{name:"Firewall",path:"firewall/",props:!0},{name:"SSH Session Logs",path:"ssh_session_logs/:logId?",component:()=>t(()=>import("./SSHSession-BmeZ1zyh.js"),__vite__mapDeps([145,42,37,1,2,18,44,143,144])),props:!0},{name:"Nginx Overview",path:"nginx_overview/",props:!0}]},{name:"NotFound",path:"/:pathMatch(.*)*",component:()=>t(()=>import("./404-Boo0CW9l.js"),__vite__mapDeps([146,1,2]))}],F=X({history:K("/dashboard-old/"),routes:ce});function le(e,r){return y(this,null,function*(){r||(r={});let o={Accept:"application/json","Content-Type":"application/json; charset=utf-8","X-Frappe-Site-Name":window.location.hostname},c=localStorage.getItem("current_team")||null;c&&(o["X-Press-Team"]=c),window.csrf_token&&window.csrf_token!=="{{ csrf_token }}"&&(o["X-Frappe-CSRF-Token"]=window.csrf_token),i(this,"RequestStarted",null);const p=yield fetch(`/api/method/${e}`,{method:"POST",headers:o,body:JSON.stringify(r)});if(p.ok){i(this,null,null);const s=yield p.json();return s.docs||e==="login"?s:s.message}else{let s=yield p.text(),u,n;try{u=JSON.parse(s)}catch(m){}let g=[[e,u.exc_type,u._error_message].filter(Boolean).join(" ")];if(u.exc){n=u.exc;try{n=JSON.parse(n)[0],console.log(n)}catch(m){}}let h=new Error(g.join(`
`));throw h.exc_type=u.exc_type,h.exc=n,h.messages=u._server_messages?JSON.parse(u._server_messages):[],h.messages=h.messages.concat(u.message),h.messages=h.messages.map(m=>{try{return JSON.parse(m).message}catch(l){return m}}),h.messages=h.messages.filter(Boolean),h.messages.length||(h.messages=u._error_message?[u._error_message]:["Internal Server Error"]),i(this,null,h.messages.join(`
`)),[401,403].includes(p.status)&&F.currentRoute.name!=="Login"&&F.push("/login"),h}function i(s,u,n){(s==null?void 0:s.state)!==void 0&&(s.state=u),(s==null?void 0:s.errorMessage)!==void 0&&(s.errorMessage=n)}})}class _e{constructor(){this.listeners={}}on(r,o){this.listeners[r]=this.listeners[r]||[],this.listeners[r].push(o)}trigger(r,o){(this.listeners[r]||[]).forEach(p=>{p.call(this,o)})}upload(r,o){return new Promise((c,p)=>y(this,null,function*(){var h;function i(){return y(this,null,function*(){try{return(yield(yield fetch(`/api/method/press.api.site.get_upload_link?file=${r.name}`)).json()).message}catch(m){p(m)}})}const s=yield i(),u=(h=s==null?void 0:s.fields)==null?void 0:h.key;if(!u)return;let n=new XMLHttpRequest;n.upload.addEventListener("loadstart",()=>{this.trigger("start")}),n.upload.addEventListener("progress",m=>{m.lengthComputable&&this.trigger("progress",{uploaded:m.loaded,total:m.total})}),n.upload.addEventListener("load",()=>{this.trigger("finish")}),n.addEventListener("error",()=>{this.trigger("error"),p()}),n.onreadystatechange=()=>{if(n.readyState==XMLHttpRequest.DONE){let m;if(n.status===200||n.status===204){let l=null;try{l=JSON.parse(n.responseText)}catch(_){l=n.responseText}let f=l.message||le("press.api.site.uploaded_backup_info",{file:r.name,path:u,type:r.type,size:r.size});c(f||s.fields.key)}else{let l=new DOMParser().parseFromString(n.responseText,"text/xml"),f=l.getElementsByTagName("Code")[0].childNodes[0].nodeValue,_=l.getElementsByTagName("Message")[0].childNodes[0].nodeValue;console.error(`${f}: ${_}`),m=n.responseText}m&&m.exc&&console.error(JSON.parse(m.exc)[0]),p(m)}},n.open("POST",s.url,!0),n.setRequestHeader("Accept","application/json");let g=new FormData;for(let m in s.fields)s.fields.hasOwnProperty(m)&&g.append(m,s.fields[m]);r&&g.append("file",r,r.name),n.send(g)}))}}var z={exports:{}};(function(e,r){(function(o,c){e.exports=c()})(x,function(){var o={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(c,p,i){var s=p.prototype,u=s.format;i.en.formats=o,s.format=function(n){n===void 0&&(n="YYYY-MM-DDTHH:mm:ssZ");var g=this.$locale().formats,h=function(m,l){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,_,a){var d=a&&a.toUpperCase();return _||l[a]||o[a]||l[d].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,E,v){return E||v.slice(1)})})}(n,g===void 0?{}:g);return u.call(this,h)}}})})(z);var me=z.exports;const de=b(me);var U={exports:{}};(function(e,r){(function(o,c){e.exports=c()})(x,function(){return function(o,c,p){p.updateLocale=function(i,s){var u=p.Ls[i];if(u)return(s?Object.keys(s):[]).forEach(function(n){u[n]=s[n]}),u}}})})(U);var he=U.exports;const fe=b(he);var C={exports:{}};(function(e,r){(function(o,c){e.exports=c()})(x,function(){return function(o,c,p){c.prototype.isToday=function(){var i="YYYY-MM-DD",s=p();return this.format(i)===s.format(i)}}})})(C);var ve=C.exports;const ge=b(ve);var j={exports:{}};(function(e,r){(function(o,c){e.exports=c()})(x,function(){var o="minute",c=/[+-]\d\d(?::?\d\d)?/g,p=/([+-]|\d\d)/g;return function(i,s,u){var n=s.prototype;u.utc=function(a){var d={date:a,utc:!0,args:arguments};return new s(d)},n.utc=function(a){var d=u(this.toDate(),{locale:this.$L,utc:!0});return a?d.add(this.utcOffset(),o):d},n.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var g=n.parse;n.parse=function(a){a.utc&&(this.$u=!0),this.$utils().u(a.$offset)||(this.$offset=a.$offset),g.call(this,a)};var h=n.init;n.init=function(){if(this.$u){var a=this.$d;this.$y=a.getUTCFullYear(),this.$M=a.getUTCMonth(),this.$D=a.getUTCDate(),this.$W=a.getUTCDay(),this.$H=a.getUTCHours(),this.$m=a.getUTCMinutes(),this.$s=a.getUTCSeconds(),this.$ms=a.getUTCMilliseconds()}else h.call(this)};var m=n.utcOffset;n.utcOffset=function(a,d){var T=this.$utils().u;if(T(a))return this.$u?0:T(this.$offset)?m.call(this):this.$offset;if(typeof a=="string"&&(a=function(D){D===void 0&&(D="");var A=D.match(c);if(!A)return null;var L=(""+A[0]).match(p)||["-",0,0],P=L[0],S=60*+L[1]+ +L[2];return S===0?0:P==="+"?S:-S}(a),a===null))return this;var E=Math.abs(a)<=16?60*a:a,v=this;if(d)return v.$offset=E,v.$u=a===0,v;if(a!==0){var O=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(v=this.local().add(E+O,o)).$offset=E,v.$x.$localOffset=O}else v=this.utc();return v};var l=n.format;n.format=function(a){var d=a||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,d)},n.valueOf=function(){var a=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*a},n.isUTC=function(){return!!this.$u},n.toISOString=function(){return this.toDate().toISOString()},n.toString=function(){return this.toDate().toUTCString()};var f=n.toDate;n.toDate=function(a){return a==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var _=n.diff;n.diff=function(a,d,T){if(a&&this.$u===a.$u)return _.call(this,a,d,T);var E=this.local(),v=u(a).local();return _.call(E,v,d,T)}}})})(j);var Ee=j.exports;const Te=b(Ee);var H={exports:{}};(function(e,r){(function(o,c){e.exports=c()})(x,function(){var o={year:0,month:1,day:2,hour:3,minute:4,second:5},c={};return function(p,i,s){var u,n=function(l,f,_){_===void 0&&(_={});var a=new Date(l),d=function(T,E){E===void 0&&(E={});var v=E.timeZoneName||"short",O=T+"|"+v,D=c[O];return D||(D=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:T,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:v}),c[O]=D),D}(f,_);return d.formatToParts(a)},g=function(l,f){for(var _=n(l,f),a=[],d=0;d<_.length;d+=1){var T=_[d],E=T.type,v=T.value,O=o[E];O>=0&&(a[O]=parseInt(v,10))}var D=a[3],A=D===24?0:D,L=a[0]+"-"+a[1]+"-"+a[2]+" "+A+":"+a[4]+":"+a[5]+":000",P=+l;return(s.utc(L).valueOf()-(P-=P%1e3))/6e4},h=i.prototype;h.tz=function(l,f){l===void 0&&(l=u);var _,a=this.utcOffset(),d=this.toDate(),T=d.toLocaleString("en-US",{timeZone:l}),E=Math.round((d-new Date(T))/1e3/60),v=15*-Math.round(d.getTimezoneOffset()/15)-E;if(!Number(v))_=this.utcOffset(0,f);else if(_=s(T,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(v,!0),f){var O=_.utcOffset();_=_.add(a-O,"minute")}return _.$x.$timezone=l,_},h.offsetName=function(l){var f=this.$x.$timezone||s.tz.guess(),_=n(this.valueOf(),f,{timeZoneName:l}).find(function(a){return a.type.toLowerCase()==="timezonename"});return _&&_.value};var m=h.startOf;h.startOf=function(l,f){if(!this.$x||!this.$x.$timezone)return m.call(this,l,f);var _=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return m.call(_,l,f).tz(this.$x.$timezone,!0)},s.tz=function(l,f,_){var a=_&&f,d=_||f||u,T=g(+s(),d);if(typeof l!="string")return s(l).tz(d);var E=function(A,L,P){var S=A-60*L*1e3,R=g(S,P);if(L===R)return[S,L];var k=g(S-=60*(R-L)*1e3,P);return R===k?[S,R]:[A-60*Math.min(R,k)*1e3,Math.max(R,k)]}(s.utc(l,a).valueOf(),T,d),v=E[0],O=E[1],D=s(v).utcOffset(O);return D.$x.$timezone=d,D},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(l){u=l}}})})(H);var De=H.exports;const Oe=b(De);I.extend(fe);I.extend(Q);I.extend(de);I.extend(ge);I.extend(Te);I.extend(Oe);I.shortFormating=(e,r=!1)=>{if(e==="now"||e==="now ago")return"now";const o=e.split(" ")[0],c=e.split(" ")[1],p=e.includes("ago");let i="";switch(c){case"minute":i="m";break;case"minutes":i="m";break;case"hour":i="h";break;case"hours":i="h";break;case"day":i="d";break;case"days":i="d";break;case"month":i="M";break;case"months":i="M";break;case"year":i="Y";break;case"years":i="Y";break}return`${["a","an"].includes(o)?"1":o} ${i}${p&&r?" ago":""}`};let $e={methods:{$plural(e,r,o){return e===1?r:o},$date(e,r="Asia/Kolkata"){let o=N.local().zoneName;return N.fromSQL(e,{zone:r}).setZone(o)},round(e,r){let o=Math.pow(10,r||0);return Math.round(e*o)/o},formatDate(e,r="DATETIME_FULL",o=!1){let c=o?this.$date(e,"UTC"):this.$date(e),p=e;if(r==="relative")p=c.toRelative();else{let i=N[r];p=c.toLocaleString(i)}return p},$formatDuration(e){e=e.split(".")[0];const r=e.split(":").map(s=>s.padStart(2,"0")).join(":"),o=te.fromISOTime(r).toObject(),c=o.hours?`${o.hours}h`:"",p=o.minutes?`${o.minutes}m`:"",i=`${o.seconds}s`;return`${c} ${p} ${i}`},formatBytes(e,r=2,o=0){if(e===0)return"0 Bytes";const c=1024,p=r<0?0:r,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(Math.abs(e))/Math.log(c));return parseFloat((e/Math.pow(c,s)).toFixed(p))+" "+i[s+o]},$formatCPUTime(e){return e/1e6},$planTitle(e){let r=this.$account.team.country=="India",o=r?"₹":"$",c=r?"price_inr":"price_usd",p=e.block_monthly==1?e[c]*12:e[c];return p>0?`${o}${p}`:e.plan_title},trialEndsInDaysText(e){let o=this.$date(e).diff(N.local(),["days"]).toObject().days;return o>1?`in ${Math.floor(o)} days`:"in a day"},$routeTo404PageIfNotFound(e){e.indexOf("not found")>=0&&this.$router.push({name:"NotFound",params:{pathMatch:this.$route.path.substring(1).split("/")},query:this.$route.query,hash:this.$route.hash})},$siteStatus(e){let r=e.status;e.update_available&&e.status=="Active"&&(r="Update Available");let o=Math.max(e.current_cpu_usage,e.current_database_usage,e.current_disk_usage);return o&&o>=80&&r=="Active"&&(r="Attention Required"),e.trial_end_date&&(r="Trial"),r},$sanitize(e){if(!e)return e;const r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},o=/[&<>"'/]/gi;return e.replace(o,c=>r[c])}}};function Le(e){return y(this,null,function*(){try{return[null,yield e]}catch(r){return[r,null]}})}function Ve(e){return e?e.length<5?"Subdomain too short. Use 5 or more characters":e.length>32?"Subdomain too long. Use 32 or less characters":e.match(/^[a-z0-9][a-z0-9-]*[a-z0-9]$/)?null:"Subdomain contains invalid characters. Use lowercase characters, numbers and hyphens":"Subdomain cannot be empty"}const ye={name:"FileUploader",props:["fileTypes","uploadArgs","s3","type","fileValidator"],data(){return{uploader:null,uploading:!1,uploaded:0,error:null,message:"",total:0,file:null,finishedUploading:!1}},computed:{progress(){let e=Math.floor(this.uploaded/this.total*100);return isNaN(e)?0:e},success(){return this.finishedUploading&&!this.error}},methods:{openFileSelector(){this.$refs.input.click()},onFileAdd(e){return y(this,null,function*(){if(this.error=null,this.file=e.target.files[0],this.file&&this.fileValidator){let[r,o]=yield Le(this.fileValidator(this.file));r&&(this.error=r)}this.error||this.uploadFile(this.file)})},uploadFile(e){return y(this,null,function*(){this.error=null,this.uploaded=0,this.total=0,this.uploader=this.s3?new _e:new re,this.uploader.on("start",()=>{this.uploading=!0}),this.uploader.on("progress",r=>{this.uploaded=r.uploaded,this.total=r.total}),this.uploader.on("error",()=>{this.uploading=!1,this.error="Error Uploading File"}),this.uploader.on("finish",()=>{this.uploading=!1,this.finishedUploading=!0}),this.uploader.upload(e,this.uploadArgs||{}).then(r=>{this.$emit("success",r)}).catch(r=>{this.uploading=!1;let o="Error Uploading File";r._server_messages?o=JSON.parse(JSON.parse(r._server_messages)[0]).message:r.exc&&(o=JSON.parse(r.exc)[0].split(`
`).slice(-2,-1)[0]),this.error=o,this.$emit("failure",o)})})}}},Se=["accept"];function Ae(e,r,o,c,p,i){return V(),$("div",null,[w("input",{ref:"input",type:"file",accept:o.fileTypes,class:"hidden",onChange:r[0]||(r[0]=(...s)=>i.onFileAdd&&i.onFileAdd(...s))},null,40,Se),W(e.$slots,"default",G(ee({file:p.file,uploading:p.uploading,progress:i.progress,uploaded:p.uploaded,message:p.message,error:p.error,total:p.total,success:i.success,openFileSelector:i.openFileSelector})))])}const xe=B(ye,[["render",Ae]]);export{xe as _,$e as u,Ve as v};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Checkout-DRDdFRqW.js","assets/main-Dpl-JOF2.js","assets/main-B0ZLDivw.css","assets/FeatureList-DXsHFT_A.js","assets/AddressForm-Cz0XUJgF.js","assets/Form-CIPLpg2e.js","assets/StripeLogo-BRF2qIyd.js","assets/stripe.esm-D4yu_pm0.js","assets/Auth-DdcD3Y_F.js","assets/GoogleIconSolid-CpO1UNWZ.js","assets/LoginBox-DSVNkn_s.js","assets/YooltechLogo-DH5Linvn.js","assets/ETLogo-Ziye5dPH.js","assets/toast-Dk0nDfLL.js","assets/SetupAccount-D_0fetc1.js","assets/ResetPassword-B2rNlJH2.js","assets/ImpersonateTeam-BR6PLbvt.js","assets/Notifications-DnkFnhnX.js","assets/ListItem-CkkFcC1t.js","assets/Breadcrumbs-yx7M4N4X.js","assets/Benches-DYT0tXAc.js","assets/StripeCard-BRr8QCrN.js","assets/TableHeader-DvqcS5cY.js","assets/NewBench-9gQ6k6UR.js","assets/WizardCard-D6pRuZbe.js","assets/AppSourceSelector-BL6tcj2j.js","assets/RichSelect-DPikL6tG.js","assets/RichSelect-A_R8APhx.css","assets/Bench-BhHiJ5b7.js","assets/Tabs-d4e9i9wh.js","assets/Alert-COV4XS8q.js","assets/CommitChooser-R9zPknj3.js","assets/CommitTag-C7m6nG0N.js","assets/BenchSites-CB4Y5F09.js","assets/ClickToCopyField-DpU9Eau5.js","assets/loginAsAdmin-BAeVrwth.js","assets/BenchApps-CK1lpQKO.js","assets/Card-BCzTSeNK.js","assets/fuse.basic.esm-KoNXVm3X.js","assets/BenchConfig-BqIorufq.js","assets/ConfigEditor-C3fsLsY8.js","assets/BenchDeploys-CAey-tFi.js","assets/CardWithDetails-8Q6clK2F.js","assets/StepsDetail-844EGZPD.js","assets/CardDetails-BY8v0wfH.js","assets/StepsDetail-X-9kJZPh.css","assets/BenchLogs-AGcxZkwI.js","assets/BenchJobs-Dc3OR_Ey.js","assets/AgentJobs-BXLcyXKD.js","assets/BenchSettings-5oeM-Da7.js","assets/Tags-ByxkPMV0.js","assets/NewBenchApp-DOXwFLtl.js","assets/SelectAppFromGithub-O0_GyuCD.js","assets/Sites-B9fK3Pc3.js","assets/AlertBillingInformation-C5f9OKMF.js","assets/BillingInformationDialog-B5pmLI5R.js","assets/NewSite-CHjCmEcW.js","assets/Steps-B0ktOnsZ.js","assets/ChangeAppPlanSelector-B7RAZX-J.js","assets/AppPlanCard-CuGgjNKV.js","assets/BackupFilesUploader-D7iED6IX.js","assets/datetime-PXpIdgFA.js","assets/SitePlansTable-BtPUM3i9.js","assets/dayjs.min-BK4AnHlu.js","assets/Site-BXOawvGz.js","assets/DateTimeControl-DSJ0TMcX.js","assets/SiteOverview-DQV4sJet.js","assets/ProgressArc-E4zT-R3H.js","assets/PlanIcon-xHfeoGnX.js","assets/LineChart-BDXlcfBY.js","assets/tailwind.theme-XeumNAwU.js","assets/SiteAppsAndSubscriptions-Drm13qdN.js","assets/SiteInstalling-DjrX42BS.js","assets/SectionCard-DhC64oIK.js","assets/SiteInstalling-NWoc0gYG.css","assets/SiteCharts-DVJqYVEC.js","assets/BarChart-CKiFk9xA.js","assets/SiteDatabase-Dx4q4cw1.js","assets/SiteConfig-DxXh9b7D.js","assets/SiteSettings-Dt00Bs8f.js","assets/SiteConsole-u-jqPzRq.js","assets/SiteJobs-DoIrqWDm.js","assets/SiteLogs-Boe1Q626.js","assets/SiteAutoUpdate-DJm-m7XT.js","assets/SiteMonitorsList-BY5fRPYq.js","assets/Report-BW6SUxnb.js","assets/SiteRequestLogs-BHeGtHzu.js","assets/SiteBinaryLogs-BJ_J5rUd.js","assets/SiteMariaDBProcessList-f23vKvNR.js","assets/SiteMariaDBSlowQueries-PNCXPHY9.js","assets/SiteDeadlockReport-B8RplR6d.js","assets/Servers-khvSxMY-.js","assets/NewServer-DLuVFRSU.js","assets/ServerPlansTable-BTTk3ODU.js","assets/info-BXlf1Uhm.js","assets/Server-2gDzeoDd.js","assets/ServerOverview-Bw0l8xn-.js","assets/ServerAnalytics-Bx5M123k.js","assets/ServerBenches-BaEI9bJV.js","assets/ServerJobs-Bp0W7tWx.js","assets/ServerPlays-CfxO0Lbf.js","assets/ServerInstall-BFjF9OJE.js","assets/ServerSettings-MMXijpOs.js","assets/NewSelfHostedServer-Bh1cALgY.js","assets/InstallMarketplaceApp-CXyDm_Bq.js","assets/Marketplace-DS-RBB8Y.js","assets/MarketplacePublisherProfile-CT9oDJIS.js","assets/MarketplaceApps-MlEmKpjJ.js","assets/MarketplacePayouts-BoCilKXX.js","assets/NewMarketplaceApp-BN2XTMX0.js","assets/MarketplaceApp-Ct1SVF2K.js","assets/MarketplaceAppOverview-5RPRJeiy.js","assets/MarketplaceAppReview-CId88Wfj.js","assets/MarketplaceAppAnalytics-Cp-9GaRx.js","assets/MarketplaceAppDeployment-BZQr0V1S.js","assets/MarketplaceAppSubscriptions-2futfIAI.js","assets/MarketplaceAppPricing-_V3gpldP.js","assets/Spaces-D4WsVv1z.js","assets/NewCodeServer-p2feJy4-.js","assets/CodeServer-Du8T5HCY.js","assets/CodeServerOverview-PeC51BGI.js","assets/CodeServerJobs-CYEKsnZ7.js","assets/AppSiteSetup-CH0uDJfE.js","assets/Progress.vue_vue_type_script_setup_true_lang-DREy3z5o.js","assets/AppSiteSetup-Bp0qI-ew.css","assets/Subscription-D7qtycri.js","assets/AccountBilling-Cz9CuIh3.js","assets/BillingOverview-54OxyJC-.js","assets/InvoiceUsageTable-BfGDi_RQ.js","assets/PaymentMethods-DscSrwJj.js","assets/FinalizeInvoicesDialog-A1jpR8yn.js","assets/AccountBillingPayments-JhifCCBq.js","assets/AccountBillingCreditBalance-BPlVV6GY.js","assets/AccountSettings-CD-F1vxG.js","assets/ProfileSettings-DSXXCA5F.js","assets/TeamSettings-CR36DDCZ.js","assets/DeveloperSettings--qzR65sh.js","assets/PartnerSettings-C0tzpvaQ.js","assets/Servers-C3SrZfZy.js","assets/Security-BqQVSxF-.js","assets/SecurityOverview-BjX1jSWr.js","assets/Card-ihLdqqkA.js","assets/SecurityUpdates-BYPXWzMe.js","assets/InfoSection-u7K-4CgM.js","assets/InfoSection-BhZBwKzR.css","assets/SSHSession-BmeZ1zyh.js","assets/404-Boo0CW9l.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=FileUploader-C1pIUjCt.js.map
