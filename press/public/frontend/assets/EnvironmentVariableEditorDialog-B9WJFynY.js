var _=(t,e,o)=>new Promise((f,n)=>{var c=a=>{try{r(o.next(a))}catch(s){n(s)}},l=a=>{try{r(o.throw(a))}catch(s){n(s)}},r=a=>a.done?f(a.value):Promise.resolve(a.value).then(c,l);r((o=o.apply(t,e)).next())});import{x as y,a9 as b,a8 as g,ar as h,h as V,o as E,w,j as m,A as u,aA as k,av as D}from"./main-Dpl-JOF2.js";import{_ as x}from"./info-BXlf1Uhm.js";(function(){try{var t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="2dac3c98-7303-4d87-aeb3-aaf28ee8224c",t._sentryDebugIdIdentifier="sentry-dbid-2dac3c98-7303-4d87-aeb3-aaf28ee8224c")}catch(o){}})();{var d=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};d._sentryModuleMetadata=d._sentryModuleMetadata||{},d._sentryModuleMetadata[new Error().stack]=Object.assign({},d._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const R={name:"EnvironmentVariableEditorDialog",props:["group","environment_variable"],components:{Autocomplete:h,FormControl:g,ErrorMessage:b},data(){return{docResource:null,showDialog:!0,key:null,value:null,error:null}},mounted(){return _(this,null,function*(){this.environment_variable&&(this.key=this.environment_variable.key,this.value=this.environment_variable.value)})},methods:{updateEnvironmentVariable(){if(this.group&&(this.docResource=D("Release Group",this.group)),!this.docResource)return;let t=this.key,e=this.value,o={[t]:e};this.docResource.updateEnvironmentVariable.submit({environment_variables:o},{onSuccess:()=>{this.$emit("success"),this.showDialog=!1}}),this.error=this.docResource.updateEnvironmentVariable.error}}},A={class:"space-y-4"},C={class:"flex items-center"};function I(t,e,o,f,n,c){var p,v;const l=g,r=b,a=x,s=k;return E(),V(s,{options:{title:o.environment_variable?"Edit Environment Variable":"Add Environment Variable",actions:[{label:o.environment_variable?"Edit Environment Variable":"Add Environment Variable",variant:"solid",loading:(v=(p=n.docResource)==null?void 0:p.updateEnvironmentVariable)==null?void 0:v.loading,onClick:c.updateEnvironmentVariable}]},modelValue:n.showDialog,"onUpdate:modelValue":e[2]||(e[2]=i=>n.showDialog=i)},{"body-content":w(()=>[m("div",A,[u(l,{type:"text",label:"Key",modelValue:n.key,"onUpdate:modelValue":e[0]||(e[0]=i=>n.key=i),autocomplete:"off"},null,8,["modelValue"]),u(l,{label:"Value",modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=i=>n.value=i),autocomplete:"off"},null,8,["modelValue"]),u(r,{class:"mt-2",message:n.error},null,8,["message"]),m("div",C,[u(a,{class:"mr-2 text-gray-500"}),e[3]||(e[3]=m("div",{class:"text-sm text-gray-600"}," Environment variable changes will only be reflected in the newer deploys. ",-1))])])]),_:1},8,["options","modelValue"])}const j=y(R,[["render",I]]);export{j as default};
//# sourceMappingURL=EnvironmentVariableEditorDialog-B9WJFynY.js.map
