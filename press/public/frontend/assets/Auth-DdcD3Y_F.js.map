{"version":3,"file":"Auth-DdcD3Y_F.js","sources":["../../../../dashboard/src/views/auth/Auth.vue"],"sourcesContent":["<template>\n\t<div class=\"h-screen bg-gray-50\">\n\t\t<LoginBox :class=\"{ 'pointer-events-none': $resources.signup.loading }\">\n\t\t\t<div v-if=\"!(signupEmailSent || resetPasswordEmailSent)\">\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"hasForgotPassword || saasProduct\"\n\t\t\t\t\tclass=\"mb-8 text-center text-p-base text-gray-900\"\n\t\t\t\t>\n\t\t\t\t\t<div v-if=\"hasForgotPassword\">Reset password</div>\n\t\t\t\t\t<div v-else-if=\"saasProduct\">\n\t\t\t\t\t\tSign in to Easytouch Cloud to start using\n\t\t\t\t\t\t<span class=\"font-semibold\">{{ saasProduct.title }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<form class=\"flex flex-col\" @submit.prevent=\"submitForm\">\n\t\t\t\t\t<template v-if=\"hasForgotPassword\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\tplaceholder=\"johndoe@mail.com\"\n\t\t\t\t\t\t\tautocomplete=\"email\"\n\t\t\t\t\t\t\tv-model=\"email\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\tclass=\"mt-2 text-sm\"\n\t\t\t\t\t\t\tv-if=\"hasForgotPassword\"\n\t\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\t\tname: 'Login',\n\t\t\t\t\t\t\t\tquery: { ...$route.query, forgot: undefined }\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tI remember my password\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclass=\"mt-4\"\n\t\t\t\t\t\t\t:loading=\"$resources.resetPassword.loading\"\n\t\t\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tReset Password\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else-if=\"isLogin\">\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\tplaceholder=\"johndoe@mail.com\"\n\t\t\t\t\t\t\tautocomplete=\"email\"\n\t\t\t\t\t\t\tv-model=\"email\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tclass=\"mt-4\"\n\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tplaceholder=\"•••••\"\n\t\t\t\t\t\t\tv-model=\"password\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tautocomplete=\"current-password\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div class=\"mt-2\" v-if=\"isLogin\">\n\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\tclass=\"text-sm\"\n\t\t\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\t\t\tname: 'Login',\n\t\t\t\t\t\t\t\t\tquery: { ...$route.query, forgot: 1 }\n\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tForgot Password?\n\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Button class=\"mt-4\" variant=\"solid\"> Log in with email </Button>\n\t\t\t\t\t\t<ErrorMessage class=\"mt-2\" :message=\"loginError\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\tplaceholder=\"johndoe@mail.com\"\n\t\t\t\t\t\t\tautocomplete=\"email\"\n\t\t\t\t\t\t\tv-model=\"email\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclass=\"mt-2\"\n\t\t\t\t\t\t\t:loading=\"$resources.signup.loading\"\n\t\t\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSign up with email\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</template>\n\t\t\t\t\t<ErrorMessage class=\"mt-2\" :message=\"$resources.signup.error\" />\n\t\t\t\t</form>\n\t\t\t\t<div class=\"flex flex-col\" v-if=\"!hasForgotPassword\">\n\t\t\t\t\t<div class=\"-mb-2 mt-6 border-t text-center\">\n\t\t\t\t\t\t<div class=\"-translate-y-1/2 transform\">\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclass=\"relative bg-white px-2 text-sm font-medium leading-8 text-gray-800\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tOr continue with\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\t\tv-if=\"$resources.signupSettings.data?.enable_google_oauth === 1\"\n\t\t\t\t\t\t:loading=\"$resources.googleLogin.loading\"\n\t\t\t\t\t\t@click=\"$resources.googleLogin.submit()\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t<GoogleIconSolid class=\"w-4\" />\n\t\t\t\t\t\t\t<span class=\"ml-2\">Google</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"mt-6 text-center\"\n\t\t\t\t\tv-if=\"!(signupEmailSent || resetPasswordEmailSent)\"\n\t\t\t\t>\n\t\t\t\t\t<router-link\n\t\t\t\t\t\tclass=\"text-center text-base font-medium\"\n\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\tname: $route.name == 'Login' ? 'Signup' : 'Login',\n\t\t\t\t\t\t\tquery: { ...$route.query, forgot: undefined }\n\t\t\t\t\t\t}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t$route.name == 'Login'\n\t\t\t\t\t\t\t\t? 'New member? Create a new account.'\n\t\t\t\t\t\t\t\t: 'Already have an account? Log in.'\n\t\t\t\t\t\t}}\n\t\t\t\t\t</router-link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"text-p-base text-gray-700\" v-else>\n\t\t\t\t<p v-if=\"signupEmailSent\">\n\t\t\t\t\tWe have sent an email to\n\t\t\t\t\t<span class=\"font-semibold\">{{ email }}</span\n\t\t\t\t\t>. Please click on the link received to verify your email and set up\n\t\t\t\t\tyour account.\n\t\t\t\t</p>\n\t\t\t\t<p v-if=\"resetPasswordEmailSent\">\n\t\t\t\t\tWe have sent an email to <span class=\"font-semibold\">{{ email }}</span\n\t\t\t\t\t>. Please click on the link received to reset your password.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</LoginBox>\n\t</div>\n</template>\n\n<script>\nimport LoginBox from '@/views/partials/LoginBox.vue';\nimport GoogleIconSolid from '@/components/icons/GoogleIconSolid.vue';\n\nexport default {\n\tname: 'Signup',\n\tcomponents: {\n\t\tLoginBox,\n\t\tGoogleIconSolid\n\t},\n\tdata() {\n\t\treturn {\n\t\t\temail: null,\n\t\t\tpassword: null,\n\t\t\tsignupEmailSent: false,\n\t\t\tresetPasswordEmailSent: false,\n\t\t\tloginError: null\n\t\t};\n\t},\n\tresources: {\n\t\tsignup() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.account.signup',\n\t\t\t\tparams: {\n\t\t\t\t\temail: this.email,\n\t\t\t\t\treferrer: this.getReferrerIfAny(),\n\t\t\t\t\tproduct: this.$route.query.product\n\t\t\t\t},\n\t\t\t\tonSuccess() {\n\t\t\t\t\tthis.signupEmailSent = true;\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tgoogleLogin() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.oauth.google_login',\n\t\t\t\tonSuccess(r) {\n\t\t\t\t\twindow.location = r;\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tresetPassword() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.account.send_reset_password_email',\n\t\t\t\tparams: {\n\t\t\t\t\temail: this.email\n\t\t\t\t},\n\t\t\t\tonSuccess() {\n\t\t\t\t\tthis.resetPasswordEmailSent = true;\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tsignupSettings() {\n\t\t\treturn {\n\t\t\t\turl: 'press.api.account.signup_settings',\n\t\t\t\tparams: {\n\t\t\t\t\tproduct: this.$route.query.product\n\t\t\t\t},\n\t\t\t\tauto: true\n\t\t\t};\n\t\t}\n\t},\n\tmethods: {\n\t\tasync submitForm() {\n\t\t\tif (this.isLogin) {\n\t\t\t\tif (this.email && this.password) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait this.$auth.login(this.email, this.password);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\tthis.loginError = error.messages.join('\\n');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (this.hasForgotPassword) {\n\t\t\t\tthis.$resources.resetPassword.submit();\n\t\t\t} else {\n\t\t\t\tthis.$resources.signup.submit();\n\t\t\t}\n\t\t},\n\t\tgetReferrerIfAny() {\n\t\t\tconst params = location.search;\n\t\t\tconst searchParams = new URLSearchParams(params);\n\t\t\treturn searchParams.get('referrer');\n\t\t}\n\t},\n\tcomputed: {\n\t\tsaasProduct() {\n\t\t\treturn this.$resources.signupSettings.data?.product_trial;\n\t\t},\n\t\tisLogin() {\n\t\t\treturn this.$route.name == 'Login' && !this.$route.query.forgot;\n\t\t},\n\t\thasForgotPassword() {\n\t\t\treturn this.$route.name == 'Login' && this.$route.query.forgot;\n\t\t}\n\t}\n};\n</script>\n"],"names":["_sfc_main","LoginBox","GoogleIconSolid","r","__async","error","params","_hoisted_1","_hoisted_6","_hoisted_9","_hoisted_13","_hoisted_15","_openBlock","_createElementBlock","_normalizeClass","_ctx","_withCtx","$data","_hoisted_11","_hoisted_12","_cache","_createTextVNode","_createCommentVNode","_hoisted_14","_hoisted_2","$options","_hoisted_3","_hoisted_5","_createElementVNode","_toDisplayString","_Fragment","$event","_hoisted_7","__spreadProps","__spreadValues","_hoisted_8","_a","_hoisted_10"],"mappings":"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"}