import{_ as b}from"./LineChart-BDXlcfBY.js";import{D as p}from"./datetime-PXpIdgFA.js";import{x as g,q as y,u as n,o,j as t,h,t as r,A as _}from"./main-Dpl-JOF2.js";import"./Card-BCzTSeNK.js";import"./tailwind.theme-XeumNAwU.js";(function(){try{var s=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},e=new Error().stack;e&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[e]="01cd1528-a1b0-4666-ac4e-db7898222d1c",s._sentryDebugIdIdentifier="sentry-dbid-01cd1528-a1b0-4666-ac4e-db7898222d1c")}catch(m){}})();{var i=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};i._sentryModuleMetadata=i._sentryModuleMetadata||{},i._sentryModuleMetadata[new Error().stack]=Object.assign({},i._sentryModuleMetadata[new Error().stack],{"_sentryBundlerPluginAppKey:press-dashboard":!0})}const f={name:"MarketplaceAppAnalytics",props:{app:String},components:{LineChart:b},methods:{formatDate(s){return s.map(e=>e.date)},getChartOptions(s){return{axisOptions:{xIsSeries:!0,shortenYAxisNumbers:1},lineOptions:{hideDots:!0,regionFill:!0},tooltipOptions:{formatTooltipX:e=>p.fromISO(e).toLocaleString(p.DATE_MED),formatTooltipY:s}}},mapChartAnalytics(s){if(s)return{datasets:[s.map(e=>[+new Date(e.date),e.value])]}}},resources:{analytics(){return{url:"press.api.marketplace.analytics",auto:!0,params:{name:this.app}}},plausible_analytics(){return{url:"press.api.analytics.plausible_analytics",auto:!0,params:{name:this.app}}}},computed:{installAnalytics(){return!this.$resources.analytics.loading&&this.$resources.analytics.data?this.$resources.analytics.data:{}},totalEarnings(){return this.installAnalytics.total_payout.inr_amount?this.$team.doc.currency==="INR"?this.installAnalytics.total_payout.inr_amount+this.installAnalytics.total_payout.usd_amount*82:this.installAnalytics.total_payout.inr_amount/82+this.installAnalytics.total_payout.usd_amount:0}}},v={key:0},w={class:"col-span-2 mb-5 rounded-md border"},A={class:"grid grid-cols-2 lg:grid-cols-5"},k={class:"border-b border-r p-5 lg:border-b-0"},x={class:"mt-2 flex items-start justify-between"},$={class:"leading-4"},D={class:"text-base text-gray-900"},I={class:"border-b border-r p-5 lg:border-b-0"},T={class:"mt-2 flex items-start justify-between"},C={class:"leading-4"},E={class:"text-base text-gray-900"},j={class:"border-b border-r p-5 lg:border-b-0"},B={class:"mt-2 flex items-start justify-between"},O={class:"leading-4"},S={class:"text-base text-gray-900"},V={class:"border-b border-r p-5 lg:border-b-0"},M={class:"mt-2 flex items-start justify-between"},N={class:"leading-4"},q={class:"text-base text-gray-900"},L={class:"border-b border-r p-5 lg:border-b-0"},P={class:"mt-2 flex items-start justify-between"},W={class:"leading-4"},U={class:"text-base text-gray-900"},Y={key:0,class:"grid grid-cols-1 gap-5 lg:grid-cols-2"};function F(s,e,m,K,R,a){var d,c,u;const l=b;return s.$resources.analytics.data?(o(),y("div",v,[t("div",w,[t("div",A,[t("div",k,[e[0]||(e[0]=t("div",{class:"text-base text-gray-700"},"Total Installs",-1)),t("div",x,[t("div",null,[t("div",$,[t("span",D,r(a.installAnalytics.total_installs),1)])])])]),t("div",I,[e[1]||(e[1]=t("div",{class:"text-base text-gray-700"},"Active Sites",-1)),t("div",T,[t("div",null,[t("div",C,[t("span",E,r(a.installAnalytics.installs_active_sites),1)])])])]),t("div",j,[e[2]||(e[2]=t("div",{class:"text-base text-gray-700"},"Active Bench Groups",-1)),t("div",B,[t("div",null,[t("div",O,[t("span",S,r(a.installAnalytics.installs_active_benches),1)])])])]),t("div",V,[e[3]||(e[3]=t("div",{class:"text-base text-gray-700"},"Weekly Installs",-1)),t("div",M,[t("div",null,[t("div",N,[t("span",q,r(a.installAnalytics.installs_last_week),1)])])])]),t("div",L,[e[4]||(e[4]=t("div",{class:"text-base text-gray-700"},"Total Earnings",-1)),t("div",P,[t("div",null,[t("div",W,[t("span",U,r(s.$format.userCurrency(a.totalEarnings)),1)])])])])])]),s.$resources.plausible_analytics.data?(o(),y("div",Y,[_(l,{title:"Pageviews",type:"time",key:"Page Views",data:a.mapChartAnalytics(((d=this.$resources.plausible_analytics.data)==null?void 0:d.pageviews)||[]),unit:"views",chartTheme:[s.$theme.colors.purple[500]],loading:s.$resources.plausible_analytics.loading,error:s.$resources.plausible_analytics.error},null,8,["data","chartTheme","loading","error"]),_(l,{title:"Unique Visitors",type:"time",key:"Unique Visitors",data:a.mapChartAnalytics(((c=this.$resources.plausible_analytics.data)==null?void 0:c.visitors)||[]),unit:"visitors",chartTheme:[s.$theme.colors.green[500]],loading:s.$resources.plausible_analytics.loading,error:s.$resources.plausible_analytics.error},null,8,["data","chartTheme","loading","error"])])):n("",!0),s.$resources.plausible_analytics.data?(o(),h(l,{class:"mt-5",title:"Weekly Installs",type:"time",key:"Weekly Installs",data:a.mapChartAnalytics(((u=this.$resources.plausible_analytics.data)==null?void 0:u.weekly_installs)||[]),unit:"installs",chartTheme:[s.$theme.colors.yellow[500]],loading:s.$resources.plausible_analytics.loading,error:s.$resources.plausible_analytics.error},null,8,["data","chartTheme","loading","error"])):n("",!0)])):n("",!0)}const Z=g(f,[["render",F]]);export{Z as default};
//# sourceMappingURL=MarketplaceAppAnalytics-Cya5KQgx.js.map
